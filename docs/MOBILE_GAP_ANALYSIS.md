# Mobile Technical Gap Analysis & Implementation Strategy

**Status:** Verified & Updated
**Date:** 17/12/2025
**Scope:** Comparison between `apps/web` (Feature Complete) and `apps/mobile` (Companion App).

## 1. Executive Summary

The current Mobile Application (`apps/mobile`) functions primarily as a task execution companion. It lacks core Project Management capabilities, advanced Task features (Subtasks, Comments), and productivity tools (Timer, Analytics) that are present in the Web application.

To reach feature parity, a significant development effort is required, primarily focused on porting `apps/web` component logic to React Native.

## 2. Parity Matrix & Technical Audit

| Feature | Web Status | Mobile Status | Gap Description | Technical Effort | Key Dependencies |
| :--- | :---: | :---: | :--- | :--- | :--- |
| **Projects (CRUD)** | âœ… Complete | âœ… Complete | Full CRUD implemented (List, Create, Details). | ðŸŸ¢ Done | `useProjects` |
| **Task: Details** | âœ… Complete | âš ï¸ Partial | Missing **Subtasks** (visual hierarchy), **Comments**, and **Attachments**. | ðŸŸ  Medium | `useTask`, `SubtaskList` (adapt) |
| **Task: Views** | âœ… Kanban/List | âš ï¸ List Only | Missing Kanban Board. Calendar view exists but is basic. | ðŸ”´ High | Drag & Drop Library |
| **Timer / Pomodoro** | âœ… Complete | âŒ **Missing** | No timer functionality. Codebase completely absent in mobile. | ðŸŸ  Medium | `TimerContext`, Background Service? |
| **Analytics** | âœ… Complete | âŒ **Missing** | No charts or productivity stats. | ðŸŸ¢ Low | `Recharts` (Web) -> `react-native-chart-kit` |
| **Goals (OKR)** | âœ… Complete | âœ… Complete | Good parity in `screens/(internal)/goals`. | âšª None | `useObjectives` |
| **Workspace** | âœ… Complete | âš ï¸ Selection Only | Cannot create/edit workspaces or manage members. | ðŸŸ¢ Low | `useWorkspaces` |

## 3. Detailed Technical Implementation Strategy

### Phase 1: Project Management (Highest Priority)
**Goal:** Allow users to manage projects on the go.

*   **New Screens Required:**
    *   `screens/(internal)/projects/index.tsx`: List of projects (Card view).
    *   `screens/(internal)/projects/[id].tsx`: Project Details (Stats, Tasks in project).
    *   `screens/(internal)/projects/create.tsx` or Modal: Create/Edit Project.
*   **Components to Adapt:**
    *   `apps/web/src/components/project/project-card.tsx` -> `apps/mobile/components/project/project-card.component.tsx`.
    *   Reuse existing `useProjects` hook (already works in mobile).

### Phase 2: Task Checklists & Communication (Medium Priority)
**Goal:** Enable better collaboration and breakdown of work.

*   **Subtasks:**
    *   Port logic from `apps/web/src/components/task/subtask-list.tsx`.
    *   Create `MobileSubtaskItem` component with checkbox and indent.
    *   Update `TaskScreen` (`task.tsx`) to render this list.
*   **Comments:**
    *   Port `apps/web/src/components/task/comment-thread.tsx`.
    *   Implement a simple FlatList for comments + InputField at bottom.
    *   Requires `useComments` hook (verify existence in shared package).

### Phase 3: Pomodoro Timer (Productivity)
**Goal:** Use the phone as a focus timer.

*   **Architecture:**
    *   Need a global `TimerProvider` in `apps/mobile/app/providers` (similar to Web).
    *   **Challenge:** Background execution on Mobile. Might need minimal implementation (foreground only initially) or `expo-background-fetch` for complete parity.
*   **UI:**
    *   Floating Timer Widget or dedicated Tab?
    *   Recommendation: Add Timer Floating Action Button (FAB) or Header icon.

### Phase 4: Analytics & Kanban
**Goal:** Visual management.

*   **Analytics:** Low hanging fruit. Add a simplified "Stats" card to Home Screen using `apps/desktop` or `web` aggregations.
*   **Kanban:** High complexity for mobile (screen real estate). Defer to last.

## 4. Immediate Action Plan

To address the "Need to make the gap analysis" request, the following Implementation Plan is proposed:

1.  **Scaffold Project Screens** (`apps/mobile/app/screens/(internal)/projects/`).
2.  **Implement Project List** using `useProjects`.
3.  **Implement Project Details** listing tasks filtered by project.
4.  **Refactor Task Detail** to support Subtasks (Checklist mode only initially).

---
*Generated by Antigravity Agent on 17/12/2025*
