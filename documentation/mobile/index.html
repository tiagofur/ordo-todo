<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mobile App - Ordo-Todo Documentation</title>
    <link rel="stylesheet" href="../styles.css">
</head>
<body>
    <header>
        <div class="container">
            <h1>ğŸ“± Mobile App</h1>
            <p>React Native + Expo - iOS & Android</p>
        </div>
    </header>

    <nav>
        <div class="container">
            <ul>
                <li><a href="../index.html">ğŸ  Inicio</a></li>
                <li><a href="../core/index.html">ğŸ“¦ Core</a></li>
                <li><a href="../web/index.html">ğŸŒ Web</a></li>
                <li><a href="index.html" class="active">ğŸ“± Mobile</a></li>
                <li><a href="../desktop/index.html">ğŸ’» Desktop</a></li>
                <li><a href="../backend/index.html">âš™ï¸ Backend</a></li>
            </ul>
        </div>
    </nav>

    <main>
        <div class="container">
            <!-- Overview -->
            <section class="section">
                <h2>ğŸ“– DescripciÃ³n General</h2>
                <p>La aplicaciÃ³n mÃ³vil de Ordo-Todo estÃ¡ construida con <strong>React Native</strong> y <strong>Expo</strong>, compartiendo la misma lÃ³gica de negocio que la Web App gracias al <code>@ordo-todo/core</code> package.</p>
                
                <div class="card" style="background: #F59E0B20; border-color: #F59E0B;">
                    <h3>âš ï¸ Estado Actual</h3>
                    <p><span class="badge warning">En Desarrollo</span></p>
                    <p>La app mÃ³vil estÃ¡ en fase de desarrollo activo. La estructura base estÃ¡ lista y puede aprovechar todo el cÃ³digo del Core Package.</p>
                </div>

                <h3>ğŸ› ï¸ Stack TecnolÃ³gico</h3>
                <ul style="margin-left: 2rem; color: var(--text-muted);">
                    <li>âš›ï¸ <strong>React Native</strong> - Framework mÃ³vil multiplataforma</li>
                    <li>ğŸ“¦ <strong>Expo</strong> - Toolchain y SDK</li>
                    <li>ğŸ“˜ <strong>TypeScript</strong> - Type safety completo</li>
                    <li>ğŸ¨ <strong>NativeWind</strong> - Tailwind CSS para React Native</li>
                    <li>ğŸ”„ <strong>TanStack Query</strong> - Data fetching y caching</li>
                    <li>ğŸ—ºï¸ <strong>React Navigation</strong> - NavegaciÃ³n nativa</li>
                    <li>ğŸ’¾ <strong>AsyncStorage</strong> - Almacenamiento local</li>
                    <li>ğŸ“¦ <strong>@ordo-todo/core</strong> - LÃ³gica de negocio compartida</li>
                </ul>
            </section>

            <!-- Project Structure -->
            <section class="section">
                <h2>ğŸ“ Estructura del Proyecto</h2>
                <pre><code>apps/mobile/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ screens/              # Pantallas de la app
â”‚   â”‚   â”œâ”€â”€ Auth/            # Login, Register
â”‚   â”‚   â”œâ”€â”€ Dashboard/       # Dashboard principal
â”‚   â”‚   â”œâ”€â”€ Workspaces/      # GestiÃ³n de workspaces
â”‚   â”‚   â”œâ”€â”€ Projects/        # GestiÃ³n de proyectos
â”‚   â”‚   â”œâ”€â”€ Tasks/           # GestiÃ³n de tareas
â”‚   â”‚   â”œâ”€â”€ Timer/           # Pomodoro Timer
â”‚   â”‚   â””â”€â”€ Analytics/       # Analytics y mÃ©tricas
â”‚   â”œâ”€â”€ components/          # Componentes reutilizables
â”‚   â”‚   â”œâ”€â”€ ui/             # Componentes base
â”‚   â”‚   â”œâ”€â”€ workspace/      # Componentes de workspace
â”‚   â”‚   â”œâ”€â”€ project/        # Componentes de proyecto
â”‚   â”‚   â”œâ”€â”€ task/           # Componentes de tarea
â”‚   â”‚   â””â”€â”€ timer/          # Componentes del timer
â”‚   â”œâ”€â”€ navigation/          # ConfiguraciÃ³n de navegaciÃ³n
â”‚   â”œâ”€â”€ hooks/              # Custom React Hooks
â”‚   â”œâ”€â”€ services/           # API client y servicios
â”‚   â”œâ”€â”€ store/              # State management
â”‚   â””â”€â”€ utils/              # Utilidades
â”œâ”€â”€ app.json                # ConfiguraciÃ³n de Expo
â””â”€â”€ package.json</code></pre>
            </section>

            <!-- Getting Started -->
            <section class="section">
                <h2>ğŸš€ Inicio RÃ¡pido</h2>
                
                <h3>1. InstalaciÃ³n</h3>
                <pre><code>cd apps/mobile
npm install</code></pre>

                <h3>2. Configurar Variables de Entorno</h3>
                <pre><code># .env
API_URL=http://localhost:3001
# Para desarrollo en dispositivo fÃ­sico, usa la IP de tu mÃ¡quina
# API_URL=http://192.168.1.100:3001</code></pre>

                <h3>3. Ejecutar en Desarrollo</h3>
                <pre><code># Iniciar Expo
npm run start

# Ejecutar en iOS (requiere Mac)
npm run ios

# Ejecutar en Android
npm run android

# Ejecutar en Web (para testing)
npm run web</code></pre>

                <h3>4. Build de ProducciÃ³n</h3>
                <pre><code># Build para iOS
eas build --platform ios

# Build para Android
eas build --platform android</code></pre>
            </section>

            <!-- Features -->
            <section class="section">
                <h2>âœ¨ CaracterÃ­sticas Planificadas</h2>
                
                <div class="cards-grid">
                    <div class="card">
                        <h3>ğŸ” AutenticaciÃ³n</h3>
                        <p>Login con email/password y OAuth (Google, GitHub)</p>
                        <span class="badge warning">Pendiente</span>
                    </div>
                    <div class="card">
                        <h3>ğŸ“‹ GestiÃ³n de Tareas</h3>
                        <p>Crear, editar, completar tareas con prioridades y estados</p>
                        <span class="badge warning">Pendiente</span>
                    </div>
                    <div class="card">
                        <h3>â±ï¸ Timer Pomodoro</h3>
                        <p>Timer con notificaciones nativas y vibraciÃ³n</p>
                        <span class="badge warning">Pendiente</span>
                    </div>
                    <div class="card">
                        <h3>ğŸ“Š Analytics</h3>
                        <p>MÃ©tricas de productividad y grÃ¡ficos</p>
                        <span class="badge warning">Pendiente</span>
                    </div>
                    <div class="card">
                        <h3>ğŸ’¾ Modo Offline</h3>
                        <p>SincronizaciÃ³n automÃ¡tica cuando hay conexiÃ³n</p>
                        <span class="badge warning">Pendiente</span>
                    </div>
                    <div class="card">
                        <h3>ğŸ”” Notificaciones Push</h3>
                        <p>Recordatorios de tareas y timer</p>
                        <span class="badge warning">Pendiente</span>
                    </div>
                </div>
            </section>

            <!-- Using Core Package -->
            <section class="section">
                <h2>ğŸ“¦ Usando el Core Package</h2>
                <p>La app mÃ³vil puede aprovechar <strong>todo el cÃ³digo del Core Package</strong> sin modificaciones:</p>

                <h3>âœ… Validaciones</h3>
                <pre><code>import { createTaskSchema } from '@ordo-todo/core';
import { zodResolver } from '@hookform/resolvers/zod';
import { useForm } from 'react-hook-form';

function CreateTaskScreen() {
  const form = useForm({
    resolver: zodResolver(createTaskSchema),
  });

  // Misma validaciÃ³n que en Web!
}</code></pre>

                <h3>âœ… Constantes</h3>
                <pre><code>import {
  PROJECT_COLORS,
  TASK_PRIORITIES,
  TIMER_MODES,
} from '@ordo-todo/core';

// Usar en componentes nativos
const color = PROJECT_COLORS[0];
const priority = TASK_PRIORITIES.HIGH;</code></pre>

                <h3>âœ… Utilidades</h3>
                <pre><code>import {
  formatDate,
  formatDuration,
  calculateProgress,
  isOverdue,
} from '@ordo-todo/core';

// Mismas funciones que en Web!
const formattedDate = formatDate(task.dueDate);
const progress = calculateProgress(completed, total);</code></pre>
            </section>

            <!-- Native Features -->
            <section class="section">
                <h2>ğŸ“± CaracterÃ­sticas Nativas</h2>
                
                <h3>ğŸ”” Notificaciones Locales</h3>
                <pre><code>import * as Notifications from 'expo-notifications';

// Configurar notificaciÃ³n del timer
await Notifications.scheduleNotificationAsync({
  content: {
    title: "Pomodoro Completado!",
    body: "Tiempo de tomar un descanso",
    sound: true,
    vibrate: [0, 250, 250, 250],
  },
  trigger: null, // Inmediato
});</code></pre>

                <h3>ğŸ’¾ Almacenamiento Local</h3>
                <pre><code>import AsyncStorage from '@react-native-async-storage/async-storage';

// Guardar configuraciÃ³n del timer
await AsyncStorage.setItem('timerSettings', JSON.stringify(settings));

// Recuperar configuraciÃ³n
const settings = JSON.parse(await AsyncStorage.getItem('timerSettings'));</code></pre>

                <h3>ğŸ“³ VibraciÃ³n</h3>
                <pre><code>import { Vibration } from 'react-native';

// Vibrar cuando el timer termina
Vibration.vibrate([0, 500, 200, 500]);</code></pre>
            </section>

            <!-- Development Guide -->
            <section class="section">
                <h2>ğŸ› ï¸ GuÃ­a de Desarrollo</h2>
                
                <h3>1. Crear una Nueva Pantalla</h3>
                <pre><code>// src/screens/Tasks/TaskListScreen.tsx
import { View, FlatList } from 'react-native';
import { useTasks } from '@/services/api';
import { TaskCard } from '@/components/task';

export function TaskListScreen({ route }) {
  const { projectId } = route.params;
  const { data: tasks, isLoading } = useTasks({ projectId });

  return (
    &lt;View&gt;
      &lt;FlatList
        data={tasks}
        renderItem={({ item }) =&gt; &lt;TaskCard task={item} /&gt;}
        keyExtractor={(item) =&gt; item.id}
      /&gt;
    &lt;/View&gt;
  );
}</code></pre>

                <h3>2. Agregar NavegaciÃ³n</h3>
                <pre><code>// src/navigation/AppNavigator.tsx
import { createNativeStackNavigator } from '@react-navigation/native-stack';

const Stack = createNativeStackNavigator();

export function AppNavigator() {
  return (
    &lt;Stack.Navigator&gt;
      &lt;Stack.Screen name="Dashboard" component={DashboardScreen} /&gt;
      &lt;Stack.Screen name="TaskList" component={TaskListScreen} /&gt;
      &lt;Stack.Screen name="TaskDetail" component={TaskDetailScreen} /&gt;
    &lt;/Stack.Navigator&gt;
  );
}</code></pre>

                <h3>3. Usar el API Client</h3>
                <pre><code>// src/services/api.ts
import { useQuery, useMutation } from '@tanstack/react-query';
import { apiClient } from '@ordo-todo/api-client';

export function useTasks(params) {
  return useQuery({
    queryKey: ['tasks', params],
    queryFn: () => apiClient.tasks.getAll(params),
  });
}

export function useCreateTask() {
  return useMutation({
    mutationFn: (data) => apiClient.tasks.create(data),
  });
}</code></pre>
            </section>

            <!-- Best Practices -->
            <section class="section">
                <h2>ğŸ’¡ Mejores PrÃ¡cticas</h2>
                
                <h3>1. Reutilizar lÃ³gica del Core</h3>
                <pre><code>// âœ… Usar validaciones del core
import { createTaskSchema } from '@ordo-todo/core';

// âœ… Usar constantes del core
import { TASK_PRIORITIES } from '@ordo-todo/core';

// âœ… Usar utilidades del core
import { formatDate, calculateProgress } from '@ordo-todo/core';</code></pre>

                <h3>2. Optimizar para Performance</h3>
                <pre><code>// âœ… Usar FlatList para listas largas
&lt;FlatList data={tasks} ... /&gt;

// âœ… Usar React.memo para componentes pesados
export const TaskCard = React.memo(({ task }) =&gt; { ... });

// âœ… Usar useMemo para cÃ¡lculos costosos
const sortedTasks = useMemo(() =&gt; sortTasks(tasks), [tasks]);</code></pre>

                <h3>3. Manejar Estados de Carga</h3>
                <pre><code>function TaskListScreen() {
  const { data, isLoading, error } = useTasks();

  if (isLoading) return &lt;LoadingSpinner /&gt;;
  if (error) return &lt;ErrorMessage error={error} /&gt;;
  
  return &lt;TaskList tasks={data} /&gt;;
}</code></pre>
            </section>

            <!-- Roadmap -->
            <section class="section">
                <h2>ğŸ—ºï¸ Roadmap</h2>
                
                <h3>Fase 1: MVP (4-6 semanas)</h3>
                <ul style="margin-left: 2rem; color: var(--text-muted);">
                    <li>âœ… Estructura base del proyecto</li>
                    <li>â³ AutenticaciÃ³n (Login/Register)</li>
                    <li>â³ GestiÃ³n de tareas bÃ¡sica</li>
                    <li>â³ Timer Pomodoro</li>
                    <li>â³ NavegaciÃ³n principal</li>
                </ul>

                <h3>Fase 2: CaracterÃ­sticas Avanzadas (4-6 semanas)</h3>
                <ul style="margin-left: 2rem; color: var(--text-muted);">
                    <li>â³ Workspaces y Projects</li>
                    <li>â³ Analytics y mÃ©tricas</li>
                    <li>â³ Notificaciones push</li>
                    <li>â³ Modo offline</li>
                    <li>â³ SincronizaciÃ³n en background</li>
                </ul>

                <h3>Fase 3: Pulido y OptimizaciÃ³n (2-3 semanas)</h3>
                <ul style="margin-left: 2rem; color: var(--text-muted);">
                    <li>â³ Animaciones y transiciones</li>
                    <li>â³ OptimizaciÃ³n de performance</li>
                    <li>â³ Testing E2E</li>
                    <li>â³ PreparaciÃ³n para stores (App Store, Play Store)</li>
                </ul>
            </section>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 Ordo-Todo. DocumentaciÃ³n de la Mobile App.</p>
        </div>
    </footer>
</body>
</html>
