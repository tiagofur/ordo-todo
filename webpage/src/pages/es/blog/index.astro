---
import { getCollection } from 'astro:content';
import BaseLayout from '../../../layouts/BaseLayout.astro';
import Card from '../../../components/ui/Card.astro';
import { getLangFromUrl } from '../../../i18n/utils';

const currentLang = getLangFromUrl(Astro.url);
const posts = await getCollection('blog', (entry) => entry.id.startsWith(`${currentLang}/`));

const meta = {
  en: {
    title: 'Blog - Ordo-Todo',
    description: 'Productivity tips, AI insights, and task management best practices from the Ordo-Todo team.'
  },
  es: {
    title: 'Blog - Ordo-Todo',
    description: 'Consejos de productividad, insights de IA y mejores prácticas de gestión de tareas del equipo de Ordo-Todo.'
  },
  'pt-br': {
    title: 'Blog - Ordo-Todo',
    description: 'Dicas de produtividade, insights de IA e melhores práticas de gerenciamento de tarefas da equipe Ordo-Todo.'
  }
};

const pageMeta = meta[currentLang] || meta.en;
---

<BaseLayout title={pageMeta.title} description={pageMeta.description}>
  <section class="py-20 bg-gray-50 dark:bg-gray-900">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <!-- Header -->
      <div class="text-center mb-16">
        <h1 class="text-3xl sm:text-4xl font-bold text-gray-900 dark:text-white mb-4">
          {currentLang === 'en' ? 'Productivity Blog' : 
           currentLang === 'es' ? 'Blog de Productividad' : 
           'Blog de Produtividade'}
        </h1>
        <p class="text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto">
          {currentLang === 'en' ? 
            'Tips, insights, and best practices to help you achieve more.' :
            currentLang === 'es' ? 
            'Consejos, insights y mejores prácticas para ayudarte a lograr más.' :
            'Dicas, insights e melhores práticas para ajudá-lo a alcançar mais.'}
        </p>
      </div>

      <!-- Blog Posts Grid -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
        <Card hover={true} class="overflow-hidden">
          <div class="p-6">
            <div class="flex items-center text-sm text-gray-500 dark:text-gray-400 mb-3">
              <time datetime="2025-01-15">Jan 15, 2025</time>
              <span class="mx-2">•</span>
              <span>Ordo-Todo Team</span>
            </div>
            
            <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-3">
              {currentLang === 'en' ? '10 AI Features That Will Revolutionize Your Productivity' :
               currentLang === 'es' ? '10 Características de IA que Revolucionarán tu Productividad' :
               '10 Recursos de IA que Revolucionarão sua Produtividade'}
            </h3>
            
            <p class="text-gray-600 dark:text-gray-400 mb-4 line-clamp-3">
              {currentLang === 'en' ? 
                'Discover how artificial intelligence is transforming task management and helping teams achieve more.' :
                currentLang === 'es' ? 
                'Descubre cómo la inteligencia artificial está transformando la gestión de tareas y ayudando a los equipos a lograr más.' :
                'Descubra como a inteligência artificial está transformando o gerenciamento de tarefas e ajudando as equipes a alcançar mais.'}
            </p>
            
            <div class="flex flex-wrap gap-2 mb-4">
              <span class="px-3 py-1 text-xs font-medium bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-full">
                AI
              </span>
              <span class="px-3 py-1 text-xs font-medium bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded-full">
                Productivity
              </span>
              <span class="px-3 py-1 text-xs font-medium bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 rounded-full">
                Features
              </span>
            </div>
            
            <a 
              href="/en/blog/ai-features"
              class="inline-flex items-center text-blue-600 hover:text-blue-700 font-medium"
            >
              {currentLang === 'en' ? 'Read More' : 
               currentLang === 'es' ? 'Leer Más' : 
               'Ler Mais'}
              <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5-5m5 5H7m2 4H7a2 2 0 01-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2z"/>
              </svg>
            </a>
          </div>
        </Card>
      </div>

      <!-- CTA Section -->
      <div class="text-center bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-12 text-white">
        <h2 class="text-3xl font-bold mb-4">
          {currentLang === 'en' ? 'Stay Updated with Latest Insights' : 
           currentLang === 'es' ? 'Mantente Actualizado con los Últimos Insights' :
           'Mantenha-se Atualizado com os Últimos Insights'}
        </h2>
        <p class="text-xl mb-8 opacity-90">
          {currentLang === 'en' ? 
            'Subscribe to our newsletter for weekly productivity tips and AI feature updates.' :
            currentLang === 'es' ? 
            'Suscríbete a nuestro boletín para consejos semanales de productividad y actualizaciones de características.' :
            'Assine-se à nossa newsletter para dicas semanais de produtividade e atualizações de recursos.'}
        </p>
        
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a 
            href="/pricing"
            class="inline-flex items-center px-8 py-4 text-lg font-medium text-blue-600 bg-white dark:bg-gray-900 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors"
          >
            {currentLang === 'en' ? 'View All Articles' : 
               currentLang === 'es' ? 'Ver Todos los Artículos' : 
               'Ver Todos os Artigos'}
          </a>
          <a 
            href="/pricing"
            class="inline-flex items-center px-8 py-4 text-lg font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors"
          >
            {currentLang === 'en' ? 'Subscribe to Newsletter' : 
               currentLang === 'es' ? 'Suscribirse al Boletín' : 
               'Assinar à Newsletter'}
          </a>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>