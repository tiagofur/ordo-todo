"use strict";const n=require("electron"),l=require("path");function p(o){const i=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(o){for(const s in o)if(s!=="default"){const r=Object.getOwnPropertyDescriptor(o,s);Object.defineProperty(i,s,r.get?r:{enumerable:!0,get:()=>o[s]})}}return i.default=o,Object.freeze(i)}const t=p(l);process.env.DIST=t.join(__dirname,"../dist");process.env.VITE_PUBLIC=n.app.isPackaged?process.env.DIST:t.join(process.env.DIST,"../public");let e=null;const a=process.env.VITE_DEV_SERVER_URL;function c(){if(e=new n.BrowserWindow({icon:t.join(process.env.VITE_PUBLIC,"electron-vite.svg"),width:1200,height:800,minWidth:800,minHeight:600,webPreferences:{preload:t.join(__dirname,"preload.js"),nodeIntegration:!1,contextIsolation:!0}}),e.webContents.on("did-finish-load",()=>{e==null||e.webContents.send("main-process-message",new Date().toLocaleString())}),a)console.log("Loading URL:",a),e.loadURL(a);else{const o=t.join(process.env.DIST,"index.html");console.log("Loading file:",o),e.loadFile(o)}e.once("ready-to-show",()=>{e==null||e.show()}),n.app.isPackaged||e.webContents.openDevTools()}n.app.whenReady().then(c);n.app.on("window-all-closed",()=>{process.platform!=="darwin"&&n.app.quit()});n.app.on("activate",()=>{n.BrowserWindow.getAllWindows().length===0&&c()});
