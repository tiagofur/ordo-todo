"use strict";const x=require("electron"),Ge=require("path"),xc=require("util"),Bs=require("fs"),bu=require("crypto"),Su=require("assert"),Pu=require("events"),Ru=require("os");function Ou(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const c in e)if(c!=="default"){const r=Object.getOwnPropertyDescriptor(e,c);Object.defineProperty(t,c,r.get?r:{enumerable:!0,get:()=>e[c]})}}return t.default=e,Object.freeze(t)}const Ae=Ou(Ge);let Te=null;const Wc={timerActive:!1,isPaused:!1,timeRemaining:"25:00",currentTask:null,mode:"IDLE"};let eu={...Wc};function Nu(){const e=process.platform==="win32"?"icon.ico":"icon.png";return x.app.isPackaged?Ae.join(process.resourcesPath,"build",e):Ae.join(__dirname,"..","build",e)}function Tu(e){switch(e){case"WORK":return"ðŸ…";case"SHORT_BREAK":return"â˜•";case"LONG_BREAK":return"ðŸŒ¿";default:return"â±ï¸"}}function Iu(e){switch(e){case"WORK":return"Trabajo";case"SHORT_BREAK":return"Descanso Corto";case"LONG_BREAK":return"Descanso Largo";default:return"Inactivo"}}function Cu(e){const t=Nu();try{const c=x.nativeImage.createFromPath(t);Te=new x.Tray(c.resize({width:16,height:16}))}catch{console.warn("Tray icon not found, using default"),Te=new x.Tray(x.nativeImage.createEmpty())}return Te.setToolTip("Ordo-Todo"),Js(e,Wc),Te.on("click",()=>{e.isVisible()?e.hide():(e.show(),e.focus())}),Te}function Js(e,t){if(!Te)return;eu=t;const c=Tu(t.mode),r=Iu(t.mode),u=t.timerActive?`Ordo-Todo - ${r} ${t.timeRemaining}`:"Ordo-Todo";Te.setToolTip(u);const n=x.Menu.buildFromTemplate([{label:t.currentTask||"Sin tarea seleccionada",enabled:!1,icon:void 0},{type:"separator"},{label:`${c} ${r}`,enabled:!1},{label:`â±ï¸ ${t.timeRemaining}`,enabled:!1},{type:"separator"},{label:t.timerActive&&!t.isPaused?"â¸ï¸ Pausar":"â–¶ï¸ Iniciar",accelerator:"CmdOrCtrl+Shift+S",click:()=>{e.webContents.send("tray-action","timer:toggle")}},{label:"â­ï¸ Saltar",enabled:t.timerActive,click:()=>{e.webContents.send("tray-action","timer:skip")}},{label:"â¹ï¸ Detener",enabled:t.timerActive,click:()=>{e.webContents.send("tray-action","timer:stop")}},{type:"separator"},{label:"âž• Nueva Tarea",accelerator:"CmdOrCtrl+Shift+N",click:()=>{e.show(),e.focus(),e.webContents.send("tray-action","task:create")}},{label:"ðŸ“Š Dashboard",click:()=>{e.show(),e.focus(),e.webContents.send("tray-action","navigate:dashboard")}},{type:"separator"},{label:e.isVisible()?"ðŸ”½ Ocultar Ventana":"ðŸ”¼ Mostrar Ventana",click:()=>{e.isVisible()?e.hide():(e.show(),e.focus())}},{type:"separator"},{label:"âš™ï¸ ConfiguraciÃ³n",click:()=>{e.show(),e.focus(),e.webContents.send("tray-action","navigate:settings")}},{type:"separator"},{label:"âŒ Salir",click:()=>{x.app.quit()}}]);Te.setContextMenu(n)}function oa(e,t){const c={...eu,...t};Js(e,c)}function ju(){Te&&(Te.destroy(),Te=null)}const ct=[{id:"timer-toggle",accelerator:"CmdOrCtrl+Shift+S",action:"timer:toggle",description:"Iniciar/Pausar Timer",enabled:!0},{id:"timer-skip",accelerator:"CmdOrCtrl+Shift+K",action:"timer:skip",description:"Saltar al siguiente",enabled:!0},{id:"task-create",accelerator:"CmdOrCtrl+Shift+N",action:"task:create",description:"Nueva Tarea RÃ¡pida",enabled:!0},{id:"window-toggle",accelerator:"CmdOrCtrl+Shift+O",action:"window:toggle",description:"Mostrar/Ocultar Ventana",enabled:!0},{id:"window-focus",accelerator:"CmdOrCtrl+Shift+F",action:"window:focus",description:"Enfocar Ventana",enabled:!0}];let ut=new Map;function tu(e,t=ct){Xs(),t.forEach(c=>{if(c.enabled)try{x.globalShortcut.register(c.accelerator,()=>{ru(e,c.action)})?(ut.set(c.id,c),console.log(`Shortcut registered: ${c.accelerator} -> ${c.action}`)):console.warn(`Failed to register shortcut: ${c.accelerator}`)}catch(r){console.error(`Error registering shortcut ${c.accelerator}:`,r)}})}function ru(e,t){switch(t){case"window:toggle":e.isVisible()?e.hide():(e.show(),e.focus());break;case"window:focus":e.show(),e.focus();break;default:e.webContents.send("global-shortcut",t),t==="task:create"&&(e.show(),e.focus());break}}function Xs(){x.globalShortcut.unregisterAll(),ut.clear(),console.log("All global shortcuts unregistered")}function ku(){return Array.from(ut.values())}function Au(e,t,c){const r=ut.get(t);if(!r)return!1;x.globalShortcut.unregister(r.accelerator);const u={...r,...c};return u.enabled&&x.globalShortcut.register(u.accelerator,()=>{ru(e,u.action)})?(ut.set(t,u),!0):(ut.delete(t),!1)}function qu(e){const t=process.platform==="darwin",c=[...t?[{label:x.app.name,submenu:[{role:"about",label:"Acerca de Ordo-Todo"},{type:"separator"},{label:"Preferencias...",accelerator:"CmdOrCtrl+,",click:()=>{e.webContents.send("menu-action","navigate:settings")}},{type:"separator"},{role:"services"},{type:"separator"},{role:"hide",label:"Ocultar Ordo-Todo"},{role:"hideOthers"},{role:"unhide"},{type:"separator"},{role:"quit",label:"Salir de Ordo-Todo"}]}]:[],{label:"Archivo",submenu:[{label:"Nueva Tarea",accelerator:"CmdOrCtrl+N",click:()=>{e.webContents.send("menu-action","task:create")}},{label:"Nuevo Proyecto",accelerator:"CmdOrCtrl+Shift+P",click:()=>{e.webContents.send("menu-action","project:create")}},{type:"separator"},{label:"Importar...",click:()=>{e.webContents.send("menu-action","file:import")}},{label:"Exportar...",click:()=>{e.webContents.send("menu-action","file:export")}},{type:"separator"},t?{role:"close",label:"Cerrar Ventana"}:{role:"quit",label:"Salir"}]},{label:"Editar",submenu:[{role:"undo",label:"Deshacer"},{role:"redo",label:"Rehacer"},{type:"separator"},{role:"cut",label:"Cortar"},{role:"copy",label:"Copiar"},{role:"paste",label:"Pegar"},...t?[{role:"pasteAndMatchStyle",label:"Pegar y Ajustar Estilo"},{role:"delete",label:"Eliminar"},{role:"selectAll",label:"Seleccionar Todo"}]:[{role:"delete",label:"Eliminar"},{type:"separator"},{role:"selectAll",label:"Seleccionar Todo"}]]},{label:"Ver",submenu:[{role:"reload",label:"Recargar"},{role:"forceReload",label:"Forzar Recarga"},{role:"toggleDevTools",label:"Herramientas de Desarrollo"},{type:"separator"},{role:"resetZoom",label:"Zoom Normal"},{role:"zoomIn",label:"Acercar"},{role:"zoomOut",label:"Alejar"},{type:"separator"},{role:"togglefullscreen",label:"Pantalla Completa"},{type:"separator"},{label:"Siempre Visible",type:"checkbox",checked:e.isAlwaysOnTop(),click:u=>{e.setAlwaysOnTop(u.checked),e.webContents.send("menu-action","window:alwaysOnTop",u.checked)}}]},{label:"Timer",submenu:[{label:"Iniciar/Pausar",accelerator:"CmdOrCtrl+Space",click:()=>{e.webContents.send("menu-action","timer:toggle")}},{label:"Saltar",accelerator:"CmdOrCtrl+Shift+K",click:()=>{e.webContents.send("menu-action","timer:skip")}},{label:"Detener",click:()=>{e.webContents.send("menu-action","timer:stop")}},{type:"separator"},{label:"Modo Trabajo",click:()=>{e.webContents.send("menu-action","timer:mode:work")}},{label:"Descanso Corto",click:()=>{e.webContents.send("menu-action","timer:mode:shortBreak")}},{label:"Descanso Largo",click:()=>{e.webContents.send("menu-action","timer:mode:longBreak")}}]},{label:"Navegar",submenu:[{label:"Dashboard",accelerator:"CmdOrCtrl+1",click:()=>{e.webContents.send("menu-action","navigate:dashboard")}},{label:"Tareas",accelerator:"CmdOrCtrl+2",click:()=>{e.webContents.send("menu-action","navigate:tasks")}},{label:"Proyectos",accelerator:"CmdOrCtrl+3",click:()=>{e.webContents.send("menu-action","navigate:projects")}},{label:"Timer",accelerator:"CmdOrCtrl+4",click:()=>{e.webContents.send("menu-action","navigate:timer")}},{label:"Analytics",accelerator:"CmdOrCtrl+5",click:()=>{e.webContents.send("menu-action","navigate:analytics")}},{type:"separator"},{label:"ConfiguraciÃ³n",accelerator:t?"CmdOrCtrl+,":"CmdOrCtrl+Shift+,",click:()=>{e.webContents.send("menu-action","navigate:settings")}}]},{label:"Ventana",submenu:[{role:"minimize",label:"Minimizar"},{role:"zoom",label:"Zoom"},...t?[{type:"separator"},{role:"front",label:"Traer Todo al Frente"},{type:"separator"},{role:"window"}]:[{role:"close",label:"Cerrar"}]]},{label:"Ayuda",role:"help",submenu:[{label:"DocumentaciÃ³n",click:async()=>{await x.shell.openExternal("https://ordo-todo.com/docs")}},{label:"Atajos de Teclado",accelerator:"CmdOrCtrl+/",click:()=>{e.webContents.send("menu-action","help:shortcuts")}},{type:"separator"},{label:"Reportar un Problema",click:async()=>{await x.shell.openExternal("https://github.com/tiagofur/ordo-todo/issues/new")}},{label:"Solicitar FunciÃ³n",click:async()=>{await x.shell.openExternal("https://github.com/tiagofur/ordo-todo/discussions/new?category=ideas")}},{type:"separator"},...t?[]:[{label:"Acerca de Ordo-Todo",click:()=>{e.webContents.send("menu-action","help:about")}}]]}],r=x.Menu.buildFromTemplate(c);return x.Menu.setApplicationMenu(r),r}function Du(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var wt={exports:{}},In,ca;function Mu(){return ca||(ca=1,In=e=>{const t=typeof e;return e!==null&&(t==="object"||t==="function")}),In}var Cn,ua;function Lu(){if(ua)return Cn;ua=1;const e=Mu(),t=new Set(["__proto__","prototype","constructor"]),c=u=>!u.some(n=>t.has(n));function r(u){const n=u.split("."),l=[];for(let a=0;a<n.length;a++){let i=n[a];for(;i[i.length-1]==="\\"&&n[a+1]!==void 0;)i=i.slice(0,-1)+".",i+=n[++a];l.push(i)}return c(l)?l:[]}return Cn={get(u,n,l){if(!e(u)||typeof n!="string")return l===void 0?u:l;const a=r(n);if(a.length!==0){for(let i=0;i<a.length;i++)if(u=u[a[i]],u==null){if(i!==a.length-1)return l;break}return u===void 0?l:u}},set(u,n,l){if(!e(u)||typeof n!="string")return u;const a=u,i=r(n);for(let d=0;d<i.length;d++){const s=i[d];e(u[s])||(u[s]={}),d===i.length-1&&(u[s]=l),u=u[s]}return a},delete(u,n){if(!e(u)||typeof n!="string")return!1;const l=r(n);for(let a=0;a<l.length;a++){const i=l[a];if(a===l.length-1)return delete u[i],!0;if(u=u[i],!e(u))return!1}},has(u,n){if(!e(u)||typeof n!="string")return!1;const l=r(n);if(l.length===0)return!1;for(let a=0;a<l.length;a++)if(e(u)){if(!(l[a]in u))return!1;u=u[l[a]]}else return!1;return!0}},Cn}var St={exports:{}},Pt={exports:{}},Rt={exports:{}},Ot={exports:{}},la;function Fu(){if(la)return Ot.exports;la=1;const e=Bs;return Ot.exports=t=>new Promise(c=>{e.access(t,r=>{c(!r)})}),Ot.exports.sync=t=>{try{return e.accessSync(t),!0}catch{return!1}},Ot.exports}var Nt={exports:{}},Tt={exports:{}},da;function Vu(){if(da)return Tt.exports;da=1;const e=(t,...c)=>new Promise(r=>{r(t(...c))});return Tt.exports=e,Tt.exports.default=e,Tt.exports}var fa;function Uu(){if(fa)return Nt.exports;fa=1;const e=Vu(),t=c=>{if(!((Number.isInteger(c)||c===1/0)&&c>0))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));const r=[];let u=0;const n=()=>{u--,r.length>0&&r.shift()()},l=(d,s,...$)=>{u++;const _=e(d,...$);s(_),_.then(n,n)},a=(d,s,...$)=>{u<c?l(d,s,...$):r.push(l.bind(null,d,s,...$))},i=(d,...s)=>new Promise($=>a(d,$,...s));return Object.defineProperties(i,{activeCount:{get:()=>u},pendingCount:{get:()=>r.length},clearQueue:{value:()=>{r.length=0}}}),i};return Nt.exports=t,Nt.exports.default=t,Nt.exports}var jn,ha;function zu(){if(ha)return jn;ha=1;const e=Uu();class t extends Error{constructor(n){super(),this.value=n}}const c=(u,n)=>Promise.resolve(u).then(n),r=u=>Promise.all(u).then(n=>n[1]===!0&&Promise.reject(new t(n[0])));return jn=(u,n,l)=>{l=Object.assign({concurrency:1/0,preserveOrder:!0},l);const a=e(l.concurrency),i=[...u].map(s=>[s,a(c,s,n)]),d=e(l.preserveOrder?1:1/0);return Promise.all(i.map(s=>d(r,s))).then(()=>{}).catch(s=>s instanceof t?s.value:Promise.reject(s))},jn}var pa;function Ku(){if(pa)return Rt.exports;pa=1;const e=Ge,t=Fu(),c=zu();return Rt.exports=(r,u)=>(u=Object.assign({cwd:process.cwd()},u),c(r,n=>t(e.resolve(u.cwd,n)),u)),Rt.exports.sync=(r,u)=>{u=Object.assign({cwd:process.cwd()},u);for(const n of r)if(t.sync(e.resolve(u.cwd,n)))return n},Rt.exports}var ma;function Gu(){if(ma)return Pt.exports;ma=1;const e=Ge,t=Ku();return Pt.exports=(c,r={})=>{const u=e.resolve(r.cwd||""),{root:n}=e.parse(u),l=[].concat(c);return new Promise(a=>{(function i(d){t(l,{cwd:d}).then(s=>{s?a(e.join(d,s)):d===n?a(null):i(e.dirname(d))})})(u)})},Pt.exports.sync=(c,r={})=>{let u=e.resolve(r.cwd||"");const{root:n}=e.parse(u),l=[].concat(c);for(;;){const a=t.sync(l,{cwd:u});if(a)return e.join(u,a);if(u===n)return null;u=e.dirname(u)}},Pt.exports}var ya;function Hu(){if(ya)return St.exports;ya=1;const e=Gu();return St.exports=async({cwd:t}={})=>e("package.json",{cwd:t}),St.exports.sync=({cwd:t}={})=>e.sync("package.json",{cwd:t}),St.exports}var It={exports:{}},va;function Bu(){if(va)return It.exports;va=1;const e=Ge,t=Ru,c=t.homedir(),r=t.tmpdir(),{env:u}=process,n=d=>{const s=e.join(c,"Library");return{data:e.join(s,"Application Support",d),config:e.join(s,"Preferences",d),cache:e.join(s,"Caches",d),log:e.join(s,"Logs",d),temp:e.join(r,d)}},l=d=>{const s=u.APPDATA||e.join(c,"AppData","Roaming"),$=u.LOCALAPPDATA||e.join(c,"AppData","Local");return{data:e.join($,d,"Data"),config:e.join(s,d,"Config"),cache:e.join($,d,"Cache"),log:e.join($,d,"Log"),temp:e.join(r,d)}},a=d=>{const s=e.basename(c);return{data:e.join(u.XDG_DATA_HOME||e.join(c,".local","share"),d),config:e.join(u.XDG_CONFIG_HOME||e.join(c,".config"),d),cache:e.join(u.XDG_CACHE_HOME||e.join(c,".cache"),d),log:e.join(u.XDG_STATE_HOME||e.join(c,".local","state"),d),temp:e.join(r,s,d)}},i=(d,s)=>{if(typeof d!="string")throw new TypeError(`Expected string, got ${typeof d}`);return s=Object.assign({suffix:"nodejs"},s),s.suffix&&(d+=`-${s.suffix}`),process.platform==="darwin"?n(d):process.platform==="win32"?l(d):a(d)};return It.exports=i,It.exports.default=i,It.exports}var Pe={},fe={},ga;function Et(){if(ga)return fe;ga=1,Object.defineProperty(fe,"__esModule",{value:!0}),fe.NOOP=fe.LIMIT_FILES_DESCRIPTORS=fe.LIMIT_BASENAME_LENGTH=fe.IS_USER_ROOT=fe.IS_POSIX=fe.DEFAULT_TIMEOUT_SYNC=fe.DEFAULT_TIMEOUT_ASYNC=fe.DEFAULT_WRITE_OPTIONS=fe.DEFAULT_READ_OPTIONS=fe.DEFAULT_FOLDER_MODE=fe.DEFAULT_FILE_MODE=fe.DEFAULT_ENCODING=void 0;const e="utf8";fe.DEFAULT_ENCODING=e;const t=438;fe.DEFAULT_FILE_MODE=t;const c=511;fe.DEFAULT_FOLDER_MODE=c;const r={};fe.DEFAULT_READ_OPTIONS=r;const u={};fe.DEFAULT_WRITE_OPTIONS=u;const n=5e3;fe.DEFAULT_TIMEOUT_ASYNC=n;const l=100;fe.DEFAULT_TIMEOUT_SYNC=l;const a=!!process.getuid;fe.IS_POSIX=a;const i=process.getuid?!process.getuid():!1;fe.IS_USER_ROOT=i;const d=128;fe.LIMIT_BASENAME_LENGTH=d;const s=1e4;fe.LIMIT_FILES_DESCRIPTORS=s;const $=()=>{};return fe.NOOP=$,fe}var Ct={},Qe={},_a;function Ju(){if(_a)return Qe;_a=1,Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.attemptifySync=Qe.attemptifyAsync=void 0;const e=Et(),t=(r,u=e.NOOP)=>function(){return r.apply(void 0,arguments).catch(u)};Qe.attemptifyAsync=t;const c=(r,u=e.NOOP)=>function(){try{return r.apply(void 0,arguments)}catch(n){return u(n)}};return Qe.attemptifySync=c,Qe}var jt={},$a;function Xu(){if($a)return jt;$a=1,Object.defineProperty(jt,"__esModule",{value:!0});const e=Et(),t={isChangeErrorOk:c=>{const{code:r}=c;return r==="ENOSYS"||!e.IS_USER_ROOT&&(r==="EINVAL"||r==="EPERM")},isRetriableError:c=>{const{code:r}=c;return r==="EMFILE"||r==="ENFILE"||r==="EAGAIN"||r==="EBUSY"||r==="EACCESS"||r==="EACCS"||r==="EPERM"},onChangeError:c=>{if(!t.isChangeErrorOk(c))throw c}};return jt.default=t,jt}var Ze={},kt={},wa;function Yu(){if(wa)return kt;wa=1,Object.defineProperty(kt,"__esModule",{value:!0});const t={interval:25,intervalId:void 0,limit:Et().LIMIT_FILES_DESCRIPTORS,queueActive:new Set,queueWaiting:new Set,init:()=>{t.intervalId||(t.intervalId=setInterval(t.tick,t.interval))},reset:()=>{t.intervalId&&(clearInterval(t.intervalId),delete t.intervalId)},add:c=>{t.queueWaiting.add(c),t.queueActive.size<t.limit/2?t.tick():t.init()},remove:c=>{t.queueWaiting.delete(c),t.queueActive.delete(c)},schedule:()=>new Promise(c=>{const r=()=>t.remove(u),u=()=>c(r);t.add(u)}),tick:()=>{if(!(t.queueActive.size>=t.limit)){if(!t.queueWaiting.size)return t.reset();for(const c of t.queueWaiting){if(t.queueActive.size>=t.limit)break;t.queueWaiting.delete(c),t.queueActive.add(c),c()}}}};return kt.default=t,kt}var Ea;function Qu(){if(Ea)return Ze;Ea=1,Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.retryifySync=Ze.retryifyAsync=void 0;const e=Yu(),t=(r,u)=>function(n){return function l(){return e.default.schedule().then(a=>r.apply(void 0,arguments).then(i=>(a(),i),i=>{if(a(),Date.now()>=n)throw i;if(u(i)){const d=Math.round(100+400*Math.random());return new Promise($=>setTimeout($,d)).then(()=>l.apply(void 0,arguments))}throw i}))}};Ze.retryifyAsync=t;const c=(r,u)=>function(n){return function l(){try{return r.apply(void 0,arguments)}catch(a){if(Date.now()>n)throw a;if(u(a))return l.apply(void 0,arguments);throw a}}};return Ze.retryifySync=c,Ze}var ba;function nu(){if(ba)return Ct;ba=1,Object.defineProperty(Ct,"__esModule",{value:!0});const e=Bs,t=xc,c=Ju(),r=Xu(),u=Qu(),n={chmodAttempt:c.attemptifyAsync(t.promisify(e.chmod),r.default.onChangeError),chownAttempt:c.attemptifyAsync(t.promisify(e.chown),r.default.onChangeError),closeAttempt:c.attemptifyAsync(t.promisify(e.close)),fsyncAttempt:c.attemptifyAsync(t.promisify(e.fsync)),mkdirAttempt:c.attemptifyAsync(t.promisify(e.mkdir)),realpathAttempt:c.attemptifyAsync(t.promisify(e.realpath)),statAttempt:c.attemptifyAsync(t.promisify(e.stat)),unlinkAttempt:c.attemptifyAsync(t.promisify(e.unlink)),closeRetry:u.retryifyAsync(t.promisify(e.close),r.default.isRetriableError),fsyncRetry:u.retryifyAsync(t.promisify(e.fsync),r.default.isRetriableError),openRetry:u.retryifyAsync(t.promisify(e.open),r.default.isRetriableError),readFileRetry:u.retryifyAsync(t.promisify(e.readFile),r.default.isRetriableError),renameRetry:u.retryifyAsync(t.promisify(e.rename),r.default.isRetriableError),statRetry:u.retryifyAsync(t.promisify(e.stat),r.default.isRetriableError),writeRetry:u.retryifyAsync(t.promisify(e.write),r.default.isRetriableError),chmodSyncAttempt:c.attemptifySync(e.chmodSync,r.default.onChangeError),chownSyncAttempt:c.attemptifySync(e.chownSync,r.default.onChangeError),closeSyncAttempt:c.attemptifySync(e.closeSync),mkdirSyncAttempt:c.attemptifySync(e.mkdirSync),realpathSyncAttempt:c.attemptifySync(e.realpathSync),statSyncAttempt:c.attemptifySync(e.statSync),unlinkSyncAttempt:c.attemptifySync(e.unlinkSync),closeSyncRetry:u.retryifySync(e.closeSync,r.default.isRetriableError),fsyncSyncRetry:u.retryifySync(e.fsyncSync,r.default.isRetriableError),openSyncRetry:u.retryifySync(e.openSync,r.default.isRetriableError),readFileSyncRetry:u.retryifySync(e.readFileSync,r.default.isRetriableError),renameSyncRetry:u.retryifySync(e.renameSync,r.default.isRetriableError),statSyncRetry:u.retryifySync(e.statSync,r.default.isRetriableError),writeSyncRetry:u.retryifySync(e.writeSync,r.default.isRetriableError)};return Ct.default=n,Ct}var At={},Sa;function Zu(){if(Sa)return At;Sa=1,Object.defineProperty(At,"__esModule",{value:!0});const e={isFunction:t=>typeof t=="function",isString:t=>typeof t=="string",isUndefined:t=>typeof t>"u"};return At.default=e,At}var qt={},Pa;function xu(){if(Pa)return qt;Pa=1,Object.defineProperty(qt,"__esModule",{value:!0});const e={},t={next:c=>{const r=e[c];if(!r)return;r.shift();const u=r[0];u?u(()=>t.next(c)):delete e[c]},schedule:c=>new Promise(r=>{let u=e[c];u||(u=e[c]=[]),u.push(r),!(u.length>1)&&r(()=>t.next(c))})};return qt.default=t,qt}var Dt={},Ra;function Wu(){if(Ra)return Dt;Ra=1,Object.defineProperty(Dt,"__esModule",{value:!0});const e=Ge,t=Et(),c=nu(),r={store:{},create:u=>{const n=`000000${Math.floor(Math.random()*16777215).toString(16)}`.slice(-6),l=Date.now().toString().slice(-10),a="tmp-",i=`.${a}${l}${n}`;return`${u}${i}`},get:(u,n,l=!0)=>{const a=r.truncate(n(u));return a in r.store?r.get(u,n,l):(r.store[a]=l,[a,()=>delete r.store[a]])},purge:u=>{r.store[u]&&(delete r.store[u],c.default.unlinkAttempt(u))},purgeSync:u=>{r.store[u]&&(delete r.store[u],c.default.unlinkSyncAttempt(u))},purgeSyncAll:()=>{for(const u in r.store)r.purgeSync(u)},truncate:u=>{const n=e.basename(u);if(n.length<=t.LIMIT_BASENAME_LENGTH)return u;const l=/^(\.?)(.*?)((?:\.[^.]+)?(?:\.tmp-\d{10}[a-f0-9]{6})?)$/.exec(n);if(!l)return u;const a=n.length-t.LIMIT_BASENAME_LENGTH;return`${u.slice(0,-n.length)}${l[1]}${l[2].slice(0,-a)}${l[3]}`}};return process.on("exit",r.purgeSyncAll),Dt.default=r,Dt}var Oa;function el(){if(Oa)return Pe;Oa=1,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.writeFileSync=Pe.writeFile=Pe.readFileSync=Pe.readFile=void 0;const e=Ge,t=Et(),c=nu(),r=Zu(),u=xu(),n=Wu();function l($,_=t.DEFAULT_READ_OPTIONS){var g;if(r.default.isString(_))return l($,{encoding:_});const b=Date.now()+((g=_.timeout)!==null&&g!==void 0?g:t.DEFAULT_TIMEOUT_ASYNC);return c.default.readFileRetry(b)($,_)}Pe.readFile=l;function a($,_=t.DEFAULT_READ_OPTIONS){var g;if(r.default.isString(_))return a($,{encoding:_});const b=Date.now()+((g=_.timeout)!==null&&g!==void 0?g:t.DEFAULT_TIMEOUT_SYNC);return c.default.readFileSyncRetry(b)($,_)}Pe.readFileSync=a;const i=($,_,g,b)=>{if(r.default.isFunction(g))return i($,_,t.DEFAULT_WRITE_OPTIONS,g);const E=d($,_,g);return b&&E.then(b,b),E};Pe.writeFile=i;const d=async($,_,g=t.DEFAULT_WRITE_OPTIONS)=>{var b;if(r.default.isString(g))return d($,_,{encoding:g});const E=Date.now()+((b=g.timeout)!==null&&b!==void 0?b:t.DEFAULT_TIMEOUT_ASYNC);let h=null,y=null,o=null,p=null,w=null;try{g.schedule&&(h=await g.schedule($)),y=await u.default.schedule($),$=await c.default.realpathAttempt($)||$,[p,o]=n.default.get($,g.tmpCreate||n.default.create,g.tmpPurge!==!1);const m=t.IS_POSIX&&r.default.isUndefined(g.chown),v=r.default.isUndefined(g.mode);if(m||v){const I=await c.default.statAttempt($);I&&(g={...g},m&&(g.chown={uid:I.uid,gid:I.gid}),v&&(g.mode=I.mode))}const P=e.dirname($);await c.default.mkdirAttempt(P,{mode:t.DEFAULT_FOLDER_MODE,recursive:!0}),w=await c.default.openRetry(E)(p,"w",g.mode||t.DEFAULT_FILE_MODE),g.tmpCreated&&g.tmpCreated(p),r.default.isString(_)?await c.default.writeRetry(E)(w,_,0,g.encoding||t.DEFAULT_ENCODING):r.default.isUndefined(_)||await c.default.writeRetry(E)(w,_,0,_.length,0),g.fsync!==!1&&(g.fsyncWait!==!1?await c.default.fsyncRetry(E)(w):c.default.fsyncAttempt(w)),await c.default.closeRetry(E)(w),w=null,g.chown&&await c.default.chownAttempt(p,g.chown.uid,g.chown.gid),g.mode&&await c.default.chmodAttempt(p,g.mode);try{await c.default.renameRetry(E)(p,$)}catch(I){if(I.code!=="ENAMETOOLONG")throw I;await c.default.renameRetry(E)(p,n.default.truncate($))}o(),p=null}finally{w&&await c.default.closeAttempt(w),p&&n.default.purge(p),h&&h(),y&&y()}},s=($,_,g=t.DEFAULT_WRITE_OPTIONS)=>{var b;if(r.default.isString(g))return s($,_,{encoding:g});const E=Date.now()+((b=g.timeout)!==null&&b!==void 0?b:t.DEFAULT_TIMEOUT_SYNC);let h=null,y=null,o=null;try{$=c.default.realpathSyncAttempt($)||$,[y,h]=n.default.get($,g.tmpCreate||n.default.create,g.tmpPurge!==!1);const p=t.IS_POSIX&&r.default.isUndefined(g.chown),w=r.default.isUndefined(g.mode);if(p||w){const v=c.default.statSyncAttempt($);v&&(g={...g},p&&(g.chown={uid:v.uid,gid:v.gid}),w&&(g.mode=v.mode))}const m=e.dirname($);c.default.mkdirSyncAttempt(m,{mode:t.DEFAULT_FOLDER_MODE,recursive:!0}),o=c.default.openSyncRetry(E)(y,"w",g.mode||t.DEFAULT_FILE_MODE),g.tmpCreated&&g.tmpCreated(y),r.default.isString(_)?c.default.writeSyncRetry(E)(o,_,0,g.encoding||t.DEFAULT_ENCODING):r.default.isUndefined(_)||c.default.writeSyncRetry(E)(o,_,0,_.length,0),g.fsync!==!1&&(g.fsyncWait!==!1?c.default.fsyncSyncRetry(E)(o):c.default.fsyncAttempt(o)),c.default.closeSyncRetry(E)(o),o=null,g.chown&&c.default.chownSyncAttempt(y,g.chown.uid,g.chown.gid),g.mode&&c.default.chmodSyncAttempt(y,g.mode);try{c.default.renameSyncRetry(E)(y,$)}catch(v){if(v.code!=="ENAMETOOLONG")throw v;c.default.renameSyncRetry(E)(y,n.default.truncate($))}h(),y=null}finally{o&&c.default.closeSyncAttempt(o),y&&n.default.purge(y)}};return Pe.writeFileSync=s,Pe}var Mt={exports:{}},kn={},qe={},xe={},An={},qn={},Dn={},Na;function dn(){return Na||(Na=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class c extends t{constructor(o){if(super(),!e.IDENTIFIER.test(o))throw new Error("CodeGen: name must be a valid identifier");this.str=o}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=c;class r extends t{constructor(o){super(),this._items=typeof o=="string"?[o]:o}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const o=this._items[0];return o===""||o==='""'}get str(){var o;return(o=this._str)!==null&&o!==void 0?o:this._str=this._items.reduce((p,w)=>`${p}${w}`,"")}get names(){var o;return(o=this._names)!==null&&o!==void 0?o:this._names=this._items.reduce((p,w)=>(w instanceof c&&(p[w.str]=(p[w.str]||0)+1),p),{})}}e._Code=r,e.nil=new r("");function u(y,...o){const p=[y[0]];let w=0;for(;w<o.length;)a(p,o[w]),p.push(y[++w]);return new r(p)}e._=u;const n=new r("+");function l(y,...o){const p=[g(y[0])];let w=0;for(;w<o.length;)p.push(n),a(p,o[w]),p.push(n,g(y[++w]));return i(p),new r(p)}e.str=l;function a(y,o){o instanceof r?y.push(...o._items):o instanceof c?y.push(o):y.push($(o))}e.addCodeArg=a;function i(y){let o=1;for(;o<y.length-1;){if(y[o]===n){const p=d(y[o-1],y[o+1]);if(p!==void 0){y.splice(o-1,3,p);continue}y[o++]="+"}o++}}function d(y,o){if(o==='""')return y;if(y==='""')return o;if(typeof y=="string")return o instanceof c||y[y.length-1]!=='"'?void 0:typeof o!="string"?`${y.slice(0,-1)}${o}"`:o[0]==='"'?y.slice(0,-1)+o.slice(1):void 0;if(typeof o=="string"&&o[0]==='"'&&!(y instanceof c))return`"${y}${o.slice(1)}`}function s(y,o){return o.emptyStr()?y:y.emptyStr()?o:l`${y}${o}`}e.strConcat=s;function $(y){return typeof y=="number"||typeof y=="boolean"||y===null?y:g(Array.isArray(y)?y.join(","):y)}function _(y){return new r(g(y))}e.stringify=_;function g(y){return JSON.stringify(y).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=g;function b(y){return typeof y=="string"&&e.IDENTIFIER.test(y)?new r(`.${y}`):u`[${y}]`}e.getProperty=b;function E(y){if(typeof y=="string"&&e.IDENTIFIER.test(y))return new r(`${y}`);throw new Error(`CodeGen: invalid export name: ${y}, use explicit $id name mapping`)}e.getEsmExportName=E;function h(y){return new r(y.toString())}e.regexpCode=h})(Dn)),Dn}var Mn={},Ta;function Ia(){return Ta||(Ta=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=dn();class c extends Error{constructor(d){super(`CodeGen: "code" for ${d} not defined`),this.value=d.value}}var r;(function(i){i[i.Started=0]="Started",i[i.Completed=1]="Completed"})(r||(e.UsedValueState=r={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class u{constructor({prefixes:d,parent:s}={}){this._names={},this._prefixes=d,this._parent=s}toName(d){return d instanceof t.Name?d:this.name(d)}name(d){return new t.Name(this._newName(d))}_newName(d){const s=this._names[d]||this._nameGroup(d);return`${d}${s.index++}`}_nameGroup(d){var s,$;if(!(($=(s=this._parent)===null||s===void 0?void 0:s._prefixes)===null||$===void 0)&&$.has(d)||this._prefixes&&!this._prefixes.has(d))throw new Error(`CodeGen: prefix "${d}" is not allowed in this scope`);return this._names[d]={prefix:d,index:0}}}e.Scope=u;class n extends t.Name{constructor(d,s){super(s),this.prefix=d}setValue(d,{property:s,itemIndex:$}){this.value=d,this.scopePath=(0,t._)`.${new t.Name(s)}[${$}]`}}e.ValueScopeName=n;const l=(0,t._)`\n`;class a extends u{constructor(d){super(d),this._values={},this._scope=d.scope,this.opts={...d,_n:d.lines?l:t.nil}}get(){return this._scope}name(d){return new n(d,this._newName(d))}value(d,s){var $;if(s.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const _=this.toName(d),{prefix:g}=_,b=($=s.key)!==null&&$!==void 0?$:s.ref;let E=this._values[g];if(E){const o=E.get(b);if(o)return o}else E=this._values[g]=new Map;E.set(b,_);const h=this._scope[g]||(this._scope[g]=[]),y=h.length;return h[y]=s.ref,_.setValue(s,{property:g,itemIndex:y}),_}getValue(d,s){const $=this._values[d];if($)return $.get(s)}scopeRefs(d,s=this._values){return this._reduceValues(s,$=>{if($.scopePath===void 0)throw new Error(`CodeGen: name "${$}" has no value`);return(0,t._)`${d}${$.scopePath}`})}scopeCode(d=this._values,s,$){return this._reduceValues(d,_=>{if(_.value===void 0)throw new Error(`CodeGen: name "${_}" has no value`);return _.value.code},s,$)}_reduceValues(d,s,$={},_){let g=t.nil;for(const b in d){const E=d[b];if(!E)continue;const h=$[b]=$[b]||new Map;E.forEach(y=>{if(h.has(y))return;h.set(y,r.Started);let o=s(y);if(o){const p=this.opts.es5?e.varKinds.var:e.varKinds.const;g=(0,t._)`${g}${p} ${y} = ${o};${this.opts._n}`}else if(o=_?.(y))g=(0,t._)`${g}${o}${this.opts._n}`;else throw new c(y);h.set(y,r.Completed)})}return g}}e.ValueScope=a})(Mn)),Mn}var Ca;function ne(){return Ca||(Ca=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=dn(),c=Ia();var r=dn();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}});var u=Ia();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return u.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return u.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return u.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return u.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class n{optimizeNodes(){return this}optimizeNames(f,S){return this}}class l extends n{constructor(f,S,k){super(),this.varKind=f,this.name=S,this.rhs=k}render({es5:f,_n:S}){const k=f?c.varKinds.var:this.varKind,K=this.rhs===void 0?"":` = ${this.rhs}`;return`${k} ${this.name}${K};`+S}optimizeNames(f,S){if(f[this.name.str])return this.rhs&&(this.rhs=V(this.rhs,f,S)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends n{constructor(f,S,k){super(),this.lhs=f,this.rhs=S,this.sideEffects=k}render({_n:f}){return`${this.lhs} = ${this.rhs};`+f}optimizeNames(f,S){if(!(this.lhs instanceof t.Name&&!f[this.lhs.str]&&!this.sideEffects))return this.rhs=V(this.rhs,f,S),this}get names(){const f=this.lhs instanceof t.Name?{}:{...this.lhs.names};return J(f,this.rhs)}}class i extends a{constructor(f,S,k,K){super(f,k,K),this.op=S}render({_n:f}){return`${this.lhs} ${this.op}= ${this.rhs};`+f}}class d extends n{constructor(f){super(),this.label=f,this.names={}}render({_n:f}){return`${this.label}:`+f}}class s extends n{constructor(f){super(),this.label=f,this.names={}}render({_n:f}){return`break${this.label?` ${this.label}`:""};`+f}}class $ extends n{constructor(f){super(),this.error=f}render({_n:f}){return`throw ${this.error};`+f}get names(){return this.error.names}}class _ extends n{constructor(f){super(),this.code=f}render({_n:f}){return`${this.code};`+f}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(f,S){return this.code=V(this.code,f,S),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class g extends n{constructor(f=[]){super(),this.nodes=f}render(f){return this.nodes.reduce((S,k)=>S+k.render(f),"")}optimizeNodes(){const{nodes:f}=this;let S=f.length;for(;S--;){const k=f[S].optimizeNodes();Array.isArray(k)?f.splice(S,1,...k):k?f[S]=k:f.splice(S,1)}return f.length>0?this:void 0}optimizeNames(f,S){const{nodes:k}=this;let K=k.length;for(;K--;){const G=k[K];G.optimizeNames(f,S)||(z(f,G.names),k.splice(K,1))}return k.length>0?this:void 0}get names(){return this.nodes.reduce((f,S)=>B(f,S.names),{})}}class b extends g{render(f){return"{"+f._n+super.render(f)+"}"+f._n}}class E extends g{}class h extends b{}h.kind="else";class y extends b{constructor(f,S){super(S),this.condition=f}render(f){let S=`if(${this.condition})`+super.render(f);return this.else&&(S+="else "+this.else.render(f)),S}optimizeNodes(){super.optimizeNodes();const f=this.condition;if(f===!0)return this.nodes;let S=this.else;if(S){const k=S.optimizeNodes();S=this.else=Array.isArray(k)?new h(k):k}if(S)return f===!1?S instanceof y?S:S.nodes:this.nodes.length?this:new y(Q(f),S instanceof y?[S]:S.nodes);if(!(f===!1||!this.nodes.length))return this}optimizeNames(f,S){var k;if(this.else=(k=this.else)===null||k===void 0?void 0:k.optimizeNames(f,S),!!(super.optimizeNames(f,S)||this.else))return this.condition=V(this.condition,f,S),this}get names(){const f=super.names;return J(f,this.condition),this.else&&B(f,this.else.names),f}}y.kind="if";class o extends b{}o.kind="for";class p extends o{constructor(f){super(),this.iteration=f}render(f){return`for(${this.iteration})`+super.render(f)}optimizeNames(f,S){if(super.optimizeNames(f,S))return this.iteration=V(this.iteration,f,S),this}get names(){return B(super.names,this.iteration.names)}}class w extends o{constructor(f,S,k,K){super(),this.varKind=f,this.name=S,this.from=k,this.to=K}render(f){const S=f.es5?c.varKinds.var:this.varKind,{name:k,from:K,to:G}=this;return`for(${S} ${k}=${K}; ${k}<${G}; ${k}++)`+super.render(f)}get names(){const f=J(super.names,this.from);return J(f,this.to)}}class m extends o{constructor(f,S,k,K){super(),this.loop=f,this.varKind=S,this.name=k,this.iterable=K}render(f){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(f)}optimizeNames(f,S){if(super.optimizeNames(f,S))return this.iterable=V(this.iterable,f,S),this}get names(){return B(super.names,this.iterable.names)}}class v extends b{constructor(f,S,k){super(),this.name=f,this.args=S,this.async=k}render(f){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(f)}}v.kind="func";class P extends g{render(f){return"return "+super.render(f)}}P.kind="return";class I extends b{render(f){let S="try"+super.render(f);return this.catch&&(S+=this.catch.render(f)),this.finally&&(S+=this.finally.render(f)),S}optimizeNodes(){var f,S;return super.optimizeNodes(),(f=this.catch)===null||f===void 0||f.optimizeNodes(),(S=this.finally)===null||S===void 0||S.optimizeNodes(),this}optimizeNames(f,S){var k,K;return super.optimizeNames(f,S),(k=this.catch)===null||k===void 0||k.optimizeNames(f,S),(K=this.finally)===null||K===void 0||K.optimizeNames(f,S),this}get names(){const f=super.names;return this.catch&&B(f,this.catch.names),this.finally&&B(f,this.finally.names),f}}class A extends b{constructor(f){super(),this.error=f}render(f){return`catch(${this.error})`+super.render(f)}}A.kind="catch";class M extends b{render(f){return"finally"+super.render(f)}}M.kind="finally";class F{constructor(f,S={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...S,_n:S.lines?`
`:""},this._extScope=f,this._scope=new c.Scope({parent:f}),this._nodes=[new E]}toString(){return this._root.render(this.opts)}name(f){return this._scope.name(f)}scopeName(f){return this._extScope.name(f)}scopeValue(f,S){const k=this._extScope.value(f,S);return(this._values[k.prefix]||(this._values[k.prefix]=new Set)).add(k),k}getScopeValue(f,S){return this._extScope.getValue(f,S)}scopeRefs(f){return this._extScope.scopeRefs(f,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(f,S,k,K){const G=this._scope.toName(S);return k!==void 0&&K&&(this._constants[G.str]=k),this._leafNode(new l(f,G,k)),G}const(f,S,k){return this._def(c.varKinds.const,f,S,k)}let(f,S,k){return this._def(c.varKinds.let,f,S,k)}var(f,S,k){return this._def(c.varKinds.var,f,S,k)}assign(f,S,k){return this._leafNode(new a(f,S,k))}add(f,S){return this._leafNode(new i(f,e.operators.ADD,S))}code(f){return typeof f=="function"?f():f!==t.nil&&this._leafNode(new _(f)),this}object(...f){const S=["{"];for(const[k,K]of f)S.length>1&&S.push(","),S.push(k),(k!==K||this.opts.es5)&&(S.push(":"),(0,t.addCodeArg)(S,K));return S.push("}"),new t._Code(S)}if(f,S,k){if(this._blockNode(new y(f)),S&&k)this.code(S).else().code(k).endIf();else if(S)this.code(S).endIf();else if(k)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(f){return this._elseNode(new y(f))}else(){return this._elseNode(new h)}endIf(){return this._endBlockNode(y,h)}_for(f,S){return this._blockNode(f),S&&this.code(S).endFor(),this}for(f,S){return this._for(new p(f),S)}forRange(f,S,k,K,G=this.opts.es5?c.varKinds.var:c.varKinds.let){const W=this._scope.toName(f);return this._for(new w(G,W,S,k),()=>K(W))}forOf(f,S,k,K=c.varKinds.const){const G=this._scope.toName(f);if(this.opts.es5){const W=S instanceof t.Name?S:this.var("_arr",S);return this.forRange("_i",0,(0,t._)`${W}.length`,Z=>{this.var(G,(0,t._)`${W}[${Z}]`),k(G)})}return this._for(new m("of",K,G,S),()=>k(G))}forIn(f,S,k,K=this.opts.es5?c.varKinds.var:c.varKinds.const){if(this.opts.ownProperties)return this.forOf(f,(0,t._)`Object.keys(${S})`,k);const G=this._scope.toName(f);return this._for(new m("in",K,G,S),()=>k(G))}endFor(){return this._endBlockNode(o)}label(f){return this._leafNode(new d(f))}break(f){return this._leafNode(new s(f))}return(f){const S=new P;if(this._blockNode(S),this.code(f),S.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(P)}try(f,S,k){if(!S&&!k)throw new Error('CodeGen: "try" without "catch" and "finally"');const K=new I;if(this._blockNode(K),this.code(f),S){const G=this.name("e");this._currNode=K.catch=new A(G),S(G)}return k&&(this._currNode=K.finally=new M,this.code(k)),this._endBlockNode(A,M)}throw(f){return this._leafNode(new $(f))}block(f,S){return this._blockStarts.push(this._nodes.length),f&&this.code(f).endBlock(S),this}endBlock(f){const S=this._blockStarts.pop();if(S===void 0)throw new Error("CodeGen: not in self-balancing block");const k=this._nodes.length-S;if(k<0||f!==void 0&&k!==f)throw new Error(`CodeGen: wrong number of nodes: ${k} vs ${f} expected`);return this._nodes.length=S,this}func(f,S=t.nil,k,K){return this._blockNode(new v(f,S,k)),K&&this.code(K).endFunc(),this}endFunc(){return this._endBlockNode(v)}optimize(f=1){for(;f-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(f){return this._currNode.nodes.push(f),this}_blockNode(f){this._currNode.nodes.push(f),this._nodes.push(f)}_endBlockNode(f,S){const k=this._currNode;if(k instanceof f||S&&k instanceof S)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${S?`${f.kind}/${S.kind}`:f.kind}"`)}_elseNode(f){const S=this._currNode;if(!(S instanceof y))throw new Error('CodeGen: "else" without "if"');return this._currNode=S.else=f,this}get _root(){return this._nodes[0]}get _currNode(){const f=this._nodes;return f[f.length-1]}set _currNode(f){const S=this._nodes;S[S.length-1]=f}}e.CodeGen=F;function B(N,f){for(const S in f)N[S]=(N[S]||0)+(f[S]||0);return N}function J(N,f){return f instanceof t._CodeOrName?B(N,f.names):N}function V(N,f,S){if(N instanceof t.Name)return k(N);if(!K(N))return N;return new t._Code(N._items.reduce((G,W)=>(W instanceof t.Name&&(W=k(W)),W instanceof t._Code?G.push(...W._items):G.push(W),G),[]));function k(G){const W=S[G.str];return W===void 0||f[G.str]!==1?G:(delete f[G.str],W)}function K(G){return G instanceof t._Code&&G._items.some(W=>W instanceof t.Name&&f[W.str]===1&&S[W.str]!==void 0)}}function z(N,f){for(const S in f)N[S]=(N[S]||0)-(f[S]||0)}function Q(N){return typeof N=="boolean"||typeof N=="number"||N===null?!N:(0,t._)`!${j(N)}`}e.not=Q;const X=R(e.operators.AND);function D(...N){return N.reduce(X)}e.and=D;const U=R(e.operators.OR);function C(...N){return N.reduce(U)}e.or=C;function R(N){return(f,S)=>f===t.nil?S:S===t.nil?f:(0,t._)`${j(f)} ${N} ${j(S)}`}function j(N){return N instanceof t.Name?N:(0,t._)`(${N})`}})(qn)),qn}var ee={},ja;function ie(){if(ja)return ee;ja=1,Object.defineProperty(ee,"__esModule",{value:!0}),ee.checkStrictMode=ee.getErrorPath=ee.Type=ee.useFunc=ee.setEvaluated=ee.evaluatedPropsToName=ee.mergeEvaluated=ee.eachItem=ee.unescapeJsonPointer=ee.escapeJsonPointer=ee.escapeFragment=ee.unescapeFragment=ee.schemaRefOrVal=ee.schemaHasRulesButRef=ee.schemaHasRules=ee.checkUnknownRules=ee.alwaysValidSchema=ee.toHash=void 0;const e=ne(),t=dn();function c(m){const v={};for(const P of m)v[P]=!0;return v}ee.toHash=c;function r(m,v){return typeof v=="boolean"?v:Object.keys(v).length===0?!0:(u(m,v),!n(v,m.self.RULES.all))}ee.alwaysValidSchema=r;function u(m,v=m.schema){const{opts:P,self:I}=m;if(!P.strictSchema||typeof v=="boolean")return;const A=I.RULES.keywords;for(const M in v)A[M]||w(m,`unknown keyword: "${M}"`)}ee.checkUnknownRules=u;function n(m,v){if(typeof m=="boolean")return!m;for(const P in m)if(v[P])return!0;return!1}ee.schemaHasRules=n;function l(m,v){if(typeof m=="boolean")return!m;for(const P in m)if(P!=="$ref"&&v.all[P])return!0;return!1}ee.schemaHasRulesButRef=l;function a({topSchemaRef:m,schemaPath:v},P,I,A){if(!A){if(typeof P=="number"||typeof P=="boolean")return P;if(typeof P=="string")return(0,e._)`${P}`}return(0,e._)`${m}${v}${(0,e.getProperty)(I)}`}ee.schemaRefOrVal=a;function i(m){return $(decodeURIComponent(m))}ee.unescapeFragment=i;function d(m){return encodeURIComponent(s(m))}ee.escapeFragment=d;function s(m){return typeof m=="number"?`${m}`:m.replace(/~/g,"~0").replace(/\//g,"~1")}ee.escapeJsonPointer=s;function $(m){return m.replace(/~1/g,"/").replace(/~0/g,"~")}ee.unescapeJsonPointer=$;function _(m,v){if(Array.isArray(m))for(const P of m)v(P);else v(m)}ee.eachItem=_;function g({mergeNames:m,mergeToName:v,mergeValues:P,resultToName:I}){return(A,M,F,B)=>{const J=F===void 0?M:F instanceof e.Name?(M instanceof e.Name?m(A,M,F):v(A,M,F),F):M instanceof e.Name?(v(A,F,M),M):P(M,F);return B===e.Name&&!(J instanceof e.Name)?I(A,J):J}}ee.mergeEvaluated={props:g({mergeNames:(m,v,P)=>m.if((0,e._)`${P} !== true && ${v} !== undefined`,()=>{m.if((0,e._)`${v} === true`,()=>m.assign(P,!0),()=>m.assign(P,(0,e._)`${P} || {}`).code((0,e._)`Object.assign(${P}, ${v})`))}),mergeToName:(m,v,P)=>m.if((0,e._)`${P} !== true`,()=>{v===!0?m.assign(P,!0):(m.assign(P,(0,e._)`${P} || {}`),E(m,P,v))}),mergeValues:(m,v)=>m===!0?!0:{...m,...v},resultToName:b}),items:g({mergeNames:(m,v,P)=>m.if((0,e._)`${P} !== true && ${v} !== undefined`,()=>m.assign(P,(0,e._)`${v} === true ? true : ${P} > ${v} ? ${P} : ${v}`)),mergeToName:(m,v,P)=>m.if((0,e._)`${P} !== true`,()=>m.assign(P,v===!0?!0:(0,e._)`${P} > ${v} ? ${P} : ${v}`)),mergeValues:(m,v)=>m===!0?!0:Math.max(m,v),resultToName:(m,v)=>m.var("items",v)})};function b(m,v){if(v===!0)return m.var("props",!0);const P=m.var("props",(0,e._)`{}`);return v!==void 0&&E(m,P,v),P}ee.evaluatedPropsToName=b;function E(m,v,P){Object.keys(P).forEach(I=>m.assign((0,e._)`${v}${(0,e.getProperty)(I)}`,!0))}ee.setEvaluated=E;const h={};function y(m,v){return m.scopeValue("func",{ref:v,code:h[v.code]||(h[v.code]=new t._Code(v.code))})}ee.useFunc=y;var o;(function(m){m[m.Num=0]="Num",m[m.Str=1]="Str"})(o||(ee.Type=o={}));function p(m,v,P){if(m instanceof e.Name){const I=v===o.Num;return P?I?(0,e._)`"[" + ${m} + "]"`:(0,e._)`"['" + ${m} + "']"`:I?(0,e._)`"/" + ${m}`:(0,e._)`"/" + ${m}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return P?(0,e.getProperty)(m).toString():"/"+s(m)}ee.getErrorPath=p;function w(m,v,P=m.opts.strictSchema){if(P){if(v=`strict mode: ${v}`,P===!0)throw new Error(v);m.self.logger.warn(v)}}return ee.checkStrictMode=w,ee}var Lt={},ka;function He(){if(ka)return Lt;ka=1,Object.defineProperty(Lt,"__esModule",{value:!0});const e=ne(),t={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};return Lt.default=t,Lt}var Aa;function mn(){return Aa||(Aa=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=ne(),c=ie(),r=He();e.keywordError={message:({keyword:h})=>(0,t.str)`must pass "${h}" keyword validation`},e.keyword$DataError={message:({keyword:h,schemaType:y})=>y?(0,t.str)`"${h}" keyword must be ${y} ($data)`:(0,t.str)`"${h}" keyword is invalid ($data)`};function u(h,y=e.keywordError,o,p){const{it:w}=h,{gen:m,compositeRule:v,allErrors:P}=w,I=$(h,y,o);p??(v||P)?i(m,I):d(w,(0,t._)`[${I}]`)}e.reportError=u;function n(h,y=e.keywordError,o){const{it:p}=h,{gen:w,compositeRule:m,allErrors:v}=p,P=$(h,y,o);i(w,P),m||v||d(p,r.default.vErrors)}e.reportExtraError=n;function l(h,y){h.assign(r.default.errors,y),h.if((0,t._)`${r.default.vErrors} !== null`,()=>h.if(y,()=>h.assign((0,t._)`${r.default.vErrors}.length`,y),()=>h.assign(r.default.vErrors,null)))}e.resetErrorsCount=l;function a({gen:h,keyword:y,schemaValue:o,data:p,errsCount:w,it:m}){if(w===void 0)throw new Error("ajv implementation error");const v=h.name("err");h.forRange("i",w,r.default.errors,P=>{h.const(v,(0,t._)`${r.default.vErrors}[${P}]`),h.if((0,t._)`${v}.instancePath === undefined`,()=>h.assign((0,t._)`${v}.instancePath`,(0,t.strConcat)(r.default.instancePath,m.errorPath))),h.assign((0,t._)`${v}.schemaPath`,(0,t.str)`${m.errSchemaPath}/${y}`),m.opts.verbose&&(h.assign((0,t._)`${v}.schema`,o),h.assign((0,t._)`${v}.data`,p))})}e.extendErrors=a;function i(h,y){const o=h.const("err",y);h.if((0,t._)`${r.default.vErrors} === null`,()=>h.assign(r.default.vErrors,(0,t._)`[${o}]`),(0,t._)`${r.default.vErrors}.push(${o})`),h.code((0,t._)`${r.default.errors}++`)}function d(h,y){const{gen:o,validateName:p,schemaEnv:w}=h;w.$async?o.throw((0,t._)`new ${h.ValidationError}(${y})`):(o.assign((0,t._)`${p}.errors`,y),o.return(!1))}const s={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function $(h,y,o){const{createErrors:p}=h.it;return p===!1?(0,t._)`{}`:_(h,y,o)}function _(h,y,o={}){const{gen:p,it:w}=h,m=[g(w,o),b(h,o)];return E(h,y,m),p.object(...m)}function g({errorPath:h},{instancePath:y}){const o=y?(0,t.str)`${h}${(0,c.getErrorPath)(y,c.Type.Str)}`:h;return[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,o)]}function b({keyword:h,it:{errSchemaPath:y}},{schemaPath:o,parentSchema:p}){let w=p?y:(0,t.str)`${y}/${h}`;return o&&(w=(0,t.str)`${w}${(0,c.getErrorPath)(o,c.Type.Str)}`),[s.schemaPath,w]}function E(h,{params:y,message:o},p){const{keyword:w,data:m,schemaValue:v,it:P}=h,{opts:I,propertyName:A,topSchemaRef:M,schemaPath:F}=P;p.push([s.keyword,w],[s.params,typeof y=="function"?y(h):y||(0,t._)`{}`]),I.messages&&p.push([s.message,typeof o=="function"?o(h):o]),I.verbose&&p.push([s.schema,v],[s.parentSchema,(0,t._)`${M}${F}`],[r.default.data,m]),A&&p.push([s.propertyName,A])}})(An)),An}var qa;function tl(){if(qa)return xe;qa=1,Object.defineProperty(xe,"__esModule",{value:!0}),xe.boolOrEmptySchema=xe.topBoolOrEmptySchema=void 0;const e=mn(),t=ne(),c=He(),r={message:"boolean schema is false"};function u(a){const{gen:i,schema:d,validateName:s}=a;d===!1?l(a,!1):typeof d=="object"&&d.$async===!0?i.return(c.default.data):(i.assign((0,t._)`${s}.errors`,null),i.return(!0))}xe.topBoolOrEmptySchema=u;function n(a,i){const{gen:d,schema:s}=a;s===!1?(d.var(i,!1),l(a)):d.var(i,!0)}xe.boolOrEmptySchema=n;function l(a,i){const{gen:d,data:s}=a,$={gen:d,keyword:"false schema",data:s,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:a};(0,e.reportError)($,r,void 0,i)}return xe}var ye={},We={},Da;function su(){if(Da)return We;Da=1,Object.defineProperty(We,"__esModule",{value:!0}),We.getRules=We.isJSONType=void 0;const e=["string","number","integer","boolean","null","object","array"],t=new Set(e);function c(u){return typeof u=="string"&&t.has(u)}We.isJSONType=c;function r(){const u={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...u,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},u.number,u.string,u.array,u.object],post:{rules:[]},all:{},keywords:{}}}return We.getRules=r,We}var De={},Ma;function au(){if(Ma)return De;Ma=1,Object.defineProperty(De,"__esModule",{value:!0}),De.shouldUseRule=De.shouldUseGroup=De.schemaHasRulesForType=void 0;function e({schema:r,self:u},n){const l=u.RULES.types[n];return l&&l!==!0&&t(r,l)}De.schemaHasRulesForType=e;function t(r,u){return u.rules.some(n=>c(r,n))}De.shouldUseGroup=t;function c(r,u){var n;return r[u.keyword]!==void 0||((n=u.definition.implements)===null||n===void 0?void 0:n.some(l=>r[l]!==void 0))}return De.shouldUseRule=c,De}var La;function fn(){if(La)return ye;La=1,Object.defineProperty(ye,"__esModule",{value:!0}),ye.reportTypeError=ye.checkDataTypes=ye.checkDataType=ye.coerceAndCheckDataType=ye.getJSONTypes=ye.getSchemaTypes=ye.DataType=void 0;const e=su(),t=au(),c=mn(),r=ne(),u=ie();var n;(function(o){o[o.Correct=0]="Correct",o[o.Wrong=1]="Wrong"})(n||(ye.DataType=n={}));function l(o){const p=a(o.type);if(p.includes("null")){if(o.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!p.length&&o.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');o.nullable===!0&&p.push("null")}return p}ye.getSchemaTypes=l;function a(o){const p=Array.isArray(o)?o:o?[o]:[];if(p.every(e.isJSONType))return p;throw new Error("type must be JSONType or JSONType[]: "+p.join(","))}ye.getJSONTypes=a;function i(o,p){const{gen:w,data:m,opts:v}=o,P=s(p,v.coerceTypes),I=p.length>0&&!(P.length===0&&p.length===1&&(0,t.schemaHasRulesForType)(o,p[0]));if(I){const A=b(p,m,v.strictNumbers,n.Wrong);w.if(A,()=>{P.length?$(o,p,P):h(o)})}return I}ye.coerceAndCheckDataType=i;const d=new Set(["string","number","integer","boolean","null"]);function s(o,p){return p?o.filter(w=>d.has(w)||p==="array"&&w==="array"):[]}function $(o,p,w){const{gen:m,data:v,opts:P}=o,I=m.let("dataType",(0,r._)`typeof ${v}`),A=m.let("coerced",(0,r._)`undefined`);P.coerceTypes==="array"&&m.if((0,r._)`${I} == 'object' && Array.isArray(${v}) && ${v}.length == 1`,()=>m.assign(v,(0,r._)`${v}[0]`).assign(I,(0,r._)`typeof ${v}`).if(b(p,v,P.strictNumbers),()=>m.assign(A,v))),m.if((0,r._)`${A} !== undefined`);for(const F of w)(d.has(F)||F==="array"&&P.coerceTypes==="array")&&M(F);m.else(),h(o),m.endIf(),m.if((0,r._)`${A} !== undefined`,()=>{m.assign(v,A),_(o,A)});function M(F){switch(F){case"string":m.elseIf((0,r._)`${I} == "number" || ${I} == "boolean"`).assign(A,(0,r._)`"" + ${v}`).elseIf((0,r._)`${v} === null`).assign(A,(0,r._)`""`);return;case"number":m.elseIf((0,r._)`${I} == "boolean" || ${v} === null
              || (${I} == "string" && ${v} && ${v} == +${v})`).assign(A,(0,r._)`+${v}`);return;case"integer":m.elseIf((0,r._)`${I} === "boolean" || ${v} === null
              || (${I} === "string" && ${v} && ${v} == +${v} && !(${v} % 1))`).assign(A,(0,r._)`+${v}`);return;case"boolean":m.elseIf((0,r._)`${v} === "false" || ${v} === 0 || ${v} === null`).assign(A,!1).elseIf((0,r._)`${v} === "true" || ${v} === 1`).assign(A,!0);return;case"null":m.elseIf((0,r._)`${v} === "" || ${v} === 0 || ${v} === false`),m.assign(A,null);return;case"array":m.elseIf((0,r._)`${I} === "string" || ${I} === "number"
              || ${I} === "boolean" || ${v} === null`).assign(A,(0,r._)`[${v}]`)}}}function _({gen:o,parentData:p,parentDataProperty:w},m){o.if((0,r._)`${p} !== undefined`,()=>o.assign((0,r._)`${p}[${w}]`,m))}function g(o,p,w,m=n.Correct){const v=m===n.Correct?r.operators.EQ:r.operators.NEQ;let P;switch(o){case"null":return(0,r._)`${p} ${v} null`;case"array":P=(0,r._)`Array.isArray(${p})`;break;case"object":P=(0,r._)`${p} && typeof ${p} == "object" && !Array.isArray(${p})`;break;case"integer":P=I((0,r._)`!(${p} % 1) && !isNaN(${p})`);break;case"number":P=I();break;default:return(0,r._)`typeof ${p} ${v} ${o}`}return m===n.Correct?P:(0,r.not)(P);function I(A=r.nil){return(0,r.and)((0,r._)`typeof ${p} == "number"`,A,w?(0,r._)`isFinite(${p})`:r.nil)}}ye.checkDataType=g;function b(o,p,w,m){if(o.length===1)return g(o[0],p,w,m);let v;const P=(0,u.toHash)(o);if(P.array&&P.object){const I=(0,r._)`typeof ${p} != "object"`;v=P.null?I:(0,r._)`!${p} || ${I}`,delete P.null,delete P.array,delete P.object}else v=r.nil;P.number&&delete P.integer;for(const I in P)v=(0,r.and)(v,g(I,p,w,m));return v}ye.checkDataTypes=b;const E={message:({schema:o})=>`must be ${o}`,params:({schema:o,schemaValue:p})=>typeof o=="string"?(0,r._)`{type: ${o}}`:(0,r._)`{type: ${p}}`};function h(o){const p=y(o);(0,c.reportError)(p,E)}ye.reportTypeError=h;function y(o){const{gen:p,data:w,schema:m}=o,v=(0,u.schemaRefOrVal)(o,m,"type");return{gen:p,keyword:"type",data:w,schema:m.type,schemaCode:v,schemaValue:v,parentSchema:m,params:{},it:o}}return ye}var ht={},Fa;function rl(){if(Fa)return ht;Fa=1,Object.defineProperty(ht,"__esModule",{value:!0}),ht.assignDefaults=void 0;const e=ne(),t=ie();function c(u,n){const{properties:l,items:a}=u.schema;if(n==="object"&&l)for(const i in l)r(u,i,l[i].default);else n==="array"&&Array.isArray(a)&&a.forEach((i,d)=>r(u,d,i.default))}ht.assignDefaults=c;function r(u,n,l){const{gen:a,compositeRule:i,data:d,opts:s}=u;if(l===void 0)return;const $=(0,e._)`${d}${(0,e.getProperty)(n)}`;if(i){(0,t.checkStrictMode)(u,`default is ignored for: ${$}`);return}let _=(0,e._)`${$} === undefined`;s.useDefaults==="empty"&&(_=(0,e._)`${_} || ${$} === null || ${$} === ""`),a.if(_,(0,e._)`${$} = ${(0,e.stringify)(l)}`)}return ht}var Re={},le={},Va;function Ie(){if(Va)return le;Va=1,Object.defineProperty(le,"__esModule",{value:!0}),le.validateUnion=le.validateArray=le.usePattern=le.callValidateCode=le.schemaProperties=le.allSchemaProperties=le.noPropertyInData=le.propertyInData=le.isOwnProperty=le.hasPropFunc=le.reportMissingProp=le.checkMissingProp=le.checkReportMissingProp=void 0;const e=ne(),t=ie(),c=He(),r=ie();function u(o,p){const{gen:w,data:m,it:v}=o;w.if(s(w,m,p,v.opts.ownProperties),()=>{o.setParams({missingProperty:(0,e._)`${p}`},!0),o.error()})}le.checkReportMissingProp=u;function n({gen:o,data:p,it:{opts:w}},m,v){return(0,e.or)(...m.map(P=>(0,e.and)(s(o,p,P,w.ownProperties),(0,e._)`${v} = ${P}`)))}le.checkMissingProp=n;function l(o,p){o.setParams({missingProperty:p},!0),o.error()}le.reportMissingProp=l;function a(o){return o.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}le.hasPropFunc=a;function i(o,p,w){return(0,e._)`${a(o)}.call(${p}, ${w})`}le.isOwnProperty=i;function d(o,p,w,m){const v=(0,e._)`${p}${(0,e.getProperty)(w)} !== undefined`;return m?(0,e._)`${v} && ${i(o,p,w)}`:v}le.propertyInData=d;function s(o,p,w,m){const v=(0,e._)`${p}${(0,e.getProperty)(w)} === undefined`;return m?(0,e.or)(v,(0,e.not)(i(o,p,w))):v}le.noPropertyInData=s;function $(o){return o?Object.keys(o).filter(p=>p!=="__proto__"):[]}le.allSchemaProperties=$;function _(o,p){return $(p).filter(w=>!(0,t.alwaysValidSchema)(o,p[w]))}le.schemaProperties=_;function g({schemaCode:o,data:p,it:{gen:w,topSchemaRef:m,schemaPath:v,errorPath:P},it:I},A,M,F){const B=F?(0,e._)`${o}, ${p}, ${m}${v}`:p,J=[[c.default.instancePath,(0,e.strConcat)(c.default.instancePath,P)],[c.default.parentData,I.parentData],[c.default.parentDataProperty,I.parentDataProperty],[c.default.rootData,c.default.rootData]];I.opts.dynamicRef&&J.push([c.default.dynamicAnchors,c.default.dynamicAnchors]);const V=(0,e._)`${B}, ${w.object(...J)}`;return M!==e.nil?(0,e._)`${A}.call(${M}, ${V})`:(0,e._)`${A}(${V})`}le.callValidateCode=g;const b=(0,e._)`new RegExp`;function E({gen:o,it:{opts:p}},w){const m=p.unicodeRegExp?"u":"",{regExp:v}=p.code,P=v(w,m);return o.scopeValue("pattern",{key:P.toString(),ref:P,code:(0,e._)`${v.code==="new RegExp"?b:(0,r.useFunc)(o,v)}(${w}, ${m})`})}le.usePattern=E;function h(o){const{gen:p,data:w,keyword:m,it:v}=o,P=p.name("valid");if(v.allErrors){const A=p.let("valid",!0);return I(()=>p.assign(A,!1)),A}return p.var(P,!0),I(()=>p.break()),P;function I(A){const M=p.const("len",(0,e._)`${w}.length`);p.forRange("i",0,M,F=>{o.subschema({keyword:m,dataProp:F,dataPropType:t.Type.Num},P),p.if((0,e.not)(P),A)})}}le.validateArray=h;function y(o){const{gen:p,schema:w,keyword:m,it:v}=o;if(!Array.isArray(w))throw new Error("ajv implementation error");if(w.some(M=>(0,t.alwaysValidSchema)(v,M))&&!v.opts.unevaluated)return;const I=p.let("valid",!1),A=p.name("_valid");p.block(()=>w.forEach((M,F)=>{const B=o.subschema({keyword:m,schemaProp:F,compositeRule:!0},A);p.assign(I,(0,e._)`${I} || ${A}`),o.mergeValidEvaluated(B,A)||p.if((0,e.not)(I))})),o.result(I,()=>o.reset(),()=>o.error(!0))}return le.validateUnion=y,le}var Ua;function nl(){if(Ua)return Re;Ua=1,Object.defineProperty(Re,"__esModule",{value:!0}),Re.validateKeywordUsage=Re.validSchemaType=Re.funcKeywordCode=Re.macroKeywordCode=void 0;const e=ne(),t=He(),c=Ie(),r=mn();function u(_,g){const{gen:b,keyword:E,schema:h,parentSchema:y,it:o}=_,p=g.macro.call(o.self,h,y,o),w=d(b,E,p);o.opts.validateSchema!==!1&&o.self.validateSchema(p,!0);const m=b.name("valid");_.subschema({schema:p,schemaPath:e.nil,errSchemaPath:`${o.errSchemaPath}/${E}`,topSchemaRef:w,compositeRule:!0},m),_.pass(m,()=>_.error(!0))}Re.macroKeywordCode=u;function n(_,g){var b;const{gen:E,keyword:h,schema:y,parentSchema:o,$data:p,it:w}=_;i(w,g);const m=!p&&g.compile?g.compile.call(w.self,y,o,w):g.validate,v=d(E,h,m),P=E.let("valid");_.block$data(P,I),_.ok((b=g.valid)!==null&&b!==void 0?b:P);function I(){if(g.errors===!1)F(),g.modifying&&l(_),B(()=>_.error());else{const J=g.async?A():M();g.modifying&&l(_),B(()=>a(_,J))}}function A(){const J=E.let("ruleErrs",null);return E.try(()=>F((0,e._)`await `),V=>E.assign(P,!1).if((0,e._)`${V} instanceof ${w.ValidationError}`,()=>E.assign(J,(0,e._)`${V}.errors`),()=>E.throw(V))),J}function M(){const J=(0,e._)`${v}.errors`;return E.assign(J,null),F(e.nil),J}function F(J=g.async?(0,e._)`await `:e.nil){const V=w.opts.passContext?t.default.this:t.default.self,z=!("compile"in g&&!p||g.schema===!1);E.assign(P,(0,e._)`${J}${(0,c.callValidateCode)(_,v,V,z)}`,g.modifying)}function B(J){var V;E.if((0,e.not)((V=g.valid)!==null&&V!==void 0?V:P),J)}}Re.funcKeywordCode=n;function l(_){const{gen:g,data:b,it:E}=_;g.if(E.parentData,()=>g.assign(b,(0,e._)`${E.parentData}[${E.parentDataProperty}]`))}function a(_,g){const{gen:b}=_;b.if((0,e._)`Array.isArray(${g})`,()=>{b.assign(t.default.vErrors,(0,e._)`${t.default.vErrors} === null ? ${g} : ${t.default.vErrors}.concat(${g})`).assign(t.default.errors,(0,e._)`${t.default.vErrors}.length`),(0,r.extendErrors)(_)},()=>_.error())}function i({schemaEnv:_},g){if(g.async&&!_.$async)throw new Error("async keyword in sync schema")}function d(_,g,b){if(b===void 0)throw new Error(`keyword "${g}" failed to compile`);return _.scopeValue("keyword",typeof b=="function"?{ref:b}:{ref:b,code:(0,e.stringify)(b)})}function s(_,g,b=!1){return!g.length||g.some(E=>E==="array"?Array.isArray(_):E==="object"?_&&typeof _=="object"&&!Array.isArray(_):typeof _==E||b&&typeof _>"u")}Re.validSchemaType=s;function $({schema:_,opts:g,self:b,errSchemaPath:E},h,y){if(Array.isArray(h.keyword)?!h.keyword.includes(y):h.keyword!==y)throw new Error("ajv implementation error");const o=h.dependencies;if(o?.some(p=>!Object.prototype.hasOwnProperty.call(_,p)))throw new Error(`parent schema must have dependencies of ${y}: ${o.join(",")}`);if(h.validateSchema&&!h.validateSchema(_[y])){const w=`keyword "${y}" value is invalid at path "${E}": `+b.errorsText(h.validateSchema.errors);if(g.validateSchema==="log")b.logger.error(w);else throw new Error(w)}}return Re.validateKeywordUsage=$,Re}var Me={},za;function sl(){if(za)return Me;za=1,Object.defineProperty(Me,"__esModule",{value:!0}),Me.extendSubschemaMode=Me.extendSubschemaData=Me.getSubschema=void 0;const e=ne(),t=ie();function c(n,{keyword:l,schemaProp:a,schema:i,schemaPath:d,errSchemaPath:s,topSchemaRef:$}){if(l!==void 0&&i!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(l!==void 0){const _=n.schema[l];return a===void 0?{schema:_,schemaPath:(0,e._)`${n.schemaPath}${(0,e.getProperty)(l)}`,errSchemaPath:`${n.errSchemaPath}/${l}`}:{schema:_[a],schemaPath:(0,e._)`${n.schemaPath}${(0,e.getProperty)(l)}${(0,e.getProperty)(a)}`,errSchemaPath:`${n.errSchemaPath}/${l}/${(0,t.escapeFragment)(a)}`}}if(i!==void 0){if(d===void 0||s===void 0||$===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:i,schemaPath:d,topSchemaRef:$,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}Me.getSubschema=c;function r(n,l,{dataProp:a,dataPropType:i,data:d,dataTypes:s,propertyName:$}){if(d!==void 0&&a!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:_}=l;if(a!==void 0){const{errorPath:b,dataPathArr:E,opts:h}=l,y=_.let("data",(0,e._)`${l.data}${(0,e.getProperty)(a)}`,!0);g(y),n.errorPath=(0,e.str)`${b}${(0,t.getErrorPath)(a,i,h.jsPropertySyntax)}`,n.parentDataProperty=(0,e._)`${a}`,n.dataPathArr=[...E,n.parentDataProperty]}if(d!==void 0){const b=d instanceof e.Name?d:_.let("data",d,!0);g(b),$!==void 0&&(n.propertyName=$)}s&&(n.dataTypes=s);function g(b){n.data=b,n.dataLevel=l.dataLevel+1,n.dataTypes=[],l.definedProperties=new Set,n.parentData=l.data,n.dataNames=[...l.dataNames,b]}}Me.extendSubschemaData=r;function u(n,{jtdDiscriminator:l,jtdMetadata:a,compositeRule:i,createErrors:d,allErrors:s}){i!==void 0&&(n.compositeRule=i),d!==void 0&&(n.createErrors=d),s!==void 0&&(n.allErrors=s),n.jtdDiscriminator=l,n.jtdMetadata=a}return Me.extendSubschemaMode=u,Me}var ge={},Ln,Ka;function yn(){return Ka||(Ka=1,Ln=function e(t,c){if(t===c)return!0;if(t&&c&&typeof t=="object"&&typeof c=="object"){if(t.constructor!==c.constructor)return!1;var r,u,n;if(Array.isArray(t)){if(r=t.length,r!=c.length)return!1;for(u=r;u--!==0;)if(!e(t[u],c[u]))return!1;return!0}if(t.constructor===RegExp)return t.source===c.source&&t.flags===c.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===c.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===c.toString();if(n=Object.keys(t),r=n.length,r!==Object.keys(c).length)return!1;for(u=r;u--!==0;)if(!Object.prototype.hasOwnProperty.call(c,n[u]))return!1;for(u=r;u--!==0;){var l=n[u];if(!e(t[l],c[l]))return!1}return!0}return t!==t&&c!==c}),Ln}var Fn={exports:{}},Ga;function al(){if(Ga)return Fn.exports;Ga=1;var e=Fn.exports=function(r,u,n){typeof u=="function"&&(n=u,u={}),n=u.cb||n;var l=typeof n=="function"?n:n.pre||function(){},a=n.post||function(){};t(u,l,a,r,"",r)};e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function t(r,u,n,l,a,i,d,s,$,_){if(l&&typeof l=="object"&&!Array.isArray(l)){u(l,a,i,d,s,$,_);for(var g in l){var b=l[g];if(Array.isArray(b)){if(g in e.arrayKeywords)for(var E=0;E<b.length;E++)t(r,u,n,b[E],a+"/"+g+"/"+E,i,a,g,l,E)}else if(g in e.propsKeywords){if(b&&typeof b=="object")for(var h in b)t(r,u,n,b[h],a+"/"+g+"/"+c(h),i,a,g,l,h)}else(g in e.keywords||r.allKeys&&!(g in e.skipKeywords))&&t(r,u,n,b,a+"/"+g,i,a,g,l)}n(l,a,i,d,s,$,_)}}function c(r){return r.replace(/~/g,"~0").replace(/\//g,"~1")}return Fn.exports}var Ha;function vn(){if(Ha)return ge;Ha=1,Object.defineProperty(ge,"__esModule",{value:!0}),ge.getSchemaRefs=ge.resolveUrl=ge.normalizeId=ge._getFullPath=ge.getFullPath=ge.inlineRef=void 0;const e=ie(),t=yn(),c=al(),r=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function u(E,h=!0){return typeof E=="boolean"?!0:h===!0?!l(E):h?a(E)<=h:!1}ge.inlineRef=u;const n=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function l(E){for(const h in E){if(n.has(h))return!0;const y=E[h];if(Array.isArray(y)&&y.some(l)||typeof y=="object"&&l(y))return!0}return!1}function a(E){let h=0;for(const y in E){if(y==="$ref")return 1/0;if(h++,!r.has(y)&&(typeof E[y]=="object"&&(0,e.eachItem)(E[y],o=>h+=a(o)),h===1/0))return 1/0}return h}function i(E,h="",y){y!==!1&&(h=$(h));const o=E.parse(h);return d(E,o)}ge.getFullPath=i;function d(E,h){return E.serialize(h).split("#")[0]+"#"}ge._getFullPath=d;const s=/#\/?$/;function $(E){return E?E.replace(s,""):""}ge.normalizeId=$;function _(E,h,y){return y=$(y),E.resolve(h,y)}ge.resolveUrl=_;const g=/^[a-z_][-a-z0-9._]*$/i;function b(E,h){if(typeof E=="boolean")return{};const{schemaId:y,uriResolver:o}=this.opts,p=$(E[y]||h),w={"":p},m=i(o,p,!1),v={},P=new Set;return c(E,{allKeys:!0},(M,F,B,J)=>{if(J===void 0)return;const V=m+F;let z=w[J];typeof M[y]=="string"&&(z=Q.call(this,M[y])),X.call(this,M.$anchor),X.call(this,M.$dynamicAnchor),w[F]=z;function Q(D){const U=this.opts.uriResolver.resolve;if(D=$(z?U(z,D):D),P.has(D))throw A(D);P.add(D);let C=this.refs[D];return typeof C=="string"&&(C=this.refs[C]),typeof C=="object"?I(M,C.schema,D):D!==$(V)&&(D[0]==="#"?(I(M,v[D],D),v[D]=M):this.refs[D]=V),D}function X(D){if(typeof D=="string"){if(!g.test(D))throw new Error(`invalid anchor "${D}"`);Q.call(this,`#${D}`)}}}),v;function I(M,F,B){if(F!==void 0&&!t(M,F))throw A(B)}function A(M){return new Error(`reference "${M}" resolves to more than one schema`)}}return ge.getSchemaRefs=b,ge}var Ba;function gn(){if(Ba)return qe;Ba=1,Object.defineProperty(qe,"__esModule",{value:!0}),qe.getData=qe.KeywordCxt=qe.validateFunctionCode=void 0;const e=tl(),t=fn(),c=au(),r=fn(),u=rl(),n=nl(),l=sl(),a=ne(),i=He(),d=vn(),s=ie(),$=mn();function _(O){if(m(O)&&(P(O),w(O))){h(O);return}g(O,()=>(0,e.topBoolOrEmptySchema)(O))}qe.validateFunctionCode=_;function g({gen:O,validateName:T,schema:q,schemaEnv:L,opts:H},Y){H.code.es5?O.func(T,(0,a._)`${i.default.data}, ${i.default.valCxt}`,L.$async,()=>{O.code((0,a._)`"use strict"; ${o(q,H)}`),E(O,H),O.code(Y)}):O.func(T,(0,a._)`${i.default.data}, ${b(H)}`,L.$async,()=>O.code(o(q,H)).code(Y))}function b(O){return(0,a._)`{${i.default.instancePath}="", ${i.default.parentData}, ${i.default.parentDataProperty}, ${i.default.rootData}=${i.default.data}${O.dynamicRef?(0,a._)`, ${i.default.dynamicAnchors}={}`:a.nil}}={}`}function E(O,T){O.if(i.default.valCxt,()=>{O.var(i.default.instancePath,(0,a._)`${i.default.valCxt}.${i.default.instancePath}`),O.var(i.default.parentData,(0,a._)`${i.default.valCxt}.${i.default.parentData}`),O.var(i.default.parentDataProperty,(0,a._)`${i.default.valCxt}.${i.default.parentDataProperty}`),O.var(i.default.rootData,(0,a._)`${i.default.valCxt}.${i.default.rootData}`),T.dynamicRef&&O.var(i.default.dynamicAnchors,(0,a._)`${i.default.valCxt}.${i.default.dynamicAnchors}`)},()=>{O.var(i.default.instancePath,(0,a._)`""`),O.var(i.default.parentData,(0,a._)`undefined`),O.var(i.default.parentDataProperty,(0,a._)`undefined`),O.var(i.default.rootData,i.default.data),T.dynamicRef&&O.var(i.default.dynamicAnchors,(0,a._)`{}`)})}function h(O){const{schema:T,opts:q,gen:L}=O;g(O,()=>{q.$comment&&T.$comment&&J(O),M(O),L.let(i.default.vErrors,null),L.let(i.default.errors,0),q.unevaluated&&y(O),I(O),V(O)})}function y(O){const{gen:T,validateName:q}=O;O.evaluated=T.const("evaluated",(0,a._)`${q}.evaluated`),T.if((0,a._)`${O.evaluated}.dynamicProps`,()=>T.assign((0,a._)`${O.evaluated}.props`,(0,a._)`undefined`)),T.if((0,a._)`${O.evaluated}.dynamicItems`,()=>T.assign((0,a._)`${O.evaluated}.items`,(0,a._)`undefined`))}function o(O,T){const q=typeof O=="object"&&O[T.schemaId];return q&&(T.code.source||T.code.process)?(0,a._)`/*# sourceURL=${q} */`:a.nil}function p(O,T){if(m(O)&&(P(O),w(O))){v(O,T);return}(0,e.boolOrEmptySchema)(O,T)}function w({schema:O,self:T}){if(typeof O=="boolean")return!O;for(const q in O)if(T.RULES.all[q])return!0;return!1}function m(O){return typeof O.schema!="boolean"}function v(O,T){const{schema:q,gen:L,opts:H}=O;H.$comment&&q.$comment&&J(O),F(O),B(O);const Y=L.const("_errs",i.default.errors);I(O,Y),L.var(T,(0,a._)`${Y} === ${i.default.errors}`)}function P(O){(0,s.checkUnknownRules)(O),A(O)}function I(O,T){if(O.opts.jtd)return Q(O,[],!1,T);const q=(0,t.getSchemaTypes)(O.schema),L=(0,t.coerceAndCheckDataType)(O,q);Q(O,q,!L,T)}function A(O){const{schema:T,errSchemaPath:q,opts:L,self:H}=O;T.$ref&&L.ignoreKeywordsWithRef&&(0,s.schemaHasRulesButRef)(T,H.RULES)&&H.logger.warn(`$ref: keywords ignored in schema at path "${q}"`)}function M(O){const{schema:T,opts:q}=O;T.default!==void 0&&q.useDefaults&&q.strictSchema&&(0,s.checkStrictMode)(O,"default is ignored in the schema root")}function F(O){const T=O.schema[O.opts.schemaId];T&&(O.baseId=(0,d.resolveUrl)(O.opts.uriResolver,O.baseId,T))}function B(O){if(O.schema.$async&&!O.schemaEnv.$async)throw new Error("async schema in sync schema")}function J({gen:O,schemaEnv:T,schema:q,errSchemaPath:L,opts:H}){const Y=q.$comment;if(H.$comment===!0)O.code((0,a._)`${i.default.self}.logger.log(${Y})`);else if(typeof H.$comment=="function"){const se=(0,a.str)`${L}/$comment`,pe=O.scopeValue("root",{ref:T.root});O.code((0,a._)`${i.default.self}.opts.$comment(${Y}, ${se}, ${pe}.schema)`)}}function V(O){const{gen:T,schemaEnv:q,validateName:L,ValidationError:H,opts:Y}=O;q.$async?T.if((0,a._)`${i.default.errors} === 0`,()=>T.return(i.default.data),()=>T.throw((0,a._)`new ${H}(${i.default.vErrors})`)):(T.assign((0,a._)`${L}.errors`,i.default.vErrors),Y.unevaluated&&z(O),T.return((0,a._)`${i.default.errors} === 0`))}function z({gen:O,evaluated:T,props:q,items:L}){q instanceof a.Name&&O.assign((0,a._)`${T}.props`,q),L instanceof a.Name&&O.assign((0,a._)`${T}.items`,L)}function Q(O,T,q,L){const{gen:H,schema:Y,data:se,allErrors:pe,opts:ce,self:ue}=O,{RULES:ae}=ue;if(Y.$ref&&(ce.ignoreKeywordsWithRef||!(0,s.schemaHasRulesButRef)(Y,ae))){H.block(()=>K(O,"$ref",ae.all.$ref.definition));return}ce.jtd||D(O,T),H.block(()=>{for(const he of ae.rules)we(he);we(ae.post)});function we(he){(0,c.shouldUseGroup)(Y,he)&&(he.type?(H.if((0,r.checkDataType)(he.type,se,ce.strictNumbers)),X(O,he),T.length===1&&T[0]===he.type&&q&&(H.else(),(0,r.reportTypeError)(O)),H.endIf()):X(O,he),pe||H.if((0,a._)`${i.default.errors} === ${L||0}`))}}function X(O,T){const{gen:q,schema:L,opts:{useDefaults:H}}=O;H&&(0,u.assignDefaults)(O,T.type),q.block(()=>{for(const Y of T.rules)(0,c.shouldUseRule)(L,Y)&&K(O,Y.keyword,Y.definition,T.type)})}function D(O,T){O.schemaEnv.meta||!O.opts.strictTypes||(U(O,T),O.opts.allowUnionTypes||C(O,T),R(O,O.dataTypes))}function U(O,T){if(T.length){if(!O.dataTypes.length){O.dataTypes=T;return}T.forEach(q=>{N(O.dataTypes,q)||S(O,`type "${q}" not allowed by context "${O.dataTypes.join(",")}"`)}),f(O,T)}}function C(O,T){T.length>1&&!(T.length===2&&T.includes("null"))&&S(O,"use allowUnionTypes to allow union type keyword")}function R(O,T){const q=O.self.RULES.all;for(const L in q){const H=q[L];if(typeof H=="object"&&(0,c.shouldUseRule)(O.schema,H)){const{type:Y}=H.definition;Y.length&&!Y.some(se=>j(T,se))&&S(O,`missing type "${Y.join(",")}" for keyword "${L}"`)}}}function j(O,T){return O.includes(T)||T==="number"&&O.includes("integer")}function N(O,T){return O.includes(T)||T==="integer"&&O.includes("number")}function f(O,T){const q=[];for(const L of O.dataTypes)N(T,L)?q.push(L):T.includes("integer")&&L==="number"&&q.push("integer");O.dataTypes=q}function S(O,T){const q=O.schemaEnv.baseId+O.errSchemaPath;T+=` at "${q}" (strictTypes)`,(0,s.checkStrictMode)(O,T,O.opts.strictTypes)}class k{constructor(T,q,L){if((0,n.validateKeywordUsage)(T,q,L),this.gen=T.gen,this.allErrors=T.allErrors,this.keyword=L,this.data=T.data,this.schema=T.schema[L],this.$data=q.$data&&T.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,s.schemaRefOrVal)(T,this.schema,L,this.$data),this.schemaType=q.schemaType,this.parentSchema=T.schema,this.params={},this.it=T,this.def=q,this.$data)this.schemaCode=T.gen.const("vSchema",Z(this.$data,T));else if(this.schemaCode=this.schemaValue,!(0,n.validSchemaType)(this.schema,q.schemaType,q.allowUndefined))throw new Error(`${L} value must be ${JSON.stringify(q.schemaType)}`);("code"in q?q.trackErrors:q.errors!==!1)&&(this.errsCount=T.gen.const("_errs",i.default.errors))}result(T,q,L){this.failResult((0,a.not)(T),q,L)}failResult(T,q,L){this.gen.if(T),L?L():this.error(),q?(this.gen.else(),q(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(T,q){this.failResult((0,a.not)(T),void 0,q)}fail(T){if(T===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(T),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(T){if(!this.$data)return this.fail(T);const{schemaCode:q}=this;this.fail((0,a._)`${q} !== undefined && (${(0,a.or)(this.invalid$data(),T)})`)}error(T,q,L){if(q){this.setParams(q),this._error(T,L),this.setParams({});return}this._error(T,L)}_error(T,q){(T?$.reportExtraError:$.reportError)(this,this.def.error,q)}$dataError(){(0,$.reportError)(this,this.def.$dataError||$.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,$.resetErrorsCount)(this.gen,this.errsCount)}ok(T){this.allErrors||this.gen.if(T)}setParams(T,q){q?Object.assign(this.params,T):this.params=T}block$data(T,q,L=a.nil){this.gen.block(()=>{this.check$data(T,L),q()})}check$data(T=a.nil,q=a.nil){if(!this.$data)return;const{gen:L,schemaCode:H,schemaType:Y,def:se}=this;L.if((0,a.or)((0,a._)`${H} === undefined`,q)),T!==a.nil&&L.assign(T,!0),(Y.length||se.validateSchema)&&(L.elseIf(this.invalid$data()),this.$dataError(),T!==a.nil&&L.assign(T,!1)),L.else()}invalid$data(){const{gen:T,schemaCode:q,schemaType:L,def:H,it:Y}=this;return(0,a.or)(se(),pe());function se(){if(L.length){if(!(q instanceof a.Name))throw new Error("ajv implementation error");const ce=Array.isArray(L)?L:[L];return(0,a._)`${(0,r.checkDataTypes)(ce,q,Y.opts.strictNumbers,r.DataType.Wrong)}`}return a.nil}function pe(){if(H.validateSchema){const ce=T.scopeValue("validate$data",{ref:H.validateSchema});return(0,a._)`!${ce}(${q})`}return a.nil}}subschema(T,q){const L=(0,l.getSubschema)(this.it,T);(0,l.extendSubschemaData)(L,this.it,T),(0,l.extendSubschemaMode)(L,T);const H={...this.it,...L,items:void 0,props:void 0};return p(H,q),H}mergeEvaluated(T,q){const{it:L,gen:H}=this;L.opts.unevaluated&&(L.props!==!0&&T.props!==void 0&&(L.props=s.mergeEvaluated.props(H,T.props,L.props,q)),L.items!==!0&&T.items!==void 0&&(L.items=s.mergeEvaluated.items(H,T.items,L.items,q)))}mergeValidEvaluated(T,q){const{it:L,gen:H}=this;if(L.opts.unevaluated&&(L.props!==!0||L.items!==!0))return H.if(q,()=>this.mergeEvaluated(T,a.Name)),!0}}qe.KeywordCxt=k;function K(O,T,q,L){const H=new k(O,q,T);"code"in q?q.code(H,L):H.$data&&q.validate?(0,n.funcKeywordCode)(H,q):"macro"in q?(0,n.macroKeywordCode)(H,q):(q.compile||q.validate)&&(0,n.funcKeywordCode)(H,q)}const G=/^\/(?:[^~]|~0|~1)*$/,W=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Z(O,{dataLevel:T,dataNames:q,dataPathArr:L}){let H,Y;if(O==="")return i.default.rootData;if(O[0]==="/"){if(!G.test(O))throw new Error(`Invalid JSON-pointer: ${O}`);H=O,Y=i.default.rootData}else{const ue=W.exec(O);if(!ue)throw new Error(`Invalid JSON-pointer: ${O}`);const ae=+ue[1];if(H=ue[2],H==="#"){if(ae>=T)throw new Error(ce("property/index",ae));return L[T-ae]}if(ae>T)throw new Error(ce("data",ae));if(Y=q[T-ae],!H)return Y}let se=Y;const pe=H.split("/");for(const ue of pe)ue&&(Y=(0,a._)`${Y}${(0,a.getProperty)((0,s.unescapeJsonPointer)(ue))}`,se=(0,a._)`${se} && ${Y}`);return se;function ce(ue,ae){return`Cannot access ${ue} ${ae} levels up, current level is ${T}`}}return qe.getData=Z,qe}var Ft={},Ja;function Ys(){if(Ja)return Ft;Ja=1,Object.defineProperty(Ft,"__esModule",{value:!0});class e extends Error{constructor(c){super("validation failed"),this.errors=c,this.ajv=this.validation=!0}}return Ft.default=e,Ft}var Vt={},Xa;function _n(){if(Xa)return Vt;Xa=1,Object.defineProperty(Vt,"__esModule",{value:!0});const e=vn();class t extends Error{constructor(r,u,n,l){super(l||`can't resolve reference ${n} from id ${u}`),this.missingRef=(0,e.resolveUrl)(r,u,n),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(r,this.missingRef))}}return Vt.default=t,Vt}var Ee={},Ya;function Qs(){if(Ya)return Ee;Ya=1,Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.resolveSchema=Ee.getCompilingSchema=Ee.resolveRef=Ee.compileSchema=Ee.SchemaEnv=void 0;const e=ne(),t=Ys(),c=He(),r=vn(),u=ie(),n=gn();class l{constructor(y){var o;this.refs={},this.dynamicAnchors={};let p;typeof y.schema=="object"&&(p=y.schema),this.schema=y.schema,this.schemaId=y.schemaId,this.root=y.root||this,this.baseId=(o=y.baseId)!==null&&o!==void 0?o:(0,r.normalizeId)(p?.[y.schemaId||"$id"]),this.schemaPath=y.schemaPath,this.localRefs=y.localRefs,this.meta=y.meta,this.$async=p?.$async,this.refs={}}}Ee.SchemaEnv=l;function a(h){const y=s.call(this,h);if(y)return y;const o=(0,r.getFullPath)(this.opts.uriResolver,h.root.baseId),{es5:p,lines:w}=this.opts.code,{ownProperties:m}=this.opts,v=new e.CodeGen(this.scope,{es5:p,lines:w,ownProperties:m});let P;h.$async&&(P=v.scopeValue("Error",{ref:t.default,code:(0,e._)`require("ajv/dist/runtime/validation_error").default`}));const I=v.scopeName("validate");h.validateName=I;const A={gen:v,allErrors:this.opts.allErrors,data:c.default.data,parentData:c.default.parentData,parentDataProperty:c.default.parentDataProperty,dataNames:[c.default.data],dataPathArr:[e.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:v.scopeValue("schema",this.opts.code.source===!0?{ref:h.schema,code:(0,e.stringify)(h.schema)}:{ref:h.schema}),validateName:I,ValidationError:P,schema:h.schema,schemaEnv:h,rootId:o,baseId:h.baseId||o,schemaPath:e.nil,errSchemaPath:h.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,e._)`""`,opts:this.opts,self:this};let M;try{this._compilations.add(h),(0,n.validateFunctionCode)(A),v.optimize(this.opts.code.optimize);const F=v.toString();M=`${v.scopeRefs(c.default.scope)}return ${F}`,this.opts.code.process&&(M=this.opts.code.process(M,h));const J=new Function(`${c.default.self}`,`${c.default.scope}`,M)(this,this.scope.get());if(this.scope.value(I,{ref:J}),J.errors=null,J.schema=h.schema,J.schemaEnv=h,h.$async&&(J.$async=!0),this.opts.code.source===!0&&(J.source={validateName:I,validateCode:F,scopeValues:v._values}),this.opts.unevaluated){const{props:V,items:z}=A;J.evaluated={props:V instanceof e.Name?void 0:V,items:z instanceof e.Name?void 0:z,dynamicProps:V instanceof e.Name,dynamicItems:z instanceof e.Name},J.source&&(J.source.evaluated=(0,e.stringify)(J.evaluated))}return h.validate=J,h}catch(F){throw delete h.validate,delete h.validateName,M&&this.logger.error("Error compiling schema, function code:",M),F}finally{this._compilations.delete(h)}}Ee.compileSchema=a;function i(h,y,o){var p;o=(0,r.resolveUrl)(this.opts.uriResolver,y,o);const w=h.refs[o];if(w)return w;let m=_.call(this,h,o);if(m===void 0){const v=(p=h.localRefs)===null||p===void 0?void 0:p[o],{schemaId:P}=this.opts;v&&(m=new l({schema:v,schemaId:P,root:h,baseId:y}))}if(m!==void 0)return h.refs[o]=d.call(this,m)}Ee.resolveRef=i;function d(h){return(0,r.inlineRef)(h.schema,this.opts.inlineRefs)?h.schema:h.validate?h:a.call(this,h)}function s(h){for(const y of this._compilations)if($(y,h))return y}Ee.getCompilingSchema=s;function $(h,y){return h.schema===y.schema&&h.root===y.root&&h.baseId===y.baseId}function _(h,y){let o;for(;typeof(o=this.refs[y])=="string";)y=o;return o||this.schemas[y]||g.call(this,h,y)}function g(h,y){const o=this.opts.uriResolver.parse(y),p=(0,r._getFullPath)(this.opts.uriResolver,o);let w=(0,r.getFullPath)(this.opts.uriResolver,h.baseId,void 0);if(Object.keys(h.schema).length>0&&p===w)return E.call(this,o,h);const m=(0,r.normalizeId)(p),v=this.refs[m]||this.schemas[m];if(typeof v=="string"){const P=g.call(this,h,v);return typeof P?.schema!="object"?void 0:E.call(this,o,P)}if(typeof v?.schema=="object"){if(v.validate||a.call(this,v),m===(0,r.normalizeId)(y)){const{schema:P}=v,{schemaId:I}=this.opts,A=P[I];return A&&(w=(0,r.resolveUrl)(this.opts.uriResolver,w,A)),new l({schema:P,schemaId:I,root:h,baseId:w})}return E.call(this,o,v)}}Ee.resolveSchema=g;const b=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function E(h,{baseId:y,schema:o,root:p}){var w;if(((w=h.fragment)===null||w===void 0?void 0:w[0])!=="/")return;for(const P of h.fragment.slice(1).split("/")){if(typeof o=="boolean")return;const I=o[(0,u.unescapeFragment)(P)];if(I===void 0)return;o=I;const A=typeof o=="object"&&o[this.opts.schemaId];!b.has(P)&&A&&(y=(0,r.resolveUrl)(this.opts.uriResolver,y,A))}let m;if(typeof o!="boolean"&&o.$ref&&!(0,u.schemaHasRulesButRef)(o,this.RULES)){const P=(0,r.resolveUrl)(this.opts.uriResolver,y,o.$ref);m=g.call(this,p,P)}const{schemaId:v}=this.opts;if(m=m||new l({schema:o,schemaId:v,root:p,baseId:y}),m.schema!==m.root.schema)return m}return Ee}const il="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",ol="Meta-schema for $data reference (JSON AnySchema extension proposal)",cl="object",ul=["$data"],ll={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},dl=!1,fl={$id:il,description:ol,type:cl,required:ul,properties:ll,additionalProperties:dl};var Ut={},pt={exports:{}},Vn,Qa;function iu(){if(Qa)return Vn;Qa=1;const e=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),t=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function c(_){let g="",b=0,E=0;for(E=0;E<_.length;E++)if(b=_[E].charCodeAt(0),b!==48){if(!(b>=48&&b<=57||b>=65&&b<=70||b>=97&&b<=102))return"";g+=_[E];break}for(E+=1;E<_.length;E++){if(b=_[E].charCodeAt(0),!(b>=48&&b<=57||b>=65&&b<=70||b>=97&&b<=102))return"";g+=_[E]}return g}const r=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function u(_){return _.length=0,!0}function n(_,g,b){if(_.length){const E=c(_);if(E!=="")g.push(E);else return b.error=!0,!1;_.length=0}return!0}function l(_){let g=0;const b={error:!1,address:"",zone:""},E=[],h=[];let y=!1,o=!1,p=n;for(let w=0;w<_.length;w++){const m=_[w];if(!(m==="["||m==="]"))if(m===":"){if(y===!0&&(o=!0),!p(h,E,b))break;if(++g>7){b.error=!0;break}w>0&&_[w-1]===":"&&(y=!0),E.push(":");continue}else if(m==="%"){if(!p(h,E,b))break;p=u}else{h.push(m);continue}}return h.length&&(p===u?b.zone=h.join(""):o?E.push(h.join("")):E.push(c(h))),b.address=E.join(""),b}function a(_){if(i(_,":")<2)return{host:_,isIPV6:!1};const g=l(_);if(g.error)return{host:_,isIPV6:!1};{let b=g.address,E=g.address;return g.zone&&(b+="%"+g.zone,E+="%25"+g.zone),{host:b,isIPV6:!0,escapedHost:E}}}function i(_,g){let b=0;for(let E=0;E<_.length;E++)_[E]===g&&b++;return b}function d(_){let g=_;const b=[];let E=-1,h=0;for(;h=g.length;){if(h===1){if(g===".")break;if(g==="/"){b.push("/");break}else{b.push(g);break}}else if(h===2){if(g[0]==="."){if(g[1]===".")break;if(g[1]==="/"){g=g.slice(2);continue}}else if(g[0]==="/"&&(g[1]==="."||g[1]==="/")){b.push("/");break}}else if(h===3&&g==="/.."){b.length!==0&&b.pop(),b.push("/");break}if(g[0]==="."){if(g[1]==="."){if(g[2]==="/"){g=g.slice(3);continue}}else if(g[1]==="/"){g=g.slice(2);continue}}else if(g[0]==="/"&&g[1]==="."){if(g[2]==="/"){g=g.slice(2);continue}else if(g[2]==="."&&g[3]==="/"){g=g.slice(3),b.length!==0&&b.pop();continue}}if((E=g.indexOf("/",1))===-1){b.push(g);break}else b.push(g.slice(0,E)),g=g.slice(E)}return b.join("")}function s(_,g){const b=g!==!0?escape:unescape;return _.scheme!==void 0&&(_.scheme=b(_.scheme)),_.userinfo!==void 0&&(_.userinfo=b(_.userinfo)),_.host!==void 0&&(_.host=b(_.host)),_.path!==void 0&&(_.path=b(_.path)),_.query!==void 0&&(_.query=b(_.query)),_.fragment!==void 0&&(_.fragment=b(_.fragment)),_}function $(_){const g=[];if(_.userinfo!==void 0&&(g.push(_.userinfo),g.push("@")),_.host!==void 0){let b=unescape(_.host);if(!t(b)){const E=a(b);E.isIPV6===!0?b=`[${E.escapedHost}]`:b=_.host}g.push(b)}return(typeof _.port=="number"||typeof _.port=="string")&&(g.push(":"),g.push(String(_.port))),g.length?g.join(""):void 0}return Vn={nonSimpleDomain:r,recomposeAuthority:$,normalizeComponentEncoding:s,removeDotSegments:d,isIPv4:t,isUUID:e,normalizeIPv6:a,stringArrayToHexStripped:c},Vn}var Un,Za;function hl(){if(Za)return Un;Za=1;const{isUUID:e}=iu(),t=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu,c=["http","https","ws","wss","urn","urn:uuid"];function r(m){return c.indexOf(m)!==-1}function u(m){return m.secure===!0?!0:m.secure===!1?!1:m.scheme?m.scheme.length===3&&(m.scheme[0]==="w"||m.scheme[0]==="W")&&(m.scheme[1]==="s"||m.scheme[1]==="S")&&(m.scheme[2]==="s"||m.scheme[2]==="S"):!1}function n(m){return m.host||(m.error=m.error||"HTTP URIs must have a host."),m}function l(m){const v=String(m.scheme).toLowerCase()==="https";return(m.port===(v?443:80)||m.port==="")&&(m.port=void 0),m.path||(m.path="/"),m}function a(m){return m.secure=u(m),m.resourceName=(m.path||"/")+(m.query?"?"+m.query:""),m.path=void 0,m.query=void 0,m}function i(m){if((m.port===(u(m)?443:80)||m.port==="")&&(m.port=void 0),typeof m.secure=="boolean"&&(m.scheme=m.secure?"wss":"ws",m.secure=void 0),m.resourceName){const[v,P]=m.resourceName.split("?");m.path=v&&v!=="/"?v:void 0,m.query=P,m.resourceName=void 0}return m.fragment=void 0,m}function d(m,v){if(!m.path)return m.error="URN can not be parsed",m;const P=m.path.match(t);if(P){const I=v.scheme||m.scheme||"urn";m.nid=P[1].toLowerCase(),m.nss=P[2];const A=`${I}:${v.nid||m.nid}`,M=w(A);m.path=void 0,M&&(m=M.parse(m,v))}else m.error=m.error||"URN can not be parsed.";return m}function s(m,v){if(m.nid===void 0)throw new Error("URN without nid cannot be serialized");const P=v.scheme||m.scheme||"urn",I=m.nid.toLowerCase(),A=`${P}:${v.nid||I}`,M=w(A);M&&(m=M.serialize(m,v));const F=m,B=m.nss;return F.path=`${I||v.nid}:${B}`,v.skipEscape=!0,F}function $(m,v){const P=m;return P.uuid=P.nss,P.nss=void 0,!v.tolerant&&(!P.uuid||!e(P.uuid))&&(P.error=P.error||"UUID is not valid."),P}function _(m){const v=m;return v.nss=(m.uuid||"").toLowerCase(),v}const g={scheme:"http",domainHost:!0,parse:n,serialize:l},b={scheme:"https",domainHost:g.domainHost,parse:n,serialize:l},E={scheme:"ws",domainHost:!0,parse:a,serialize:i},h={scheme:"wss",domainHost:E.domainHost,parse:E.parse,serialize:E.serialize},p={http:g,https:b,ws:E,wss:h,urn:{scheme:"urn",parse:d,serialize:s,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:$,serialize:_,skipNormalize:!0}};Object.setPrototypeOf(p,null);function w(m){return m&&(p[m]||p[m.toLowerCase()])||void 0}return Un={wsIsSecure:u,SCHEMES:p,isValidSchemeName:r,getSchemeHandler:w},Un}var xa;function ou(){if(xa)return pt.exports;xa=1;const{normalizeIPv6:e,removeDotSegments:t,recomposeAuthority:c,normalizeComponentEncoding:r,isIPv4:u,nonSimpleDomain:n}=iu(),{SCHEMES:l,getSchemeHandler:a}=hl();function i(h,y){return typeof h=="string"?h=_(b(h,y),y):typeof h=="object"&&(h=b(_(h,y),y)),h}function d(h,y,o){const p=o?Object.assign({scheme:"null"},o):{scheme:"null"},w=s(b(h,p),b(y,p),p,!0);return p.skipEscape=!0,_(w,p)}function s(h,y,o,p){const w={};return p||(h=b(_(h,o),o),y=b(_(y,o),o)),o=o||{},!o.tolerant&&y.scheme?(w.scheme=y.scheme,w.userinfo=y.userinfo,w.host=y.host,w.port=y.port,w.path=t(y.path||""),w.query=y.query):(y.userinfo!==void 0||y.host!==void 0||y.port!==void 0?(w.userinfo=y.userinfo,w.host=y.host,w.port=y.port,w.path=t(y.path||""),w.query=y.query):(y.path?(y.path[0]==="/"?w.path=t(y.path):((h.userinfo!==void 0||h.host!==void 0||h.port!==void 0)&&!h.path?w.path="/"+y.path:h.path?w.path=h.path.slice(0,h.path.lastIndexOf("/")+1)+y.path:w.path=y.path,w.path=t(w.path)),w.query=y.query):(w.path=h.path,y.query!==void 0?w.query=y.query:w.query=h.query),w.userinfo=h.userinfo,w.host=h.host,w.port=h.port),w.scheme=h.scheme),w.fragment=y.fragment,w}function $(h,y,o){return typeof h=="string"?(h=unescape(h),h=_(r(b(h,o),!0),{...o,skipEscape:!0})):typeof h=="object"&&(h=_(r(h,!0),{...o,skipEscape:!0})),typeof y=="string"?(y=unescape(y),y=_(r(b(y,o),!0),{...o,skipEscape:!0})):typeof y=="object"&&(y=_(r(y,!0),{...o,skipEscape:!0})),h.toLowerCase()===y.toLowerCase()}function _(h,y){const o={host:h.host,scheme:h.scheme,userinfo:h.userinfo,port:h.port,path:h.path,query:h.query,nid:h.nid,nss:h.nss,uuid:h.uuid,fragment:h.fragment,reference:h.reference,resourceName:h.resourceName,secure:h.secure,error:""},p=Object.assign({},y),w=[],m=a(p.scheme||o.scheme);m&&m.serialize&&m.serialize(o,p),o.path!==void 0&&(p.skipEscape?o.path=unescape(o.path):(o.path=escape(o.path),o.scheme!==void 0&&(o.path=o.path.split("%3A").join(":")))),p.reference!=="suffix"&&o.scheme&&w.push(o.scheme,":");const v=c(o);if(v!==void 0&&(p.reference!=="suffix"&&w.push("//"),w.push(v),o.path&&o.path[0]!=="/"&&w.push("/")),o.path!==void 0){let P=o.path;!p.absolutePath&&(!m||!m.absolutePath)&&(P=t(P)),v===void 0&&P[0]==="/"&&P[1]==="/"&&(P="/%2F"+P.slice(2)),w.push(P)}return o.query!==void 0&&w.push("?",o.query),o.fragment!==void 0&&w.push("#",o.fragment),w.join("")}const g=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function b(h,y){const o=Object.assign({},y),p={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0};let w=!1;o.reference==="suffix"&&(o.scheme?h=o.scheme+":"+h:h="//"+h);const m=h.match(g);if(m){if(p.scheme=m[1],p.userinfo=m[3],p.host=m[4],p.port=parseInt(m[5],10),p.path=m[6]||"",p.query=m[7],p.fragment=m[8],isNaN(p.port)&&(p.port=m[5]),p.host)if(u(p.host)===!1){const I=e(p.host);p.host=I.host.toLowerCase(),w=I.isIPV6}else w=!0;p.scheme===void 0&&p.userinfo===void 0&&p.host===void 0&&p.port===void 0&&p.query===void 0&&!p.path?p.reference="same-document":p.scheme===void 0?p.reference="relative":p.fragment===void 0?p.reference="absolute":p.reference="uri",o.reference&&o.reference!=="suffix"&&o.reference!==p.reference&&(p.error=p.error||"URI is not a "+o.reference+" reference.");const v=a(o.scheme||p.scheme);if(!o.unicodeSupport&&(!v||!v.unicodeSupport)&&p.host&&(o.domainHost||v&&v.domainHost)&&w===!1&&n(p.host))try{p.host=URL.domainToASCII(p.host.toLowerCase())}catch(P){p.error=p.error||"Host's domain name can not be converted to ASCII: "+P}(!v||v&&!v.skipNormalize)&&(h.indexOf("%")!==-1&&(p.scheme!==void 0&&(p.scheme=unescape(p.scheme)),p.host!==void 0&&(p.host=unescape(p.host))),p.path&&(p.path=escape(unescape(p.path))),p.fragment&&(p.fragment=encodeURI(decodeURIComponent(p.fragment)))),v&&v.parse&&v.parse(p,o)}else p.error=p.error||"URI can not be parsed.";return p}const E={SCHEMES:l,normalize:i,resolve:d,resolveComponent:s,equal:$,serialize:_,parse:b};return pt.exports=E,pt.exports.default=E,pt.exports.fastUri=E,pt.exports}var Wa;function pl(){if(Wa)return Ut;Wa=1,Object.defineProperty(Ut,"__esModule",{value:!0});const e=ou();return e.code='require("ajv/dist/runtime/uri").default',Ut.default=e,Ut}var ei;function ml(){return ei||(ei=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=gn();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var c=ne();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});const r=Ys(),u=_n(),n=su(),l=Qs(),a=ne(),i=vn(),d=fn(),s=ie(),$=fl,_=pl(),g=(C,R)=>new RegExp(C,R);g.code="new RegExp";const b=["removeAdditional","useDefaults","coerceTypes"],E=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),h={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},y={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},o=200;function p(C){var R,j,N,f,S,k,K,G,W,Z,O,T,q,L,H,Y,se,pe,ce,ue,ae,we,he,Je,Xe;const Se=C.strict,Ye=(R=C.code)===null||R===void 0?void 0:R.optimize,dt=Ye===!0||Ye===void 0?1:Ye||0,ft=(N=(j=C.code)===null||j===void 0?void 0:j.regExp)!==null&&N!==void 0?N:g,Tn=(f=C.uriResolver)!==null&&f!==void 0?f:_.default;return{strictSchema:(k=(S=C.strictSchema)!==null&&S!==void 0?S:Se)!==null&&k!==void 0?k:!0,strictNumbers:(G=(K=C.strictNumbers)!==null&&K!==void 0?K:Se)!==null&&G!==void 0?G:!0,strictTypes:(Z=(W=C.strictTypes)!==null&&W!==void 0?W:Se)!==null&&Z!==void 0?Z:"log",strictTuples:(T=(O=C.strictTuples)!==null&&O!==void 0?O:Se)!==null&&T!==void 0?T:"log",strictRequired:(L=(q=C.strictRequired)!==null&&q!==void 0?q:Se)!==null&&L!==void 0?L:!1,code:C.code?{...C.code,optimize:dt,regExp:ft}:{optimize:dt,regExp:ft},loopRequired:(H=C.loopRequired)!==null&&H!==void 0?H:o,loopEnum:(Y=C.loopEnum)!==null&&Y!==void 0?Y:o,meta:(se=C.meta)!==null&&se!==void 0?se:!0,messages:(pe=C.messages)!==null&&pe!==void 0?pe:!0,inlineRefs:(ce=C.inlineRefs)!==null&&ce!==void 0?ce:!0,schemaId:(ue=C.schemaId)!==null&&ue!==void 0?ue:"$id",addUsedSchema:(ae=C.addUsedSchema)!==null&&ae!==void 0?ae:!0,validateSchema:(we=C.validateSchema)!==null&&we!==void 0?we:!0,validateFormats:(he=C.validateFormats)!==null&&he!==void 0?he:!0,unicodeRegExp:(Je=C.unicodeRegExp)!==null&&Je!==void 0?Je:!0,int32range:(Xe=C.int32range)!==null&&Xe!==void 0?Xe:!0,uriResolver:Tn}}class w{constructor(R={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,R=this.opts={...R,...p(R)};const{es5:j,lines:N}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:E,es5:j,lines:N}),this.logger=B(R.logger);const f=R.validateFormats;R.validateFormats=!1,this.RULES=(0,n.getRules)(),m.call(this,h,R,"NOT SUPPORTED"),m.call(this,y,R,"DEPRECATED","warn"),this._metaOpts=M.call(this),R.formats&&I.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),R.keywords&&A.call(this,R.keywords),typeof R.meta=="object"&&this.addMetaSchema(R.meta),P.call(this),R.validateFormats=f}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:R,meta:j,schemaId:N}=this.opts;let f=$;N==="id"&&(f={...$},f.id=f.$id,delete f.$id),j&&R&&this.addMetaSchema(f,f[N],!1)}defaultMeta(){const{meta:R,schemaId:j}=this.opts;return this.opts.defaultMeta=typeof R=="object"?R[j]||R:void 0}validate(R,j){let N;if(typeof R=="string"){if(N=this.getSchema(R),!N)throw new Error(`no schema with key or ref "${R}"`)}else N=this.compile(R);const f=N(j);return"$async"in N||(this.errors=N.errors),f}compile(R,j){const N=this._addSchema(R,j);return N.validate||this._compileSchemaEnv(N)}compileAsync(R,j){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:N}=this.opts;return f.call(this,R,j);async function f(Z,O){await S.call(this,Z.$schema);const T=this._addSchema(Z,O);return T.validate||k.call(this,T)}async function S(Z){Z&&!this.getSchema(Z)&&await f.call(this,{$ref:Z},!0)}async function k(Z){try{return this._compileSchemaEnv(Z)}catch(O){if(!(O instanceof u.default))throw O;return K.call(this,O),await G.call(this,O.missingSchema),k.call(this,Z)}}function K({missingSchema:Z,missingRef:O}){if(this.refs[Z])throw new Error(`AnySchema ${Z} is loaded but ${O} cannot be resolved`)}async function G(Z){const O=await W.call(this,Z);this.refs[Z]||await S.call(this,O.$schema),this.refs[Z]||this.addSchema(O,Z,j)}async function W(Z){const O=this._loading[Z];if(O)return O;try{return await(this._loading[Z]=N(Z))}finally{delete this._loading[Z]}}}addSchema(R,j,N,f=this.opts.validateSchema){if(Array.isArray(R)){for(const k of R)this.addSchema(k,void 0,N,f);return this}let S;if(typeof R=="object"){const{schemaId:k}=this.opts;if(S=R[k],S!==void 0&&typeof S!="string")throw new Error(`schema ${k} must be string`)}return j=(0,i.normalizeId)(j||S),this._checkUnique(j),this.schemas[j]=this._addSchema(R,N,j,f,!0),this}addMetaSchema(R,j,N=this.opts.validateSchema){return this.addSchema(R,j,!0,N),this}validateSchema(R,j){if(typeof R=="boolean")return!0;let N;if(N=R.$schema,N!==void 0&&typeof N!="string")throw new Error("$schema must be a string");if(N=N||this.opts.defaultMeta||this.defaultMeta(),!N)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const f=this.validate(N,R);if(!f&&j){const S="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(S);else throw new Error(S)}return f}getSchema(R){let j;for(;typeof(j=v.call(this,R))=="string";)R=j;if(j===void 0){const{schemaId:N}=this.opts,f=new l.SchemaEnv({schema:{},schemaId:N});if(j=l.resolveSchema.call(this,f,R),!j)return;this.refs[R]=j}return j.validate||this._compileSchemaEnv(j)}removeSchema(R){if(R instanceof RegExp)return this._removeAllSchemas(this.schemas,R),this._removeAllSchemas(this.refs,R),this;switch(typeof R){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const j=v.call(this,R);return typeof j=="object"&&this._cache.delete(j.schema),delete this.schemas[R],delete this.refs[R],this}case"object":{const j=R;this._cache.delete(j);let N=R[this.opts.schemaId];return N&&(N=(0,i.normalizeId)(N),delete this.schemas[N],delete this.refs[N]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(R){for(const j of R)this.addKeyword(j);return this}addKeyword(R,j){let N;if(typeof R=="string")N=R,typeof j=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),j.keyword=N);else if(typeof R=="object"&&j===void 0){if(j=R,N=j.keyword,Array.isArray(N)&&!N.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(V.call(this,N,j),!j)return(0,s.eachItem)(N,S=>z.call(this,S)),this;X.call(this,j);const f={...j,type:(0,d.getJSONTypes)(j.type),schemaType:(0,d.getJSONTypes)(j.schemaType)};return(0,s.eachItem)(N,f.type.length===0?S=>z.call(this,S,f):S=>f.type.forEach(k=>z.call(this,S,f,k))),this}getKeyword(R){const j=this.RULES.all[R];return typeof j=="object"?j.definition:!!j}removeKeyword(R){const{RULES:j}=this;delete j.keywords[R],delete j.all[R];for(const N of j.rules){const f=N.rules.findIndex(S=>S.keyword===R);f>=0&&N.rules.splice(f,1)}return this}addFormat(R,j){return typeof j=="string"&&(j=new RegExp(j)),this.formats[R]=j,this}errorsText(R=this.errors,{separator:j=", ",dataVar:N="data"}={}){return!R||R.length===0?"No errors":R.map(f=>`${N}${f.instancePath} ${f.message}`).reduce((f,S)=>f+j+S)}$dataMetaSchema(R,j){const N=this.RULES.all;R=JSON.parse(JSON.stringify(R));for(const f of j){const S=f.split("/").slice(1);let k=R;for(const K of S)k=k[K];for(const K in N){const G=N[K];if(typeof G!="object")continue;const{$data:W}=G.definition,Z=k[K];W&&Z&&(k[K]=U(Z))}}return R}_removeAllSchemas(R,j){for(const N in R){const f=R[N];(!j||j.test(N))&&(typeof f=="string"?delete R[N]:f&&!f.meta&&(this._cache.delete(f.schema),delete R[N]))}}_addSchema(R,j,N,f=this.opts.validateSchema,S=this.opts.addUsedSchema){let k;const{schemaId:K}=this.opts;if(typeof R=="object")k=R[K];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof R!="boolean")throw new Error("schema must be object or boolean")}let G=this._cache.get(R);if(G!==void 0)return G;N=(0,i.normalizeId)(k||N);const W=i.getSchemaRefs.call(this,R,N);return G=new l.SchemaEnv({schema:R,schemaId:K,meta:j,baseId:N,localRefs:W}),this._cache.set(G.schema,G),S&&!N.startsWith("#")&&(N&&this._checkUnique(N),this.refs[N]=G),f&&this.validateSchema(R,!0),G}_checkUnique(R){if(this.schemas[R]||this.refs[R])throw new Error(`schema with key or id "${R}" already exists`)}_compileSchemaEnv(R){if(R.meta?this._compileMetaSchema(R):l.compileSchema.call(this,R),!R.validate)throw new Error("ajv implementation error");return R.validate}_compileMetaSchema(R){const j=this.opts;this.opts=this._metaOpts;try{l.compileSchema.call(this,R)}finally{this.opts=j}}}w.ValidationError=r.default,w.MissingRefError=u.default,e.default=w;function m(C,R,j,N="error"){for(const f in C){const S=f;S in R&&this.logger[N](`${j}: option ${f}. ${C[S]}`)}}function v(C){return C=(0,i.normalizeId)(C),this.schemas[C]||this.refs[C]}function P(){const C=this.opts.schemas;if(C)if(Array.isArray(C))this.addSchema(C);else for(const R in C)this.addSchema(C[R],R)}function I(){for(const C in this.opts.formats){const R=this.opts.formats[C];R&&this.addFormat(C,R)}}function A(C){if(Array.isArray(C)){this.addVocabulary(C);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const R in C){const j=C[R];j.keyword||(j.keyword=R),this.addKeyword(j)}}function M(){const C={...this.opts};for(const R of b)delete C[R];return C}const F={log(){},warn(){},error(){}};function B(C){if(C===!1)return F;if(C===void 0)return console;if(C.log&&C.warn&&C.error)return C;throw new Error("logger must implement log, warn and error methods")}const J=/^[a-z_$][a-z0-9_$:-]*$/i;function V(C,R){const{RULES:j}=this;if((0,s.eachItem)(C,N=>{if(j.keywords[N])throw new Error(`Keyword ${N} is already defined`);if(!J.test(N))throw new Error(`Keyword ${N} has invalid name`)}),!!R&&R.$data&&!("code"in R||"validate"in R))throw new Error('$data keyword must have "code" or "validate" function')}function z(C,R,j){var N;const f=R?.post;if(j&&f)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:S}=this;let k=f?S.post:S.rules.find(({type:G})=>G===j);if(k||(k={type:j,rules:[]},S.rules.push(k)),S.keywords[C]=!0,!R)return;const K={keyword:C,definition:{...R,type:(0,d.getJSONTypes)(R.type),schemaType:(0,d.getJSONTypes)(R.schemaType)}};R.before?Q.call(this,k,K,R.before):k.rules.push(K),S.all[C]=K,(N=R.implements)===null||N===void 0||N.forEach(G=>this.addKeyword(G))}function Q(C,R,j){const N=C.rules.findIndex(f=>f.keyword===j);N>=0?C.rules.splice(N,0,R):(C.rules.push(R),this.logger.warn(`rule ${j} is not defined`))}function X(C){let{metaSchema:R}=C;R!==void 0&&(C.$data&&this.opts.$data&&(R=U(R)),C.validateSchema=this.compile(R,!0))}const D={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function U(C){return{anyOf:[C,D]}}})(kn)),kn}var zt={},Kt={},Gt={},ti;function yl(){if(ti)return Gt;ti=1,Object.defineProperty(Gt,"__esModule",{value:!0});const e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return Gt.default=e,Gt}var Ue={},ri;function vl(){if(ri)return Ue;ri=1,Object.defineProperty(Ue,"__esModule",{value:!0}),Ue.callRef=Ue.getValidate=void 0;const e=_n(),t=Ie(),c=ne(),r=He(),u=Qs(),n=ie(),l={keyword:"$ref",schemaType:"string",code(d){const{gen:s,schema:$,it:_}=d,{baseId:g,schemaEnv:b,validateName:E,opts:h,self:y}=_,{root:o}=b;if(($==="#"||$==="#/")&&g===o.baseId)return w();const p=u.resolveRef.call(y,o,g,$);if(p===void 0)throw new e.default(_.opts.uriResolver,g,$);if(p instanceof u.SchemaEnv)return m(p);return v(p);function w(){if(b===o)return i(d,E,b,b.$async);const P=s.scopeValue("root",{ref:o});return i(d,(0,c._)`${P}.validate`,o,o.$async)}function m(P){const I=a(d,P);i(d,I,P,P.$async)}function v(P){const I=s.scopeValue("schema",h.code.source===!0?{ref:P,code:(0,c.stringify)(P)}:{ref:P}),A=s.name("valid"),M=d.subschema({schema:P,dataTypes:[],schemaPath:c.nil,topSchemaRef:I,errSchemaPath:$},A);d.mergeEvaluated(M),d.ok(A)}}};function a(d,s){const{gen:$}=d;return s.validate?$.scopeValue("validate",{ref:s.validate}):(0,c._)`${$.scopeValue("wrapper",{ref:s})}.validate`}Ue.getValidate=a;function i(d,s,$,_){const{gen:g,it:b}=d,{allErrors:E,schemaEnv:h,opts:y}=b,o=y.passContext?r.default.this:c.nil;_?p():w();function p(){if(!h.$async)throw new Error("async schema referenced by sync schema");const P=g.let("valid");g.try(()=>{g.code((0,c._)`await ${(0,t.callValidateCode)(d,s,o)}`),v(s),E||g.assign(P,!0)},I=>{g.if((0,c._)`!(${I} instanceof ${b.ValidationError})`,()=>g.throw(I)),m(I),E||g.assign(P,!1)}),d.ok(P)}function w(){d.result((0,t.callValidateCode)(d,s,o),()=>v(s),()=>m(s))}function m(P){const I=(0,c._)`${P}.errors`;g.assign(r.default.vErrors,(0,c._)`${r.default.vErrors} === null ? ${I} : ${r.default.vErrors}.concat(${I})`),g.assign(r.default.errors,(0,c._)`${r.default.vErrors}.length`)}function v(P){var I;if(!b.opts.unevaluated)return;const A=(I=$?.validate)===null||I===void 0?void 0:I.evaluated;if(b.props!==!0)if(A&&!A.dynamicProps)A.props!==void 0&&(b.props=n.mergeEvaluated.props(g,A.props,b.props));else{const M=g.var("props",(0,c._)`${P}.evaluated.props`);b.props=n.mergeEvaluated.props(g,M,b.props,c.Name)}if(b.items!==!0)if(A&&!A.dynamicItems)A.items!==void 0&&(b.items=n.mergeEvaluated.items(g,A.items,b.items));else{const M=g.var("items",(0,c._)`${P}.evaluated.items`);b.items=n.mergeEvaluated.items(g,M,b.items,c.Name)}}}return Ue.callRef=i,Ue.default=l,Ue}var ni;function gl(){if(ni)return Kt;ni=1,Object.defineProperty(Kt,"__esModule",{value:!0});const e=yl(),t=vl(),c=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,t.default];return Kt.default=c,Kt}var Ht={},Bt={},si;function _l(){if(si)return Bt;si=1,Object.defineProperty(Bt,"__esModule",{value:!0});const e=ne(),t=e.operators,c={maximum:{okStr:"<=",ok:t.LTE,fail:t.GT},minimum:{okStr:">=",ok:t.GTE,fail:t.LT},exclusiveMaximum:{okStr:"<",ok:t.LT,fail:t.GTE},exclusiveMinimum:{okStr:">",ok:t.GT,fail:t.LTE}},r={message:({keyword:n,schemaCode:l})=>(0,e.str)`must be ${c[n].okStr} ${l}`,params:({keyword:n,schemaCode:l})=>(0,e._)`{comparison: ${c[n].okStr}, limit: ${l}}`},u={keyword:Object.keys(c),type:"number",schemaType:"number",$data:!0,error:r,code(n){const{keyword:l,data:a,schemaCode:i}=n;n.fail$data((0,e._)`${a} ${c[l].fail} ${i} || isNaN(${a})`)}};return Bt.default=u,Bt}var Jt={},ai;function $l(){if(ai)return Jt;ai=1,Object.defineProperty(Jt,"__esModule",{value:!0});const e=ne(),c={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:r})=>(0,e.str)`must be multiple of ${r}`,params:({schemaCode:r})=>(0,e._)`{multipleOf: ${r}}`},code(r){const{gen:u,data:n,schemaCode:l,it:a}=r,i=a.opts.multipleOfPrecision,d=u.let("res"),s=i?(0,e._)`Math.abs(Math.round(${d}) - ${d}) > 1e-${i}`:(0,e._)`${d} !== parseInt(${d})`;r.fail$data((0,e._)`(${l} === 0 || (${d} = ${n}/${l}, ${s}))`)}};return Jt.default=c,Jt}var Xt={},Yt={},ii;function wl(){if(ii)return Yt;ii=1,Object.defineProperty(Yt,"__esModule",{value:!0});function e(t){const c=t.length;let r=0,u=0,n;for(;u<c;)r++,n=t.charCodeAt(u++),n>=55296&&n<=56319&&u<c&&(n=t.charCodeAt(u),(n&64512)===56320&&u++);return r}return Yt.default=e,e.code='require("ajv/dist/runtime/ucs2length").default',Yt}var oi;function El(){if(oi)return Xt;oi=1,Object.defineProperty(Xt,"__esModule",{value:!0});const e=ne(),t=ie(),c=wl(),u={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:n,schemaCode:l}){const a=n==="maxLength"?"more":"fewer";return(0,e.str)`must NOT have ${a} than ${l} characters`},params:({schemaCode:n})=>(0,e._)`{limit: ${n}}`},code(n){const{keyword:l,data:a,schemaCode:i,it:d}=n,s=l==="maxLength"?e.operators.GT:e.operators.LT,$=d.opts.unicode===!1?(0,e._)`${a}.length`:(0,e._)`${(0,t.useFunc)(n.gen,c.default)}(${a})`;n.fail$data((0,e._)`${$} ${s} ${i}`)}};return Xt.default=u,Xt}var Qt={},ci;function bl(){if(ci)return Qt;ci=1,Object.defineProperty(Qt,"__esModule",{value:!0});const e=Ie(),t=ne(),r={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:u})=>(0,t.str)`must match pattern "${u}"`,params:({schemaCode:u})=>(0,t._)`{pattern: ${u}}`},code(u){const{data:n,$data:l,schema:a,schemaCode:i,it:d}=u,s=d.opts.unicodeRegExp?"u":"",$=l?(0,t._)`(new RegExp(${i}, ${s}))`:(0,e.usePattern)(u,a);u.fail$data((0,t._)`!${$}.test(${n})`)}};return Qt.default=r,Qt}var Zt={},ui;function Sl(){if(ui)return Zt;ui=1,Object.defineProperty(Zt,"__esModule",{value:!0});const e=ne(),c={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:u}){const n=r==="maxProperties"?"more":"fewer";return(0,e.str)`must NOT have ${n} than ${u} properties`},params:({schemaCode:r})=>(0,e._)`{limit: ${r}}`},code(r){const{keyword:u,data:n,schemaCode:l}=r,a=u==="maxProperties"?e.operators.GT:e.operators.LT;r.fail$data((0,e._)`Object.keys(${n}).length ${a} ${l}`)}};return Zt.default=c,Zt}var xt={},li;function Pl(){if(li)return xt;li=1,Object.defineProperty(xt,"__esModule",{value:!0});const e=Ie(),t=ne(),c=ie(),u={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:n}})=>(0,t.str)`must have required property '${n}'`,params:({params:{missingProperty:n}})=>(0,t._)`{missingProperty: ${n}}`},code(n){const{gen:l,schema:a,schemaCode:i,data:d,$data:s,it:$}=n,{opts:_}=$;if(!s&&a.length===0)return;const g=a.length>=_.loopRequired;if($.allErrors?b():E(),_.strictRequired){const o=n.parentSchema.properties,{definedProperties:p}=n.it;for(const w of a)if(o?.[w]===void 0&&!p.has(w)){const m=$.schemaEnv.baseId+$.errSchemaPath,v=`required property "${w}" is not defined at "${m}" (strictRequired)`;(0,c.checkStrictMode)($,v,$.opts.strictRequired)}}function b(){if(g||s)n.block$data(t.nil,h);else for(const o of a)(0,e.checkReportMissingProp)(n,o)}function E(){const o=l.let("missing");if(g||s){const p=l.let("valid",!0);n.block$data(p,()=>y(o,p)),n.ok(p)}else l.if((0,e.checkMissingProp)(n,a,o)),(0,e.reportMissingProp)(n,o),l.else()}function h(){l.forOf("prop",i,o=>{n.setParams({missingProperty:o}),l.if((0,e.noPropertyInData)(l,d,o,_.ownProperties),()=>n.error())})}function y(o,p){n.setParams({missingProperty:o}),l.forOf(o,i,()=>{l.assign(p,(0,e.propertyInData)(l,d,o,_.ownProperties)),l.if((0,t.not)(p),()=>{n.error(),l.break()})},t.nil)}}};return xt.default=u,xt}var Wt={},di;function Rl(){if(di)return Wt;di=1,Object.defineProperty(Wt,"__esModule",{value:!0});const e=ne(),c={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:u}){const n=r==="maxItems"?"more":"fewer";return(0,e.str)`must NOT have ${n} than ${u} items`},params:({schemaCode:r})=>(0,e._)`{limit: ${r}}`},code(r){const{keyword:u,data:n,schemaCode:l}=r,a=u==="maxItems"?e.operators.GT:e.operators.LT;r.fail$data((0,e._)`${n}.length ${a} ${l}`)}};return Wt.default=c,Wt}var er={},tr={},fi;function Zs(){if(fi)return tr;fi=1,Object.defineProperty(tr,"__esModule",{value:!0});const e=yn();return e.code='require("ajv/dist/runtime/equal").default',tr.default=e,tr}var hi;function Ol(){if(hi)return er;hi=1,Object.defineProperty(er,"__esModule",{value:!0});const e=fn(),t=ne(),c=ie(),r=Zs(),n={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:l,j:a}})=>(0,t.str)`must NOT have duplicate items (items ## ${a} and ${l} are identical)`,params:({params:{i:l,j:a}})=>(0,t._)`{i: ${l}, j: ${a}}`},code(l){const{gen:a,data:i,$data:d,schema:s,parentSchema:$,schemaCode:_,it:g}=l;if(!d&&!s)return;const b=a.let("valid"),E=$.items?(0,e.getSchemaTypes)($.items):[];l.block$data(b,h,(0,t._)`${_} === false`),l.ok(b);function h(){const w=a.let("i",(0,t._)`${i}.length`),m=a.let("j");l.setParams({i:w,j:m}),a.assign(b,!0),a.if((0,t._)`${w} > 1`,()=>(y()?o:p)(w,m))}function y(){return E.length>0&&!E.some(w=>w==="object"||w==="array")}function o(w,m){const v=a.name("item"),P=(0,e.checkDataTypes)(E,v,g.opts.strictNumbers,e.DataType.Wrong),I=a.const("indices",(0,t._)`{}`);a.for((0,t._)`;${w}--;`,()=>{a.let(v,(0,t._)`${i}[${w}]`),a.if(P,(0,t._)`continue`),E.length>1&&a.if((0,t._)`typeof ${v} == "string"`,(0,t._)`${v} += "_"`),a.if((0,t._)`typeof ${I}[${v}] == "number"`,()=>{a.assign(m,(0,t._)`${I}[${v}]`),l.error(),a.assign(b,!1).break()}).code((0,t._)`${I}[${v}] = ${w}`)})}function p(w,m){const v=(0,c.useFunc)(a,r.default),P=a.name("outer");a.label(P).for((0,t._)`;${w}--;`,()=>a.for((0,t._)`${m} = ${w}; ${m}--;`,()=>a.if((0,t._)`${v}(${i}[${w}], ${i}[${m}])`,()=>{l.error(),a.assign(b,!1).break(P)})))}}};return er.default=n,er}var rr={},pi;function Nl(){if(pi)return rr;pi=1,Object.defineProperty(rr,"__esModule",{value:!0});const e=ne(),t=ie(),c=Zs(),u={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:n})=>(0,e._)`{allowedValue: ${n}}`},code(n){const{gen:l,data:a,$data:i,schemaCode:d,schema:s}=n;i||s&&typeof s=="object"?n.fail$data((0,e._)`!${(0,t.useFunc)(l,c.default)}(${a}, ${d})`):n.fail((0,e._)`${s} !== ${a}`)}};return rr.default=u,rr}var nr={},mi;function Tl(){if(mi)return nr;mi=1,Object.defineProperty(nr,"__esModule",{value:!0});const e=ne(),t=ie(),c=Zs(),u={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:n})=>(0,e._)`{allowedValues: ${n}}`},code(n){const{gen:l,data:a,$data:i,schema:d,schemaCode:s,it:$}=n;if(!i&&d.length===0)throw new Error("enum must have non-empty array");const _=d.length>=$.opts.loopEnum;let g;const b=()=>g??(g=(0,t.useFunc)(l,c.default));let E;if(_||i)E=l.let("valid"),n.block$data(E,h);else{if(!Array.isArray(d))throw new Error("ajv implementation error");const o=l.const("vSchema",s);E=(0,e.or)(...d.map((p,w)=>y(o,w)))}n.pass(E);function h(){l.assign(E,!1),l.forOf("v",s,o=>l.if((0,e._)`${b()}(${a}, ${o})`,()=>l.assign(E,!0).break()))}function y(o,p){const w=d[p];return typeof w=="object"&&w!==null?(0,e._)`${b()}(${a}, ${o}[${p}])`:(0,e._)`${a} === ${w}`}}};return nr.default=u,nr}var yi;function Il(){if(yi)return Ht;yi=1,Object.defineProperty(Ht,"__esModule",{value:!0});const e=_l(),t=$l(),c=El(),r=bl(),u=Sl(),n=Pl(),l=Rl(),a=Ol(),i=Nl(),d=Tl(),s=[e.default,t.default,c.default,r.default,u.default,n.default,l.default,a.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},i.default,d.default];return Ht.default=s,Ht}var sr={},st={},vi;function cu(){if(vi)return st;vi=1,Object.defineProperty(st,"__esModule",{value:!0}),st.validateAdditionalItems=void 0;const e=ne(),t=ie(),r={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:n}})=>(0,e.str)`must NOT have more than ${n} items`,params:({params:{len:n}})=>(0,e._)`{limit: ${n}}`},code(n){const{parentSchema:l,it:a}=n,{items:i}=l;if(!Array.isArray(i)){(0,t.checkStrictMode)(a,'"additionalItems" is ignored when "items" is not an array of schemas');return}u(n,i)}};function u(n,l){const{gen:a,schema:i,data:d,keyword:s,it:$}=n;$.items=!0;const _=a.const("len",(0,e._)`${d}.length`);if(i===!1)n.setParams({len:l.length}),n.pass((0,e._)`${_} <= ${l.length}`);else if(typeof i=="object"&&!(0,t.alwaysValidSchema)($,i)){const b=a.var("valid",(0,e._)`${_} <= ${l.length}`);a.if((0,e.not)(b),()=>g(b)),n.ok(b)}function g(b){a.forRange("i",l.length,_,E=>{n.subschema({keyword:s,dataProp:E,dataPropType:t.Type.Num},b),$.allErrors||a.if((0,e.not)(b),()=>a.break())})}}return st.validateAdditionalItems=u,st.default=r,st}var ar={},at={},gi;function uu(){if(gi)return at;gi=1,Object.defineProperty(at,"__esModule",{value:!0}),at.validateTuple=void 0;const e=ne(),t=ie(),c=Ie(),r={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(n){const{schema:l,it:a}=n;if(Array.isArray(l))return u(n,"additionalItems",l);a.items=!0,!(0,t.alwaysValidSchema)(a,l)&&n.ok((0,c.validateArray)(n))}};function u(n,l,a=n.schema){const{gen:i,parentSchema:d,data:s,keyword:$,it:_}=n;E(d),_.opts.unevaluated&&a.length&&_.items!==!0&&(_.items=t.mergeEvaluated.items(i,a.length,_.items));const g=i.name("valid"),b=i.const("len",(0,e._)`${s}.length`);a.forEach((h,y)=>{(0,t.alwaysValidSchema)(_,h)||(i.if((0,e._)`${b} > ${y}`,()=>n.subschema({keyword:$,schemaProp:y,dataProp:y},g)),n.ok(g))});function E(h){const{opts:y,errSchemaPath:o}=_,p=a.length,w=p===h.minItems&&(p===h.maxItems||h[l]===!1);if(y.strictTuples&&!w){const m=`"${$}" is ${p}-tuple, but minItems or maxItems/${l} are not specified or different at path "${o}"`;(0,t.checkStrictMode)(_,m,y.strictTuples)}}}return at.validateTuple=u,at.default=r,at}var _i;function Cl(){if(_i)return ar;_i=1,Object.defineProperty(ar,"__esModule",{value:!0});const e=uu(),t={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:c=>(0,e.validateTuple)(c,"items")};return ar.default=t,ar}var ir={},$i;function jl(){if($i)return ir;$i=1,Object.defineProperty(ir,"__esModule",{value:!0});const e=ne(),t=ie(),c=Ie(),r=cu(),n={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:l}})=>(0,e.str)`must NOT have more than ${l} items`,params:({params:{len:l}})=>(0,e._)`{limit: ${l}}`},code(l){const{schema:a,parentSchema:i,it:d}=l,{prefixItems:s}=i;d.items=!0,!(0,t.alwaysValidSchema)(d,a)&&(s?(0,r.validateAdditionalItems)(l,s):l.ok((0,c.validateArray)(l)))}};return ir.default=n,ir}var or={},wi;function kl(){if(wi)return or;wi=1,Object.defineProperty(or,"__esModule",{value:!0});const e=ne(),t=ie(),r={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:u,max:n}})=>n===void 0?(0,e.str)`must contain at least ${u} valid item(s)`:(0,e.str)`must contain at least ${u} and no more than ${n} valid item(s)`,params:({params:{min:u,max:n}})=>n===void 0?(0,e._)`{minContains: ${u}}`:(0,e._)`{minContains: ${u}, maxContains: ${n}}`},code(u){const{gen:n,schema:l,parentSchema:a,data:i,it:d}=u;let s,$;const{minContains:_,maxContains:g}=a;d.opts.next?(s=_===void 0?1:_,$=g):s=1;const b=n.const("len",(0,e._)`${i}.length`);if(u.setParams({min:s,max:$}),$===void 0&&s===0){(0,t.checkStrictMode)(d,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if($!==void 0&&s>$){(0,t.checkStrictMode)(d,'"minContains" > "maxContains" is always invalid'),u.fail();return}if((0,t.alwaysValidSchema)(d,l)){let p=(0,e._)`${b} >= ${s}`;$!==void 0&&(p=(0,e._)`${p} && ${b} <= ${$}`),u.pass(p);return}d.items=!0;const E=n.name("valid");$===void 0&&s===1?y(E,()=>n.if(E,()=>n.break())):s===0?(n.let(E,!0),$!==void 0&&n.if((0,e._)`${i}.length > 0`,h)):(n.let(E,!1),h()),u.result(E,()=>u.reset());function h(){const p=n.name("_valid"),w=n.let("count",0);y(p,()=>n.if(p,()=>o(w)))}function y(p,w){n.forRange("i",0,b,m=>{u.subschema({keyword:"contains",dataProp:m,dataPropType:t.Type.Num,compositeRule:!0},p),w()})}function o(p){n.code((0,e._)`${p}++`),$===void 0?n.if((0,e._)`${p} >= ${s}`,()=>n.assign(E,!0).break()):(n.if((0,e._)`${p} > ${$}`,()=>n.assign(E,!1).break()),s===1?n.assign(E,!0):n.if((0,e._)`${p} >= ${s}`,()=>n.assign(E,!0)))}}};return or.default=r,or}var zn={},Ei;function Al(){return Ei||(Ei=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=ne(),c=ie(),r=Ie();e.error={message:({params:{property:i,depsCount:d,deps:s}})=>{const $=d===1?"property":"properties";return(0,t.str)`must have ${$} ${s} when property ${i} is present`},params:({params:{property:i,depsCount:d,deps:s,missingProperty:$}})=>(0,t._)`{property: ${i},
    missingProperty: ${$},
    depsCount: ${d},
    deps: ${s}}`};const u={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(i){const[d,s]=n(i);l(i,d),a(i,s)}};function n({schema:i}){const d={},s={};for(const $ in i){if($==="__proto__")continue;const _=Array.isArray(i[$])?d:s;_[$]=i[$]}return[d,s]}function l(i,d=i.schema){const{gen:s,data:$,it:_}=i;if(Object.keys(d).length===0)return;const g=s.let("missing");for(const b in d){const E=d[b];if(E.length===0)continue;const h=(0,r.propertyInData)(s,$,b,_.opts.ownProperties);i.setParams({property:b,depsCount:E.length,deps:E.join(", ")}),_.allErrors?s.if(h,()=>{for(const y of E)(0,r.checkReportMissingProp)(i,y)}):(s.if((0,t._)`${h} && (${(0,r.checkMissingProp)(i,E,g)})`),(0,r.reportMissingProp)(i,g),s.else())}}e.validatePropertyDeps=l;function a(i,d=i.schema){const{gen:s,data:$,keyword:_,it:g}=i,b=s.name("valid");for(const E in d)(0,c.alwaysValidSchema)(g,d[E])||(s.if((0,r.propertyInData)(s,$,E,g.opts.ownProperties),()=>{const h=i.subschema({keyword:_,schemaProp:E},b);i.mergeValidEvaluated(h,b)},()=>s.var(b,!0)),i.ok(b))}e.validateSchemaDeps=a,e.default=u})(zn)),zn}var cr={},bi;function ql(){if(bi)return cr;bi=1,Object.defineProperty(cr,"__esModule",{value:!0});const e=ne(),t=ie(),r={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:u})=>(0,e._)`{propertyName: ${u.propertyName}}`},code(u){const{gen:n,schema:l,data:a,it:i}=u;if((0,t.alwaysValidSchema)(i,l))return;const d=n.name("valid");n.forIn("key",a,s=>{u.setParams({propertyName:s}),u.subschema({keyword:"propertyNames",data:s,dataTypes:["string"],propertyName:s,compositeRule:!0},d),n.if((0,e.not)(d),()=>{u.error(!0),i.allErrors||n.break()})}),u.ok(d)}};return cr.default=r,cr}var ur={},Si;function lu(){if(Si)return ur;Si=1,Object.defineProperty(ur,"__esModule",{value:!0});const e=Ie(),t=ne(),c=He(),r=ie(),n={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:l})=>(0,t._)`{additionalProperty: ${l.additionalProperty}}`},code(l){const{gen:a,schema:i,parentSchema:d,data:s,errsCount:$,it:_}=l;if(!$)throw new Error("ajv implementation error");const{allErrors:g,opts:b}=_;if(_.props=!0,b.removeAdditional!=="all"&&(0,r.alwaysValidSchema)(_,i))return;const E=(0,e.allSchemaProperties)(d.properties),h=(0,e.allSchemaProperties)(d.patternProperties);y(),l.ok((0,t._)`${$} === ${c.default.errors}`);function y(){a.forIn("key",s,v=>{!E.length&&!h.length?w(v):a.if(o(v),()=>w(v))})}function o(v){let P;if(E.length>8){const I=(0,r.schemaRefOrVal)(_,d.properties,"properties");P=(0,e.isOwnProperty)(a,I,v)}else E.length?P=(0,t.or)(...E.map(I=>(0,t._)`${v} === ${I}`)):P=t.nil;return h.length&&(P=(0,t.or)(P,...h.map(I=>(0,t._)`${(0,e.usePattern)(l,I)}.test(${v})`))),(0,t.not)(P)}function p(v){a.code((0,t._)`delete ${s}[${v}]`)}function w(v){if(b.removeAdditional==="all"||b.removeAdditional&&i===!1){p(v);return}if(i===!1){l.setParams({additionalProperty:v}),l.error(),g||a.break();return}if(typeof i=="object"&&!(0,r.alwaysValidSchema)(_,i)){const P=a.name("valid");b.removeAdditional==="failing"?(m(v,P,!1),a.if((0,t.not)(P),()=>{l.reset(),p(v)})):(m(v,P),g||a.if((0,t.not)(P),()=>a.break()))}}function m(v,P,I){const A={keyword:"additionalProperties",dataProp:v,dataPropType:r.Type.Str};I===!1&&Object.assign(A,{compositeRule:!0,createErrors:!1,allErrors:!1}),l.subschema(A,P)}}};return ur.default=n,ur}var lr={},Pi;function Dl(){if(Pi)return lr;Pi=1,Object.defineProperty(lr,"__esModule",{value:!0});const e=gn(),t=Ie(),c=ie(),r=lu(),u={keyword:"properties",type:"object",schemaType:"object",code(n){const{gen:l,schema:a,parentSchema:i,data:d,it:s}=n;s.opts.removeAdditional==="all"&&i.additionalProperties===void 0&&r.default.code(new e.KeywordCxt(s,r.default,"additionalProperties"));const $=(0,t.allSchemaProperties)(a);for(const h of $)s.definedProperties.add(h);s.opts.unevaluated&&$.length&&s.props!==!0&&(s.props=c.mergeEvaluated.props(l,(0,c.toHash)($),s.props));const _=$.filter(h=>!(0,c.alwaysValidSchema)(s,a[h]));if(_.length===0)return;const g=l.name("valid");for(const h of _)b(h)?E(h):(l.if((0,t.propertyInData)(l,d,h,s.opts.ownProperties)),E(h),s.allErrors||l.else().var(g,!0),l.endIf()),n.it.definedProperties.add(h),n.ok(g);function b(h){return s.opts.useDefaults&&!s.compositeRule&&a[h].default!==void 0}function E(h){n.subschema({keyword:"properties",schemaProp:h,dataProp:h},g)}}};return lr.default=u,lr}var dr={},Ri;function Ml(){if(Ri)return dr;Ri=1,Object.defineProperty(dr,"__esModule",{value:!0});const e=Ie(),t=ne(),c=ie(),r=ie(),u={keyword:"patternProperties",type:"object",schemaType:"object",code(n){const{gen:l,schema:a,data:i,parentSchema:d,it:s}=n,{opts:$}=s,_=(0,e.allSchemaProperties)(a),g=_.filter(w=>(0,c.alwaysValidSchema)(s,a[w]));if(_.length===0||g.length===_.length&&(!s.opts.unevaluated||s.props===!0))return;const b=$.strictSchema&&!$.allowMatchingProperties&&d.properties,E=l.name("valid");s.props!==!0&&!(s.props instanceof t.Name)&&(s.props=(0,r.evaluatedPropsToName)(l,s.props));const{props:h}=s;y();function y(){for(const w of _)b&&o(w),s.allErrors?p(w):(l.var(E,!0),p(w),l.if(E))}function o(w){for(const m in b)new RegExp(w).test(m)&&(0,c.checkStrictMode)(s,`property ${m} matches pattern ${w} (use allowMatchingProperties)`)}function p(w){l.forIn("key",i,m=>{l.if((0,t._)`${(0,e.usePattern)(n,w)}.test(${m})`,()=>{const v=g.includes(w);v||n.subschema({keyword:"patternProperties",schemaProp:w,dataProp:m,dataPropType:r.Type.Str},E),s.opts.unevaluated&&h!==!0?l.assign((0,t._)`${h}[${m}]`,!0):!v&&!s.allErrors&&l.if((0,t.not)(E),()=>l.break())})})}}};return dr.default=u,dr}var fr={},Oi;function Ll(){if(Oi)return fr;Oi=1,Object.defineProperty(fr,"__esModule",{value:!0});const e=ie(),t={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(c){const{gen:r,schema:u,it:n}=c;if((0,e.alwaysValidSchema)(n,u)){c.fail();return}const l=r.name("valid");c.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},l),c.failResult(l,()=>c.reset(),()=>c.error())},error:{message:"must NOT be valid"}};return fr.default=t,fr}var hr={},Ni;function Fl(){if(Ni)return hr;Ni=1,Object.defineProperty(hr,"__esModule",{value:!0});const t={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Ie().validateUnion,error:{message:"must match a schema in anyOf"}};return hr.default=t,hr}var pr={},Ti;function Vl(){if(Ti)return pr;Ti=1,Object.defineProperty(pr,"__esModule",{value:!0});const e=ne(),t=ie(),r={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:u})=>(0,e._)`{passingSchemas: ${u.passing}}`},code(u){const{gen:n,schema:l,parentSchema:a,it:i}=u;if(!Array.isArray(l))throw new Error("ajv implementation error");if(i.opts.discriminator&&a.discriminator)return;const d=l,s=n.let("valid",!1),$=n.let("passing",null),_=n.name("_valid");u.setParams({passing:$}),n.block(g),u.result(s,()=>u.reset(),()=>u.error(!0));function g(){d.forEach((b,E)=>{let h;(0,t.alwaysValidSchema)(i,b)?n.var(_,!0):h=u.subschema({keyword:"oneOf",schemaProp:E,compositeRule:!0},_),E>0&&n.if((0,e._)`${_} && ${s}`).assign(s,!1).assign($,(0,e._)`[${$}, ${E}]`).else(),n.if(_,()=>{n.assign(s,!0),n.assign($,E),h&&u.mergeEvaluated(h,e.Name)})})}}};return pr.default=r,pr}var mr={},Ii;function Ul(){if(Ii)return mr;Ii=1,Object.defineProperty(mr,"__esModule",{value:!0});const e=ie(),t={keyword:"allOf",schemaType:"array",code(c){const{gen:r,schema:u,it:n}=c;if(!Array.isArray(u))throw new Error("ajv implementation error");const l=r.name("valid");u.forEach((a,i)=>{if((0,e.alwaysValidSchema)(n,a))return;const d=c.subschema({keyword:"allOf",schemaProp:i},l);c.ok(l),c.mergeEvaluated(d)})}};return mr.default=t,mr}var yr={},Ci;function zl(){if(Ci)return yr;Ci=1,Object.defineProperty(yr,"__esModule",{value:!0});const e=ne(),t=ie(),r={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:n})=>(0,e.str)`must match "${n.ifClause}" schema`,params:({params:n})=>(0,e._)`{failingKeyword: ${n.ifClause}}`},code(n){const{gen:l,parentSchema:a,it:i}=n;a.then===void 0&&a.else===void 0&&(0,t.checkStrictMode)(i,'"if" without "then" and "else" is ignored');const d=u(i,"then"),s=u(i,"else");if(!d&&!s)return;const $=l.let("valid",!0),_=l.name("_valid");if(g(),n.reset(),d&&s){const E=l.let("ifClause");n.setParams({ifClause:E}),l.if(_,b("then",E),b("else",E))}else d?l.if(_,b("then")):l.if((0,e.not)(_),b("else"));n.pass($,()=>n.error(!0));function g(){const E=n.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},_);n.mergeEvaluated(E)}function b(E,h){return()=>{const y=n.subschema({keyword:E},_);l.assign($,_),n.mergeValidEvaluated(y,$),h?l.assign(h,(0,e._)`${E}`):n.setParams({ifClause:E})}}}};function u(n,l){const a=n.schema[l];return a!==void 0&&!(0,t.alwaysValidSchema)(n,a)}return yr.default=r,yr}var vr={},ji;function Kl(){if(ji)return vr;ji=1,Object.defineProperty(vr,"__esModule",{value:!0});const e=ie(),t={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:c,parentSchema:r,it:u}){r.if===void 0&&(0,e.checkStrictMode)(u,`"${c}" without "if" is ignored`)}};return vr.default=t,vr}var ki;function Gl(){if(ki)return sr;ki=1,Object.defineProperty(sr,"__esModule",{value:!0});const e=cu(),t=Cl(),c=uu(),r=jl(),u=kl(),n=Al(),l=ql(),a=lu(),i=Dl(),d=Ml(),s=Ll(),$=Fl(),_=Vl(),g=Ul(),b=zl(),E=Kl();function h(y=!1){const o=[s.default,$.default,_.default,g.default,b.default,E.default,l.default,a.default,n.default,i.default,d.default];return y?o.push(t.default,r.default):o.push(e.default,c.default),o.push(u.default),o}return sr.default=h,sr}var gr={},_r={},Ai;function Hl(){if(Ai)return _r;Ai=1,Object.defineProperty(_r,"__esModule",{value:!0});const e=ne(),c={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:r})=>(0,e.str)`must match format "${r}"`,params:({schemaCode:r})=>(0,e._)`{format: ${r}}`},code(r,u){const{gen:n,data:l,$data:a,schema:i,schemaCode:d,it:s}=r,{opts:$,errSchemaPath:_,schemaEnv:g,self:b}=s;if(!$.validateFormats)return;a?E():h();function E(){const y=n.scopeValue("formats",{ref:b.formats,code:$.code.formats}),o=n.const("fDef",(0,e._)`${y}[${d}]`),p=n.let("fType"),w=n.let("format");n.if((0,e._)`typeof ${o} == "object" && !(${o} instanceof RegExp)`,()=>n.assign(p,(0,e._)`${o}.type || "string"`).assign(w,(0,e._)`${o}.validate`),()=>n.assign(p,(0,e._)`"string"`).assign(w,o)),r.fail$data((0,e.or)(m(),v()));function m(){return $.strictSchema===!1?e.nil:(0,e._)`${d} && !${w}`}function v(){const P=g.$async?(0,e._)`(${o}.async ? await ${w}(${l}) : ${w}(${l}))`:(0,e._)`${w}(${l})`,I=(0,e._)`(typeof ${w} == "function" ? ${P} : ${w}.test(${l}))`;return(0,e._)`${w} && ${w} !== true && ${p} === ${u} && !${I}`}}function h(){const y=b.formats[i];if(!y){m();return}if(y===!0)return;const[o,p,w]=v(y);o===u&&r.pass(P());function m(){if($.strictSchema===!1){b.logger.warn(I());return}throw new Error(I());function I(){return`unknown format "${i}" ignored in schema at path "${_}"`}}function v(I){const A=I instanceof RegExp?(0,e.regexpCode)(I):$.code.formats?(0,e._)`${$.code.formats}${(0,e.getProperty)(i)}`:void 0,M=n.scopeValue("formats",{key:i,ref:I,code:A});return typeof I=="object"&&!(I instanceof RegExp)?[I.type||"string",I.validate,(0,e._)`${M}.validate`]:["string",I,M]}function P(){if(typeof y=="object"&&!(y instanceof RegExp)&&y.async){if(!g.$async)throw new Error("async format in sync schema");return(0,e._)`await ${w}(${l})`}return typeof p=="function"?(0,e._)`${w}(${l})`:(0,e._)`${w}.test(${l})`}}}};return _r.default=c,_r}var qi;function Bl(){if(qi)return gr;qi=1,Object.defineProperty(gr,"__esModule",{value:!0});const t=[Hl().default];return gr.default=t,gr}var et={},Di;function Jl(){return Di||(Di=1,Object.defineProperty(et,"__esModule",{value:!0}),et.contentVocabulary=et.metadataVocabulary=void 0,et.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],et.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),et}var Mi;function Xl(){if(Mi)return zt;Mi=1,Object.defineProperty(zt,"__esModule",{value:!0});const e=gl(),t=Il(),c=Gl(),r=Bl(),u=Jl(),n=[e.default,t.default,(0,c.default)(),r.default,u.metadataVocabulary,u.contentVocabulary];return zt.default=n,zt}var $r={},mt={},Li;function Yl(){if(Li)return mt;Li=1,Object.defineProperty(mt,"__esModule",{value:!0}),mt.DiscrError=void 0;var e;return(function(t){t.Tag="tag",t.Mapping="mapping"})(e||(mt.DiscrError=e={})),mt}var Fi;function Ql(){if(Fi)return $r;Fi=1,Object.defineProperty($r,"__esModule",{value:!0});const e=ne(),t=Yl(),c=Qs(),r=_n(),u=ie(),l={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:a,tagName:i}})=>a===t.DiscrError.Tag?`tag "${i}" must be string`:`value of tag "${i}" must be in oneOf`,params:({params:{discrError:a,tag:i,tagName:d}})=>(0,e._)`{error: ${a}, tag: ${d}, tagValue: ${i}}`},code(a){const{gen:i,data:d,schema:s,parentSchema:$,it:_}=a,{oneOf:g}=$;if(!_.opts.discriminator)throw new Error("discriminator: requires discriminator option");const b=s.propertyName;if(typeof b!="string")throw new Error("discriminator: requires propertyName");if(s.mapping)throw new Error("discriminator: mapping is not supported");if(!g)throw new Error("discriminator: requires oneOf keyword");const E=i.let("valid",!1),h=i.const("tag",(0,e._)`${d}${(0,e.getProperty)(b)}`);i.if((0,e._)`typeof ${h} == "string"`,()=>y(),()=>a.error(!1,{discrError:t.DiscrError.Tag,tag:h,tagName:b})),a.ok(E);function y(){const w=p();i.if(!1);for(const m in w)i.elseIf((0,e._)`${h} === ${m}`),i.assign(E,o(w[m]));i.else(),a.error(!1,{discrError:t.DiscrError.Mapping,tag:h,tagName:b}),i.endIf()}function o(w){const m=i.name("valid"),v=a.subschema({keyword:"oneOf",schemaProp:w},m);return a.mergeEvaluated(v,e.Name),m}function p(){var w;const m={},v=I($);let P=!0;for(let F=0;F<g.length;F++){let B=g[F];if(B?.$ref&&!(0,u.schemaHasRulesButRef)(B,_.self.RULES)){const V=B.$ref;if(B=c.resolveRef.call(_.self,_.schemaEnv.root,_.baseId,V),B instanceof c.SchemaEnv&&(B=B.schema),B===void 0)throw new r.default(_.opts.uriResolver,_.baseId,V)}const J=(w=B?.properties)===null||w===void 0?void 0:w[b];if(typeof J!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${b}"`);P=P&&(v||I(B)),A(J,F)}if(!P)throw new Error(`discriminator: "${b}" must be required`);return m;function I({required:F}){return Array.isArray(F)&&F.includes(b)}function A(F,B){if(F.const)M(F.const,B);else if(F.enum)for(const J of F.enum)M(J,B);else throw new Error(`discriminator: "properties/${b}" must have "const" or "enum"`)}function M(F,B){if(typeof F!="string"||F in m)throw new Error(`discriminator: "${b}" values must be unique strings`);m[F]=B}}}};return $r.default=l,$r}const Zl="http://json-schema.org/draft-07/schema#",xl="http://json-schema.org/draft-07/schema#",Wl="Core schema meta-schema",ed={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},td=["object","boolean"],rd={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},nd={$schema:Zl,$id:xl,title:Wl,definitions:ed,type:td,properties:rd,default:!0};var Vi;function sd(){return Vi||(Vi=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const c=ml(),r=Xl(),u=Ql(),n=nd,l=["/properties"],a="http://json-schema.org/draft-07/schema";class i extends c.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(b=>this.addVocabulary(b)),this.opts.discriminator&&this.addKeyword(u.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const b=this.opts.$data?this.$dataMetaSchema(n,l):n;this.addMetaSchema(b,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}t.Ajv=i,e.exports=t=i,e.exports.Ajv=i,Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var d=gn();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return d.KeywordCxt}});var s=ne();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return s._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return s.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return s.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return s.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return s.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return s.CodeGen}});var $=Ys();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return $.default}});var _=_n();Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return _.default}})})(Mt,Mt.exports)),Mt.exports}var wr={exports:{}},Kn={},Ui;function ad(){return Ui||(Ui=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(A,M){return{validate:A,compare:M}}e.fullFormats={date:t(n,l),time:t(i,d),"date-time":t($,_),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:E,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:I,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:y,int32:{type:"number",validate:w},int64:{type:"number",validate:m},float:{type:"number",validate:v},double:{type:"number",validate:v},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,l),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,d),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,_),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function c(A){return A%4===0&&(A%100!==0||A%400===0)}const r=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,u=[0,31,28,31,30,31,30,31,31,30,31,30,31];function n(A){const M=r.exec(A);if(!M)return!1;const F=+M[1],B=+M[2],J=+M[3];return B>=1&&B<=12&&J>=1&&J<=(B===2&&c(F)?29:u[B])}function l(A,M){if(A&&M)return A>M?1:A<M?-1:0}const a=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function i(A,M){const F=a.exec(A);if(!F)return!1;const B=+F[1],J=+F[2],V=+F[3],z=F[5];return(B<=23&&J<=59&&V<=59||B===23&&J===59&&V===60)&&(!M||z!=="")}function d(A,M){if(!(A&&M))return;const F=a.exec(A),B=a.exec(M);if(F&&B)return A=F[1]+F[2]+F[3]+(F[4]||""),M=B[1]+B[2]+B[3]+(B[4]||""),A>M?1:A<M?-1:0}const s=/t|\s/i;function $(A){const M=A.split(s);return M.length===2&&n(M[0])&&i(M[1],!0)}function _(A,M){if(!(A&&M))return;const[F,B]=A.split(s),[J,V]=M.split(s),z=l(F,J);if(z!==void 0)return z||d(B,V)}const g=/\/|:/,b=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function E(A){return g.test(A)&&b.test(A)}const h=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function y(A){return h.lastIndex=0,h.test(A)}const o=-2147483648,p=2**31-1;function w(A){return Number.isInteger(A)&&A<=p&&A>=o}function m(A){return Number.isInteger(A)}function v(){return!0}const P=/[^\\]\\Z/;function I(A){if(P.test(A))return!1;try{return new RegExp(A),!0}catch{return!1}}})(Kn)),Kn}var Gn={},Er={exports:{}},Hn={},Le={},tt={},Bn={},Jn={},Xn={},zi;function hn(){return zi||(zi=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class c extends t{constructor(o){if(super(),!e.IDENTIFIER.test(o))throw new Error("CodeGen: name must be a valid identifier");this.str=o}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=c;class r extends t{constructor(o){super(),this._items=typeof o=="string"?[o]:o}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const o=this._items[0];return o===""||o==='""'}get str(){var o;return(o=this._str)!==null&&o!==void 0?o:this._str=this._items.reduce((p,w)=>`${p}${w}`,"")}get names(){var o;return(o=this._names)!==null&&o!==void 0?o:this._names=this._items.reduce((p,w)=>(w instanceof c&&(p[w.str]=(p[w.str]||0)+1),p),{})}}e._Code=r,e.nil=new r("");function u(y,...o){const p=[y[0]];let w=0;for(;w<o.length;)a(p,o[w]),p.push(y[++w]);return new r(p)}e._=u;const n=new r("+");function l(y,...o){const p=[g(y[0])];let w=0;for(;w<o.length;)p.push(n),a(p,o[w]),p.push(n,g(y[++w]));return i(p),new r(p)}e.str=l;function a(y,o){o instanceof r?y.push(...o._items):o instanceof c?y.push(o):y.push($(o))}e.addCodeArg=a;function i(y){let o=1;for(;o<y.length-1;){if(y[o]===n){const p=d(y[o-1],y[o+1]);if(p!==void 0){y.splice(o-1,3,p);continue}y[o++]="+"}o++}}function d(y,o){if(o==='""')return y;if(y==='""')return o;if(typeof y=="string")return o instanceof c||y[y.length-1]!=='"'?void 0:typeof o!="string"?`${y.slice(0,-1)}${o}"`:o[0]==='"'?y.slice(0,-1)+o.slice(1):void 0;if(typeof o=="string"&&o[0]==='"'&&!(y instanceof c))return`"${y}${o.slice(1)}`}function s(y,o){return o.emptyStr()?y:y.emptyStr()?o:l`${y}${o}`}e.strConcat=s;function $(y){return typeof y=="number"||typeof y=="boolean"||y===null?y:g(Array.isArray(y)?y.join(","):y)}function _(y){return new r(g(y))}e.stringify=_;function g(y){return JSON.stringify(y).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=g;function b(y){return typeof y=="string"&&e.IDENTIFIER.test(y)?new r(`.${y}`):u`[${y}]`}e.getProperty=b;function E(y){if(typeof y=="string"&&e.IDENTIFIER.test(y))return new r(`${y}`);throw new Error(`CodeGen: invalid export name: ${y}, use explicit $id name mapping`)}e.getEsmExportName=E;function h(y){return new r(y.toString())}e.regexpCode=h})(Xn)),Xn}var Yn={},Ki;function Gi(){return Ki||(Ki=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=hn();class c extends Error{constructor(d){super(`CodeGen: "code" for ${d} not defined`),this.value=d.value}}var r;(function(i){i[i.Started=0]="Started",i[i.Completed=1]="Completed"})(r||(e.UsedValueState=r={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class u{constructor({prefixes:d,parent:s}={}){this._names={},this._prefixes=d,this._parent=s}toName(d){return d instanceof t.Name?d:this.name(d)}name(d){return new t.Name(this._newName(d))}_newName(d){const s=this._names[d]||this._nameGroup(d);return`${d}${s.index++}`}_nameGroup(d){var s,$;if(!(($=(s=this._parent)===null||s===void 0?void 0:s._prefixes)===null||$===void 0)&&$.has(d)||this._prefixes&&!this._prefixes.has(d))throw new Error(`CodeGen: prefix "${d}" is not allowed in this scope`);return this._names[d]={prefix:d,index:0}}}e.Scope=u;class n extends t.Name{constructor(d,s){super(s),this.prefix=d}setValue(d,{property:s,itemIndex:$}){this.value=d,this.scopePath=(0,t._)`.${new t.Name(s)}[${$}]`}}e.ValueScopeName=n;const l=(0,t._)`\n`;class a extends u{constructor(d){super(d),this._values={},this._scope=d.scope,this.opts={...d,_n:d.lines?l:t.nil}}get(){return this._scope}name(d){return new n(d,this._newName(d))}value(d,s){var $;if(s.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const _=this.toName(d),{prefix:g}=_,b=($=s.key)!==null&&$!==void 0?$:s.ref;let E=this._values[g];if(E){const o=E.get(b);if(o)return o}else E=this._values[g]=new Map;E.set(b,_);const h=this._scope[g]||(this._scope[g]=[]),y=h.length;return h[y]=s.ref,_.setValue(s,{property:g,itemIndex:y}),_}getValue(d,s){const $=this._values[d];if($)return $.get(s)}scopeRefs(d,s=this._values){return this._reduceValues(s,$=>{if($.scopePath===void 0)throw new Error(`CodeGen: name "${$}" has no value`);return(0,t._)`${d}${$.scopePath}`})}scopeCode(d=this._values,s,$){return this._reduceValues(d,_=>{if(_.value===void 0)throw new Error(`CodeGen: name "${_}" has no value`);return _.value.code},s,$)}_reduceValues(d,s,$={},_){let g=t.nil;for(const b in d){const E=d[b];if(!E)continue;const h=$[b]=$[b]||new Map;E.forEach(y=>{if(h.has(y))return;h.set(y,r.Started);let o=s(y);if(o){const p=this.opts.es5?e.varKinds.var:e.varKinds.const;g=(0,t._)`${g}${p} ${y} = ${o};${this.opts._n}`}else if(o=_?.(y))g=(0,t._)`${g}${o}${this.opts._n}`;else throw new c(y);h.set(y,r.Completed)})}return g}}e.ValueScope=a})(Yn)),Yn}var Hi;function re(){return Hi||(Hi=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=hn(),c=Gi();var r=hn();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}});var u=Gi();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return u.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return u.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return u.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return u.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class n{optimizeNodes(){return this}optimizeNames(f,S){return this}}class l extends n{constructor(f,S,k){super(),this.varKind=f,this.name=S,this.rhs=k}render({es5:f,_n:S}){const k=f?c.varKinds.var:this.varKind,K=this.rhs===void 0?"":` = ${this.rhs}`;return`${k} ${this.name}${K};`+S}optimizeNames(f,S){if(f[this.name.str])return this.rhs&&(this.rhs=V(this.rhs,f,S)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends n{constructor(f,S,k){super(),this.lhs=f,this.rhs=S,this.sideEffects=k}render({_n:f}){return`${this.lhs} = ${this.rhs};`+f}optimizeNames(f,S){if(!(this.lhs instanceof t.Name&&!f[this.lhs.str]&&!this.sideEffects))return this.rhs=V(this.rhs,f,S),this}get names(){const f=this.lhs instanceof t.Name?{}:{...this.lhs.names};return J(f,this.rhs)}}class i extends a{constructor(f,S,k,K){super(f,k,K),this.op=S}render({_n:f}){return`${this.lhs} ${this.op}= ${this.rhs};`+f}}class d extends n{constructor(f){super(),this.label=f,this.names={}}render({_n:f}){return`${this.label}:`+f}}class s extends n{constructor(f){super(),this.label=f,this.names={}}render({_n:f}){return`break${this.label?` ${this.label}`:""};`+f}}class $ extends n{constructor(f){super(),this.error=f}render({_n:f}){return`throw ${this.error};`+f}get names(){return this.error.names}}class _ extends n{constructor(f){super(),this.code=f}render({_n:f}){return`${this.code};`+f}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(f,S){return this.code=V(this.code,f,S),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class g extends n{constructor(f=[]){super(),this.nodes=f}render(f){return this.nodes.reduce((S,k)=>S+k.render(f),"")}optimizeNodes(){const{nodes:f}=this;let S=f.length;for(;S--;){const k=f[S].optimizeNodes();Array.isArray(k)?f.splice(S,1,...k):k?f[S]=k:f.splice(S,1)}return f.length>0?this:void 0}optimizeNames(f,S){const{nodes:k}=this;let K=k.length;for(;K--;){const G=k[K];G.optimizeNames(f,S)||(z(f,G.names),k.splice(K,1))}return k.length>0?this:void 0}get names(){return this.nodes.reduce((f,S)=>B(f,S.names),{})}}class b extends g{render(f){return"{"+f._n+super.render(f)+"}"+f._n}}class E extends g{}class h extends b{}h.kind="else";class y extends b{constructor(f,S){super(S),this.condition=f}render(f){let S=`if(${this.condition})`+super.render(f);return this.else&&(S+="else "+this.else.render(f)),S}optimizeNodes(){super.optimizeNodes();const f=this.condition;if(f===!0)return this.nodes;let S=this.else;if(S){const k=S.optimizeNodes();S=this.else=Array.isArray(k)?new h(k):k}if(S)return f===!1?S instanceof y?S:S.nodes:this.nodes.length?this:new y(Q(f),S instanceof y?[S]:S.nodes);if(!(f===!1||!this.nodes.length))return this}optimizeNames(f,S){var k;if(this.else=(k=this.else)===null||k===void 0?void 0:k.optimizeNames(f,S),!!(super.optimizeNames(f,S)||this.else))return this.condition=V(this.condition,f,S),this}get names(){const f=super.names;return J(f,this.condition),this.else&&B(f,this.else.names),f}}y.kind="if";class o extends b{}o.kind="for";class p extends o{constructor(f){super(),this.iteration=f}render(f){return`for(${this.iteration})`+super.render(f)}optimizeNames(f,S){if(super.optimizeNames(f,S))return this.iteration=V(this.iteration,f,S),this}get names(){return B(super.names,this.iteration.names)}}class w extends o{constructor(f,S,k,K){super(),this.varKind=f,this.name=S,this.from=k,this.to=K}render(f){const S=f.es5?c.varKinds.var:this.varKind,{name:k,from:K,to:G}=this;return`for(${S} ${k}=${K}; ${k}<${G}; ${k}++)`+super.render(f)}get names(){const f=J(super.names,this.from);return J(f,this.to)}}class m extends o{constructor(f,S,k,K){super(),this.loop=f,this.varKind=S,this.name=k,this.iterable=K}render(f){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(f)}optimizeNames(f,S){if(super.optimizeNames(f,S))return this.iterable=V(this.iterable,f,S),this}get names(){return B(super.names,this.iterable.names)}}class v extends b{constructor(f,S,k){super(),this.name=f,this.args=S,this.async=k}render(f){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(f)}}v.kind="func";class P extends g{render(f){return"return "+super.render(f)}}P.kind="return";class I extends b{render(f){let S="try"+super.render(f);return this.catch&&(S+=this.catch.render(f)),this.finally&&(S+=this.finally.render(f)),S}optimizeNodes(){var f,S;return super.optimizeNodes(),(f=this.catch)===null||f===void 0||f.optimizeNodes(),(S=this.finally)===null||S===void 0||S.optimizeNodes(),this}optimizeNames(f,S){var k,K;return super.optimizeNames(f,S),(k=this.catch)===null||k===void 0||k.optimizeNames(f,S),(K=this.finally)===null||K===void 0||K.optimizeNames(f,S),this}get names(){const f=super.names;return this.catch&&B(f,this.catch.names),this.finally&&B(f,this.finally.names),f}}class A extends b{constructor(f){super(),this.error=f}render(f){return`catch(${this.error})`+super.render(f)}}A.kind="catch";class M extends b{render(f){return"finally"+super.render(f)}}M.kind="finally";class F{constructor(f,S={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...S,_n:S.lines?`
`:""},this._extScope=f,this._scope=new c.Scope({parent:f}),this._nodes=[new E]}toString(){return this._root.render(this.opts)}name(f){return this._scope.name(f)}scopeName(f){return this._extScope.name(f)}scopeValue(f,S){const k=this._extScope.value(f,S);return(this._values[k.prefix]||(this._values[k.prefix]=new Set)).add(k),k}getScopeValue(f,S){return this._extScope.getValue(f,S)}scopeRefs(f){return this._extScope.scopeRefs(f,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(f,S,k,K){const G=this._scope.toName(S);return k!==void 0&&K&&(this._constants[G.str]=k),this._leafNode(new l(f,G,k)),G}const(f,S,k){return this._def(c.varKinds.const,f,S,k)}let(f,S,k){return this._def(c.varKinds.let,f,S,k)}var(f,S,k){return this._def(c.varKinds.var,f,S,k)}assign(f,S,k){return this._leafNode(new a(f,S,k))}add(f,S){return this._leafNode(new i(f,e.operators.ADD,S))}code(f){return typeof f=="function"?f():f!==t.nil&&this._leafNode(new _(f)),this}object(...f){const S=["{"];for(const[k,K]of f)S.length>1&&S.push(","),S.push(k),(k!==K||this.opts.es5)&&(S.push(":"),(0,t.addCodeArg)(S,K));return S.push("}"),new t._Code(S)}if(f,S,k){if(this._blockNode(new y(f)),S&&k)this.code(S).else().code(k).endIf();else if(S)this.code(S).endIf();else if(k)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(f){return this._elseNode(new y(f))}else(){return this._elseNode(new h)}endIf(){return this._endBlockNode(y,h)}_for(f,S){return this._blockNode(f),S&&this.code(S).endFor(),this}for(f,S){return this._for(new p(f),S)}forRange(f,S,k,K,G=this.opts.es5?c.varKinds.var:c.varKinds.let){const W=this._scope.toName(f);return this._for(new w(G,W,S,k),()=>K(W))}forOf(f,S,k,K=c.varKinds.const){const G=this._scope.toName(f);if(this.opts.es5){const W=S instanceof t.Name?S:this.var("_arr",S);return this.forRange("_i",0,(0,t._)`${W}.length`,Z=>{this.var(G,(0,t._)`${W}[${Z}]`),k(G)})}return this._for(new m("of",K,G,S),()=>k(G))}forIn(f,S,k,K=this.opts.es5?c.varKinds.var:c.varKinds.const){if(this.opts.ownProperties)return this.forOf(f,(0,t._)`Object.keys(${S})`,k);const G=this._scope.toName(f);return this._for(new m("in",K,G,S),()=>k(G))}endFor(){return this._endBlockNode(o)}label(f){return this._leafNode(new d(f))}break(f){return this._leafNode(new s(f))}return(f){const S=new P;if(this._blockNode(S),this.code(f),S.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(P)}try(f,S,k){if(!S&&!k)throw new Error('CodeGen: "try" without "catch" and "finally"');const K=new I;if(this._blockNode(K),this.code(f),S){const G=this.name("e");this._currNode=K.catch=new A(G),S(G)}return k&&(this._currNode=K.finally=new M,this.code(k)),this._endBlockNode(A,M)}throw(f){return this._leafNode(new $(f))}block(f,S){return this._blockStarts.push(this._nodes.length),f&&this.code(f).endBlock(S),this}endBlock(f){const S=this._blockStarts.pop();if(S===void 0)throw new Error("CodeGen: not in self-balancing block");const k=this._nodes.length-S;if(k<0||f!==void 0&&k!==f)throw new Error(`CodeGen: wrong number of nodes: ${k} vs ${f} expected`);return this._nodes.length=S,this}func(f,S=t.nil,k,K){return this._blockNode(new v(f,S,k)),K&&this.code(K).endFunc(),this}endFunc(){return this._endBlockNode(v)}optimize(f=1){for(;f-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(f){return this._currNode.nodes.push(f),this}_blockNode(f){this._currNode.nodes.push(f),this._nodes.push(f)}_endBlockNode(f,S){const k=this._currNode;if(k instanceof f||S&&k instanceof S)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${S?`${f.kind}/${S.kind}`:f.kind}"`)}_elseNode(f){const S=this._currNode;if(!(S instanceof y))throw new Error('CodeGen: "else" without "if"');return this._currNode=S.else=f,this}get _root(){return this._nodes[0]}get _currNode(){const f=this._nodes;return f[f.length-1]}set _currNode(f){const S=this._nodes;S[S.length-1]=f}}e.CodeGen=F;function B(N,f){for(const S in f)N[S]=(N[S]||0)+(f[S]||0);return N}function J(N,f){return f instanceof t._CodeOrName?B(N,f.names):N}function V(N,f,S){if(N instanceof t.Name)return k(N);if(!K(N))return N;return new t._Code(N._items.reduce((G,W)=>(W instanceof t.Name&&(W=k(W)),W instanceof t._Code?G.push(...W._items):G.push(W),G),[]));function k(G){const W=S[G.str];return W===void 0||f[G.str]!==1?G:(delete f[G.str],W)}function K(G){return G instanceof t._Code&&G._items.some(W=>W instanceof t.Name&&f[W.str]===1&&S[W.str]!==void 0)}}function z(N,f){for(const S in f)N[S]=(N[S]||0)-(f[S]||0)}function Q(N){return typeof N=="boolean"||typeof N=="number"||N===null?!N:(0,t._)`!${j(N)}`}e.not=Q;const X=R(e.operators.AND);function D(...N){return N.reduce(X)}e.and=D;const U=R(e.operators.OR);function C(...N){return N.reduce(U)}e.or=C;function R(N){return(f,S)=>f===t.nil?S:S===t.nil?f:(0,t._)`${j(f)} ${N} ${j(S)}`}function j(N){return N instanceof t.Name?N:(0,t._)`(${N})`}})(Jn)),Jn}var te={},Bi;function oe(){if(Bi)return te;Bi=1,Object.defineProperty(te,"__esModule",{value:!0}),te.checkStrictMode=te.getErrorPath=te.Type=te.useFunc=te.setEvaluated=te.evaluatedPropsToName=te.mergeEvaluated=te.eachItem=te.unescapeJsonPointer=te.escapeJsonPointer=te.escapeFragment=te.unescapeFragment=te.schemaRefOrVal=te.schemaHasRulesButRef=te.schemaHasRules=te.checkUnknownRules=te.alwaysValidSchema=te.toHash=void 0;const e=re(),t=hn();function c(m){const v={};for(const P of m)v[P]=!0;return v}te.toHash=c;function r(m,v){return typeof v=="boolean"?v:Object.keys(v).length===0?!0:(u(m,v),!n(v,m.self.RULES.all))}te.alwaysValidSchema=r;function u(m,v=m.schema){const{opts:P,self:I}=m;if(!P.strictSchema||typeof v=="boolean")return;const A=I.RULES.keywords;for(const M in v)A[M]||w(m,`unknown keyword: "${M}"`)}te.checkUnknownRules=u;function n(m,v){if(typeof m=="boolean")return!m;for(const P in m)if(v[P])return!0;return!1}te.schemaHasRules=n;function l(m,v){if(typeof m=="boolean")return!m;for(const P in m)if(P!=="$ref"&&v.all[P])return!0;return!1}te.schemaHasRulesButRef=l;function a({topSchemaRef:m,schemaPath:v},P,I,A){if(!A){if(typeof P=="number"||typeof P=="boolean")return P;if(typeof P=="string")return(0,e._)`${P}`}return(0,e._)`${m}${v}${(0,e.getProperty)(I)}`}te.schemaRefOrVal=a;function i(m){return $(decodeURIComponent(m))}te.unescapeFragment=i;function d(m){return encodeURIComponent(s(m))}te.escapeFragment=d;function s(m){return typeof m=="number"?`${m}`:m.replace(/~/g,"~0").replace(/\//g,"~1")}te.escapeJsonPointer=s;function $(m){return m.replace(/~1/g,"/").replace(/~0/g,"~")}te.unescapeJsonPointer=$;function _(m,v){if(Array.isArray(m))for(const P of m)v(P);else v(m)}te.eachItem=_;function g({mergeNames:m,mergeToName:v,mergeValues:P,resultToName:I}){return(A,M,F,B)=>{const J=F===void 0?M:F instanceof e.Name?(M instanceof e.Name?m(A,M,F):v(A,M,F),F):M instanceof e.Name?(v(A,F,M),M):P(M,F);return B===e.Name&&!(J instanceof e.Name)?I(A,J):J}}te.mergeEvaluated={props:g({mergeNames:(m,v,P)=>m.if((0,e._)`${P} !== true && ${v} !== undefined`,()=>{m.if((0,e._)`${v} === true`,()=>m.assign(P,!0),()=>m.assign(P,(0,e._)`${P} || {}`).code((0,e._)`Object.assign(${P}, ${v})`))}),mergeToName:(m,v,P)=>m.if((0,e._)`${P} !== true`,()=>{v===!0?m.assign(P,!0):(m.assign(P,(0,e._)`${P} || {}`),E(m,P,v))}),mergeValues:(m,v)=>m===!0?!0:{...m,...v},resultToName:b}),items:g({mergeNames:(m,v,P)=>m.if((0,e._)`${P} !== true && ${v} !== undefined`,()=>m.assign(P,(0,e._)`${v} === true ? true : ${P} > ${v} ? ${P} : ${v}`)),mergeToName:(m,v,P)=>m.if((0,e._)`${P} !== true`,()=>m.assign(P,v===!0?!0:(0,e._)`${P} > ${v} ? ${P} : ${v}`)),mergeValues:(m,v)=>m===!0?!0:Math.max(m,v),resultToName:(m,v)=>m.var("items",v)})};function b(m,v){if(v===!0)return m.var("props",!0);const P=m.var("props",(0,e._)`{}`);return v!==void 0&&E(m,P,v),P}te.evaluatedPropsToName=b;function E(m,v,P){Object.keys(P).forEach(I=>m.assign((0,e._)`${v}${(0,e.getProperty)(I)}`,!0))}te.setEvaluated=E;const h={};function y(m,v){return m.scopeValue("func",{ref:v,code:h[v.code]||(h[v.code]=new t._Code(v.code))})}te.useFunc=y;var o;(function(m){m[m.Num=0]="Num",m[m.Str=1]="Str"})(o||(te.Type=o={}));function p(m,v,P){if(m instanceof e.Name){const I=v===o.Num;return P?I?(0,e._)`"[" + ${m} + "]"`:(0,e._)`"['" + ${m} + "']"`:I?(0,e._)`"/" + ${m}`:(0,e._)`"/" + ${m}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return P?(0,e.getProperty)(m).toString():"/"+s(m)}te.getErrorPath=p;function w(m,v,P=m.opts.strictSchema){if(P){if(v=`strict mode: ${v}`,P===!0)throw new Error(v);m.self.logger.warn(v)}}return te.checkStrictMode=w,te}var br={},Ji;function Be(){if(Ji)return br;Ji=1,Object.defineProperty(br,"__esModule",{value:!0});const e=re(),t={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};return br.default=t,br}var Xi;function $n(){return Xi||(Xi=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=re(),c=oe(),r=Be();e.keywordError={message:({keyword:h})=>(0,t.str)`must pass "${h}" keyword validation`},e.keyword$DataError={message:({keyword:h,schemaType:y})=>y?(0,t.str)`"${h}" keyword must be ${y} ($data)`:(0,t.str)`"${h}" keyword is invalid ($data)`};function u(h,y=e.keywordError,o,p){const{it:w}=h,{gen:m,compositeRule:v,allErrors:P}=w,I=$(h,y,o);p??(v||P)?i(m,I):d(w,(0,t._)`[${I}]`)}e.reportError=u;function n(h,y=e.keywordError,o){const{it:p}=h,{gen:w,compositeRule:m,allErrors:v}=p,P=$(h,y,o);i(w,P),m||v||d(p,r.default.vErrors)}e.reportExtraError=n;function l(h,y){h.assign(r.default.errors,y),h.if((0,t._)`${r.default.vErrors} !== null`,()=>h.if(y,()=>h.assign((0,t._)`${r.default.vErrors}.length`,y),()=>h.assign(r.default.vErrors,null)))}e.resetErrorsCount=l;function a({gen:h,keyword:y,schemaValue:o,data:p,errsCount:w,it:m}){if(w===void 0)throw new Error("ajv implementation error");const v=h.name("err");h.forRange("i",w,r.default.errors,P=>{h.const(v,(0,t._)`${r.default.vErrors}[${P}]`),h.if((0,t._)`${v}.instancePath === undefined`,()=>h.assign((0,t._)`${v}.instancePath`,(0,t.strConcat)(r.default.instancePath,m.errorPath))),h.assign((0,t._)`${v}.schemaPath`,(0,t.str)`${m.errSchemaPath}/${y}`),m.opts.verbose&&(h.assign((0,t._)`${v}.schema`,o),h.assign((0,t._)`${v}.data`,p))})}e.extendErrors=a;function i(h,y){const o=h.const("err",y);h.if((0,t._)`${r.default.vErrors} === null`,()=>h.assign(r.default.vErrors,(0,t._)`[${o}]`),(0,t._)`${r.default.vErrors}.push(${o})`),h.code((0,t._)`${r.default.errors}++`)}function d(h,y){const{gen:o,validateName:p,schemaEnv:w}=h;w.$async?o.throw((0,t._)`new ${h.ValidationError}(${y})`):(o.assign((0,t._)`${p}.errors`,y),o.return(!1))}const s={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function $(h,y,o){const{createErrors:p}=h.it;return p===!1?(0,t._)`{}`:_(h,y,o)}function _(h,y,o={}){const{gen:p,it:w}=h,m=[g(w,o),b(h,o)];return E(h,y,m),p.object(...m)}function g({errorPath:h},{instancePath:y}){const o=y?(0,t.str)`${h}${(0,c.getErrorPath)(y,c.Type.Str)}`:h;return[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,o)]}function b({keyword:h,it:{errSchemaPath:y}},{schemaPath:o,parentSchema:p}){let w=p?y:(0,t.str)`${y}/${h}`;return o&&(w=(0,t.str)`${w}${(0,c.getErrorPath)(o,c.Type.Str)}`),[s.schemaPath,w]}function E(h,{params:y,message:o},p){const{keyword:w,data:m,schemaValue:v,it:P}=h,{opts:I,propertyName:A,topSchemaRef:M,schemaPath:F}=P;p.push([s.keyword,w],[s.params,typeof y=="function"?y(h):y||(0,t._)`{}`]),I.messages&&p.push([s.message,typeof o=="function"?o(h):o]),I.verbose&&p.push([s.schema,v],[s.parentSchema,(0,t._)`${M}${F}`],[r.default.data,m]),A&&p.push([s.propertyName,A])}})(Bn)),Bn}var Yi;function id(){if(Yi)return tt;Yi=1,Object.defineProperty(tt,"__esModule",{value:!0}),tt.boolOrEmptySchema=tt.topBoolOrEmptySchema=void 0;const e=$n(),t=re(),c=Be(),r={message:"boolean schema is false"};function u(a){const{gen:i,schema:d,validateName:s}=a;d===!1?l(a,!1):typeof d=="object"&&d.$async===!0?i.return(c.default.data):(i.assign((0,t._)`${s}.errors`,null),i.return(!0))}tt.topBoolOrEmptySchema=u;function n(a,i){const{gen:d,schema:s}=a;s===!1?(d.var(i,!1),l(a)):d.var(i,!0)}tt.boolOrEmptySchema=n;function l(a,i){const{gen:d,data:s}=a,$={gen:d,keyword:"false schema",data:s,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:a};(0,e.reportError)($,r,void 0,i)}return tt}var ve={},rt={},Qi;function du(){if(Qi)return rt;Qi=1,Object.defineProperty(rt,"__esModule",{value:!0}),rt.getRules=rt.isJSONType=void 0;const e=["string","number","integer","boolean","null","object","array"],t=new Set(e);function c(u){return typeof u=="string"&&t.has(u)}rt.isJSONType=c;function r(){const u={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...u,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},u.number,u.string,u.array,u.object],post:{rules:[]},all:{},keywords:{}}}return rt.getRules=r,rt}var Fe={},Zi;function fu(){if(Zi)return Fe;Zi=1,Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.shouldUseRule=Fe.shouldUseGroup=Fe.schemaHasRulesForType=void 0;function e({schema:r,self:u},n){const l=u.RULES.types[n];return l&&l!==!0&&t(r,l)}Fe.schemaHasRulesForType=e;function t(r,u){return u.rules.some(n=>c(r,n))}Fe.shouldUseGroup=t;function c(r,u){var n;return r[u.keyword]!==void 0||((n=u.definition.implements)===null||n===void 0?void 0:n.some(l=>r[l]!==void 0))}return Fe.shouldUseRule=c,Fe}var xi;function pn(){if(xi)return ve;xi=1,Object.defineProperty(ve,"__esModule",{value:!0}),ve.reportTypeError=ve.checkDataTypes=ve.checkDataType=ve.coerceAndCheckDataType=ve.getJSONTypes=ve.getSchemaTypes=ve.DataType=void 0;const e=du(),t=fu(),c=$n(),r=re(),u=oe();var n;(function(o){o[o.Correct=0]="Correct",o[o.Wrong=1]="Wrong"})(n||(ve.DataType=n={}));function l(o){const p=a(o.type);if(p.includes("null")){if(o.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!p.length&&o.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');o.nullable===!0&&p.push("null")}return p}ve.getSchemaTypes=l;function a(o){const p=Array.isArray(o)?o:o?[o]:[];if(p.every(e.isJSONType))return p;throw new Error("type must be JSONType or JSONType[]: "+p.join(","))}ve.getJSONTypes=a;function i(o,p){const{gen:w,data:m,opts:v}=o,P=s(p,v.coerceTypes),I=p.length>0&&!(P.length===0&&p.length===1&&(0,t.schemaHasRulesForType)(o,p[0]));if(I){const A=b(p,m,v.strictNumbers,n.Wrong);w.if(A,()=>{P.length?$(o,p,P):h(o)})}return I}ve.coerceAndCheckDataType=i;const d=new Set(["string","number","integer","boolean","null"]);function s(o,p){return p?o.filter(w=>d.has(w)||p==="array"&&w==="array"):[]}function $(o,p,w){const{gen:m,data:v,opts:P}=o,I=m.let("dataType",(0,r._)`typeof ${v}`),A=m.let("coerced",(0,r._)`undefined`);P.coerceTypes==="array"&&m.if((0,r._)`${I} == 'object' && Array.isArray(${v}) && ${v}.length == 1`,()=>m.assign(v,(0,r._)`${v}[0]`).assign(I,(0,r._)`typeof ${v}`).if(b(p,v,P.strictNumbers),()=>m.assign(A,v))),m.if((0,r._)`${A} !== undefined`);for(const F of w)(d.has(F)||F==="array"&&P.coerceTypes==="array")&&M(F);m.else(),h(o),m.endIf(),m.if((0,r._)`${A} !== undefined`,()=>{m.assign(v,A),_(o,A)});function M(F){switch(F){case"string":m.elseIf((0,r._)`${I} == "number" || ${I} == "boolean"`).assign(A,(0,r._)`"" + ${v}`).elseIf((0,r._)`${v} === null`).assign(A,(0,r._)`""`);return;case"number":m.elseIf((0,r._)`${I} == "boolean" || ${v} === null
              || (${I} == "string" && ${v} && ${v} == +${v})`).assign(A,(0,r._)`+${v}`);return;case"integer":m.elseIf((0,r._)`${I} === "boolean" || ${v} === null
              || (${I} === "string" && ${v} && ${v} == +${v} && !(${v} % 1))`).assign(A,(0,r._)`+${v}`);return;case"boolean":m.elseIf((0,r._)`${v} === "false" || ${v} === 0 || ${v} === null`).assign(A,!1).elseIf((0,r._)`${v} === "true" || ${v} === 1`).assign(A,!0);return;case"null":m.elseIf((0,r._)`${v} === "" || ${v} === 0 || ${v} === false`),m.assign(A,null);return;case"array":m.elseIf((0,r._)`${I} === "string" || ${I} === "number"
              || ${I} === "boolean" || ${v} === null`).assign(A,(0,r._)`[${v}]`)}}}function _({gen:o,parentData:p,parentDataProperty:w},m){o.if((0,r._)`${p} !== undefined`,()=>o.assign((0,r._)`${p}[${w}]`,m))}function g(o,p,w,m=n.Correct){const v=m===n.Correct?r.operators.EQ:r.operators.NEQ;let P;switch(o){case"null":return(0,r._)`${p} ${v} null`;case"array":P=(0,r._)`Array.isArray(${p})`;break;case"object":P=(0,r._)`${p} && typeof ${p} == "object" && !Array.isArray(${p})`;break;case"integer":P=I((0,r._)`!(${p} % 1) && !isNaN(${p})`);break;case"number":P=I();break;default:return(0,r._)`typeof ${p} ${v} ${o}`}return m===n.Correct?P:(0,r.not)(P);function I(A=r.nil){return(0,r.and)((0,r._)`typeof ${p} == "number"`,A,w?(0,r._)`isFinite(${p})`:r.nil)}}ve.checkDataType=g;function b(o,p,w,m){if(o.length===1)return g(o[0],p,w,m);let v;const P=(0,u.toHash)(o);if(P.array&&P.object){const I=(0,r._)`typeof ${p} != "object"`;v=P.null?I:(0,r._)`!${p} || ${I}`,delete P.null,delete P.array,delete P.object}else v=r.nil;P.number&&delete P.integer;for(const I in P)v=(0,r.and)(v,g(I,p,w,m));return v}ve.checkDataTypes=b;const E={message:({schema:o})=>`must be ${o}`,params:({schema:o,schemaValue:p})=>typeof o=="string"?(0,r._)`{type: ${o}}`:(0,r._)`{type: ${p}}`};function h(o){const p=y(o);(0,c.reportError)(p,E)}ve.reportTypeError=h;function y(o){const{gen:p,data:w,schema:m}=o,v=(0,u.schemaRefOrVal)(o,m,"type");return{gen:p,keyword:"type",data:w,schema:m.type,schemaCode:v,schemaValue:v,parentSchema:m,params:{},it:o}}return ve}var yt={},Wi;function od(){if(Wi)return yt;Wi=1,Object.defineProperty(yt,"__esModule",{value:!0}),yt.assignDefaults=void 0;const e=re(),t=oe();function c(u,n){const{properties:l,items:a}=u.schema;if(n==="object"&&l)for(const i in l)r(u,i,l[i].default);else n==="array"&&Array.isArray(a)&&a.forEach((i,d)=>r(u,d,i.default))}yt.assignDefaults=c;function r(u,n,l){const{gen:a,compositeRule:i,data:d,opts:s}=u;if(l===void 0)return;const $=(0,e._)`${d}${(0,e.getProperty)(n)}`;if(i){(0,t.checkStrictMode)(u,`default is ignored for: ${$}`);return}let _=(0,e._)`${$} === undefined`;s.useDefaults==="empty"&&(_=(0,e._)`${_} || ${$} === null || ${$} === ""`),a.if(_,(0,e._)`${$} = ${(0,e.stringify)(l)}`)}return yt}var Oe={},de={},eo;function Ce(){if(eo)return de;eo=1,Object.defineProperty(de,"__esModule",{value:!0}),de.validateUnion=de.validateArray=de.usePattern=de.callValidateCode=de.schemaProperties=de.allSchemaProperties=de.noPropertyInData=de.propertyInData=de.isOwnProperty=de.hasPropFunc=de.reportMissingProp=de.checkMissingProp=de.checkReportMissingProp=void 0;const e=re(),t=oe(),c=Be(),r=oe();function u(o,p){const{gen:w,data:m,it:v}=o;w.if(s(w,m,p,v.opts.ownProperties),()=>{o.setParams({missingProperty:(0,e._)`${p}`},!0),o.error()})}de.checkReportMissingProp=u;function n({gen:o,data:p,it:{opts:w}},m,v){return(0,e.or)(...m.map(P=>(0,e.and)(s(o,p,P,w.ownProperties),(0,e._)`${v} = ${P}`)))}de.checkMissingProp=n;function l(o,p){o.setParams({missingProperty:p},!0),o.error()}de.reportMissingProp=l;function a(o){return o.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}de.hasPropFunc=a;function i(o,p,w){return(0,e._)`${a(o)}.call(${p}, ${w})`}de.isOwnProperty=i;function d(o,p,w,m){const v=(0,e._)`${p}${(0,e.getProperty)(w)} !== undefined`;return m?(0,e._)`${v} && ${i(o,p,w)}`:v}de.propertyInData=d;function s(o,p,w,m){const v=(0,e._)`${p}${(0,e.getProperty)(w)} === undefined`;return m?(0,e.or)(v,(0,e.not)(i(o,p,w))):v}de.noPropertyInData=s;function $(o){return o?Object.keys(o).filter(p=>p!=="__proto__"):[]}de.allSchemaProperties=$;function _(o,p){return $(p).filter(w=>!(0,t.alwaysValidSchema)(o,p[w]))}de.schemaProperties=_;function g({schemaCode:o,data:p,it:{gen:w,topSchemaRef:m,schemaPath:v,errorPath:P},it:I},A,M,F){const B=F?(0,e._)`${o}, ${p}, ${m}${v}`:p,J=[[c.default.instancePath,(0,e.strConcat)(c.default.instancePath,P)],[c.default.parentData,I.parentData],[c.default.parentDataProperty,I.parentDataProperty],[c.default.rootData,c.default.rootData]];I.opts.dynamicRef&&J.push([c.default.dynamicAnchors,c.default.dynamicAnchors]);const V=(0,e._)`${B}, ${w.object(...J)}`;return M!==e.nil?(0,e._)`${A}.call(${M}, ${V})`:(0,e._)`${A}(${V})`}de.callValidateCode=g;const b=(0,e._)`new RegExp`;function E({gen:o,it:{opts:p}},w){const m=p.unicodeRegExp?"u":"",{regExp:v}=p.code,P=v(w,m);return o.scopeValue("pattern",{key:P.toString(),ref:P,code:(0,e._)`${v.code==="new RegExp"?b:(0,r.useFunc)(o,v)}(${w}, ${m})`})}de.usePattern=E;function h(o){const{gen:p,data:w,keyword:m,it:v}=o,P=p.name("valid");if(v.allErrors){const A=p.let("valid",!0);return I(()=>p.assign(A,!1)),A}return p.var(P,!0),I(()=>p.break()),P;function I(A){const M=p.const("len",(0,e._)`${w}.length`);p.forRange("i",0,M,F=>{o.subschema({keyword:m,dataProp:F,dataPropType:t.Type.Num},P),p.if((0,e.not)(P),A)})}}de.validateArray=h;function y(o){const{gen:p,schema:w,keyword:m,it:v}=o;if(!Array.isArray(w))throw new Error("ajv implementation error");if(w.some(M=>(0,t.alwaysValidSchema)(v,M))&&!v.opts.unevaluated)return;const I=p.let("valid",!1),A=p.name("_valid");p.block(()=>w.forEach((M,F)=>{const B=o.subschema({keyword:m,schemaProp:F,compositeRule:!0},A);p.assign(I,(0,e._)`${I} || ${A}`),o.mergeValidEvaluated(B,A)||p.if((0,e.not)(I))})),o.result(I,()=>o.reset(),()=>o.error(!0))}return de.validateUnion=y,de}var to;function cd(){if(to)return Oe;to=1,Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.validateKeywordUsage=Oe.validSchemaType=Oe.funcKeywordCode=Oe.macroKeywordCode=void 0;const e=re(),t=Be(),c=Ce(),r=$n();function u(_,g){const{gen:b,keyword:E,schema:h,parentSchema:y,it:o}=_,p=g.macro.call(o.self,h,y,o),w=d(b,E,p);o.opts.validateSchema!==!1&&o.self.validateSchema(p,!0);const m=b.name("valid");_.subschema({schema:p,schemaPath:e.nil,errSchemaPath:`${o.errSchemaPath}/${E}`,topSchemaRef:w,compositeRule:!0},m),_.pass(m,()=>_.error(!0))}Oe.macroKeywordCode=u;function n(_,g){var b;const{gen:E,keyword:h,schema:y,parentSchema:o,$data:p,it:w}=_;i(w,g);const m=!p&&g.compile?g.compile.call(w.self,y,o,w):g.validate,v=d(E,h,m),P=E.let("valid");_.block$data(P,I),_.ok((b=g.valid)!==null&&b!==void 0?b:P);function I(){if(g.errors===!1)F(),g.modifying&&l(_),B(()=>_.error());else{const J=g.async?A():M();g.modifying&&l(_),B(()=>a(_,J))}}function A(){const J=E.let("ruleErrs",null);return E.try(()=>F((0,e._)`await `),V=>E.assign(P,!1).if((0,e._)`${V} instanceof ${w.ValidationError}`,()=>E.assign(J,(0,e._)`${V}.errors`),()=>E.throw(V))),J}function M(){const J=(0,e._)`${v}.errors`;return E.assign(J,null),F(e.nil),J}function F(J=g.async?(0,e._)`await `:e.nil){const V=w.opts.passContext?t.default.this:t.default.self,z=!("compile"in g&&!p||g.schema===!1);E.assign(P,(0,e._)`${J}${(0,c.callValidateCode)(_,v,V,z)}`,g.modifying)}function B(J){var V;E.if((0,e.not)((V=g.valid)!==null&&V!==void 0?V:P),J)}}Oe.funcKeywordCode=n;function l(_){const{gen:g,data:b,it:E}=_;g.if(E.parentData,()=>g.assign(b,(0,e._)`${E.parentData}[${E.parentDataProperty}]`))}function a(_,g){const{gen:b}=_;b.if((0,e._)`Array.isArray(${g})`,()=>{b.assign(t.default.vErrors,(0,e._)`${t.default.vErrors} === null ? ${g} : ${t.default.vErrors}.concat(${g})`).assign(t.default.errors,(0,e._)`${t.default.vErrors}.length`),(0,r.extendErrors)(_)},()=>_.error())}function i({schemaEnv:_},g){if(g.async&&!_.$async)throw new Error("async keyword in sync schema")}function d(_,g,b){if(b===void 0)throw new Error(`keyword "${g}" failed to compile`);return _.scopeValue("keyword",typeof b=="function"?{ref:b}:{ref:b,code:(0,e.stringify)(b)})}function s(_,g,b=!1){return!g.length||g.some(E=>E==="array"?Array.isArray(_):E==="object"?_&&typeof _=="object"&&!Array.isArray(_):typeof _==E||b&&typeof _>"u")}Oe.validSchemaType=s;function $({schema:_,opts:g,self:b,errSchemaPath:E},h,y){if(Array.isArray(h.keyword)?!h.keyword.includes(y):h.keyword!==y)throw new Error("ajv implementation error");const o=h.dependencies;if(o?.some(p=>!Object.prototype.hasOwnProperty.call(_,p)))throw new Error(`parent schema must have dependencies of ${y}: ${o.join(",")}`);if(h.validateSchema&&!h.validateSchema(_[y])){const w=`keyword "${y}" value is invalid at path "${E}": `+b.errorsText(h.validateSchema.errors);if(g.validateSchema==="log")b.logger.error(w);else throw new Error(w)}}return Oe.validateKeywordUsage=$,Oe}var Ve={},ro;function ud(){if(ro)return Ve;ro=1,Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.extendSubschemaMode=Ve.extendSubschemaData=Ve.getSubschema=void 0;const e=re(),t=oe();function c(n,{keyword:l,schemaProp:a,schema:i,schemaPath:d,errSchemaPath:s,topSchemaRef:$}){if(l!==void 0&&i!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(l!==void 0){const _=n.schema[l];return a===void 0?{schema:_,schemaPath:(0,e._)`${n.schemaPath}${(0,e.getProperty)(l)}`,errSchemaPath:`${n.errSchemaPath}/${l}`}:{schema:_[a],schemaPath:(0,e._)`${n.schemaPath}${(0,e.getProperty)(l)}${(0,e.getProperty)(a)}`,errSchemaPath:`${n.errSchemaPath}/${l}/${(0,t.escapeFragment)(a)}`}}if(i!==void 0){if(d===void 0||s===void 0||$===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:i,schemaPath:d,topSchemaRef:$,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}Ve.getSubschema=c;function r(n,l,{dataProp:a,dataPropType:i,data:d,dataTypes:s,propertyName:$}){if(d!==void 0&&a!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:_}=l;if(a!==void 0){const{errorPath:b,dataPathArr:E,opts:h}=l,y=_.let("data",(0,e._)`${l.data}${(0,e.getProperty)(a)}`,!0);g(y),n.errorPath=(0,e.str)`${b}${(0,t.getErrorPath)(a,i,h.jsPropertySyntax)}`,n.parentDataProperty=(0,e._)`${a}`,n.dataPathArr=[...E,n.parentDataProperty]}if(d!==void 0){const b=d instanceof e.Name?d:_.let("data",d,!0);g(b),$!==void 0&&(n.propertyName=$)}s&&(n.dataTypes=s);function g(b){n.data=b,n.dataLevel=l.dataLevel+1,n.dataTypes=[],l.definedProperties=new Set,n.parentData=l.data,n.dataNames=[...l.dataNames,b]}}Ve.extendSubschemaData=r;function u(n,{jtdDiscriminator:l,jtdMetadata:a,compositeRule:i,createErrors:d,allErrors:s}){i!==void 0&&(n.compositeRule=i),d!==void 0&&(n.createErrors=d),s!==void 0&&(n.allErrors=s),n.jtdDiscriminator=l,n.jtdMetadata=a}return Ve.extendSubschemaMode=u,Ve}var _e={},Qn={exports:{}},no;function ld(){if(no)return Qn.exports;no=1;var e=Qn.exports=function(r,u,n){typeof u=="function"&&(n=u,u={}),n=u.cb||n;var l=typeof n=="function"?n:n.pre||function(){},a=n.post||function(){};t(u,l,a,r,"",r)};e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function t(r,u,n,l,a,i,d,s,$,_){if(l&&typeof l=="object"&&!Array.isArray(l)){u(l,a,i,d,s,$,_);for(var g in l){var b=l[g];if(Array.isArray(b)){if(g in e.arrayKeywords)for(var E=0;E<b.length;E++)t(r,u,n,b[E],a+"/"+g+"/"+E,i,a,g,l,E)}else if(g in e.propsKeywords){if(b&&typeof b=="object")for(var h in b)t(r,u,n,b[h],a+"/"+g+"/"+c(h),i,a,g,l,h)}else(g in e.keywords||r.allKeys&&!(g in e.skipKeywords))&&t(r,u,n,b,a+"/"+g,i,a,g,l)}n(l,a,i,d,s,$,_)}}function c(r){return r.replace(/~/g,"~0").replace(/\//g,"~1")}return Qn.exports}var so;function wn(){if(so)return _e;so=1,Object.defineProperty(_e,"__esModule",{value:!0}),_e.getSchemaRefs=_e.resolveUrl=_e.normalizeId=_e._getFullPath=_e.getFullPath=_e.inlineRef=void 0;const e=oe(),t=yn(),c=ld(),r=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function u(E,h=!0){return typeof E=="boolean"?!0:h===!0?!l(E):h?a(E)<=h:!1}_e.inlineRef=u;const n=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function l(E){for(const h in E){if(n.has(h))return!0;const y=E[h];if(Array.isArray(y)&&y.some(l)||typeof y=="object"&&l(y))return!0}return!1}function a(E){let h=0;for(const y in E){if(y==="$ref")return 1/0;if(h++,!r.has(y)&&(typeof E[y]=="object"&&(0,e.eachItem)(E[y],o=>h+=a(o)),h===1/0))return 1/0}return h}function i(E,h="",y){y!==!1&&(h=$(h));const o=E.parse(h);return d(E,o)}_e.getFullPath=i;function d(E,h){return E.serialize(h).split("#")[0]+"#"}_e._getFullPath=d;const s=/#\/?$/;function $(E){return E?E.replace(s,""):""}_e.normalizeId=$;function _(E,h,y){return y=$(y),E.resolve(h,y)}_e.resolveUrl=_;const g=/^[a-z_][-a-z0-9._]*$/i;function b(E,h){if(typeof E=="boolean")return{};const{schemaId:y,uriResolver:o}=this.opts,p=$(E[y]||h),w={"":p},m=i(o,p,!1),v={},P=new Set;return c(E,{allKeys:!0},(M,F,B,J)=>{if(J===void 0)return;const V=m+F;let z=w[J];typeof M[y]=="string"&&(z=Q.call(this,M[y])),X.call(this,M.$anchor),X.call(this,M.$dynamicAnchor),w[F]=z;function Q(D){const U=this.opts.uriResolver.resolve;if(D=$(z?U(z,D):D),P.has(D))throw A(D);P.add(D);let C=this.refs[D];return typeof C=="string"&&(C=this.refs[C]),typeof C=="object"?I(M,C.schema,D):D!==$(V)&&(D[0]==="#"?(I(M,v[D],D),v[D]=M):this.refs[D]=V),D}function X(D){if(typeof D=="string"){if(!g.test(D))throw new Error(`invalid anchor "${D}"`);Q.call(this,`#${D}`)}}}),v;function I(M,F,B){if(F!==void 0&&!t(M,F))throw A(B)}function A(M){return new Error(`reference "${M}" resolves to more than one schema`)}}return _e.getSchemaRefs=b,_e}var ao;function En(){if(ao)return Le;ao=1,Object.defineProperty(Le,"__esModule",{value:!0}),Le.getData=Le.KeywordCxt=Le.validateFunctionCode=void 0;const e=id(),t=pn(),c=fu(),r=pn(),u=od(),n=cd(),l=ud(),a=re(),i=Be(),d=wn(),s=oe(),$=$n();function _(O){if(m(O)&&(P(O),w(O))){h(O);return}g(O,()=>(0,e.topBoolOrEmptySchema)(O))}Le.validateFunctionCode=_;function g({gen:O,validateName:T,schema:q,schemaEnv:L,opts:H},Y){H.code.es5?O.func(T,(0,a._)`${i.default.data}, ${i.default.valCxt}`,L.$async,()=>{O.code((0,a._)`"use strict"; ${o(q,H)}`),E(O,H),O.code(Y)}):O.func(T,(0,a._)`${i.default.data}, ${b(H)}`,L.$async,()=>O.code(o(q,H)).code(Y))}function b(O){return(0,a._)`{${i.default.instancePath}="", ${i.default.parentData}, ${i.default.parentDataProperty}, ${i.default.rootData}=${i.default.data}${O.dynamicRef?(0,a._)`, ${i.default.dynamicAnchors}={}`:a.nil}}={}`}function E(O,T){O.if(i.default.valCxt,()=>{O.var(i.default.instancePath,(0,a._)`${i.default.valCxt}.${i.default.instancePath}`),O.var(i.default.parentData,(0,a._)`${i.default.valCxt}.${i.default.parentData}`),O.var(i.default.parentDataProperty,(0,a._)`${i.default.valCxt}.${i.default.parentDataProperty}`),O.var(i.default.rootData,(0,a._)`${i.default.valCxt}.${i.default.rootData}`),T.dynamicRef&&O.var(i.default.dynamicAnchors,(0,a._)`${i.default.valCxt}.${i.default.dynamicAnchors}`)},()=>{O.var(i.default.instancePath,(0,a._)`""`),O.var(i.default.parentData,(0,a._)`undefined`),O.var(i.default.parentDataProperty,(0,a._)`undefined`),O.var(i.default.rootData,i.default.data),T.dynamicRef&&O.var(i.default.dynamicAnchors,(0,a._)`{}`)})}function h(O){const{schema:T,opts:q,gen:L}=O;g(O,()=>{q.$comment&&T.$comment&&J(O),M(O),L.let(i.default.vErrors,null),L.let(i.default.errors,0),q.unevaluated&&y(O),I(O),V(O)})}function y(O){const{gen:T,validateName:q}=O;O.evaluated=T.const("evaluated",(0,a._)`${q}.evaluated`),T.if((0,a._)`${O.evaluated}.dynamicProps`,()=>T.assign((0,a._)`${O.evaluated}.props`,(0,a._)`undefined`)),T.if((0,a._)`${O.evaluated}.dynamicItems`,()=>T.assign((0,a._)`${O.evaluated}.items`,(0,a._)`undefined`))}function o(O,T){const q=typeof O=="object"&&O[T.schemaId];return q&&(T.code.source||T.code.process)?(0,a._)`/*# sourceURL=${q} */`:a.nil}function p(O,T){if(m(O)&&(P(O),w(O))){v(O,T);return}(0,e.boolOrEmptySchema)(O,T)}function w({schema:O,self:T}){if(typeof O=="boolean")return!O;for(const q in O)if(T.RULES.all[q])return!0;return!1}function m(O){return typeof O.schema!="boolean"}function v(O,T){const{schema:q,gen:L,opts:H}=O;H.$comment&&q.$comment&&J(O),F(O),B(O);const Y=L.const("_errs",i.default.errors);I(O,Y),L.var(T,(0,a._)`${Y} === ${i.default.errors}`)}function P(O){(0,s.checkUnknownRules)(O),A(O)}function I(O,T){if(O.opts.jtd)return Q(O,[],!1,T);const q=(0,t.getSchemaTypes)(O.schema),L=(0,t.coerceAndCheckDataType)(O,q);Q(O,q,!L,T)}function A(O){const{schema:T,errSchemaPath:q,opts:L,self:H}=O;T.$ref&&L.ignoreKeywordsWithRef&&(0,s.schemaHasRulesButRef)(T,H.RULES)&&H.logger.warn(`$ref: keywords ignored in schema at path "${q}"`)}function M(O){const{schema:T,opts:q}=O;T.default!==void 0&&q.useDefaults&&q.strictSchema&&(0,s.checkStrictMode)(O,"default is ignored in the schema root")}function F(O){const T=O.schema[O.opts.schemaId];T&&(O.baseId=(0,d.resolveUrl)(O.opts.uriResolver,O.baseId,T))}function B(O){if(O.schema.$async&&!O.schemaEnv.$async)throw new Error("async schema in sync schema")}function J({gen:O,schemaEnv:T,schema:q,errSchemaPath:L,opts:H}){const Y=q.$comment;if(H.$comment===!0)O.code((0,a._)`${i.default.self}.logger.log(${Y})`);else if(typeof H.$comment=="function"){const se=(0,a.str)`${L}/$comment`,pe=O.scopeValue("root",{ref:T.root});O.code((0,a._)`${i.default.self}.opts.$comment(${Y}, ${se}, ${pe}.schema)`)}}function V(O){const{gen:T,schemaEnv:q,validateName:L,ValidationError:H,opts:Y}=O;q.$async?T.if((0,a._)`${i.default.errors} === 0`,()=>T.return(i.default.data),()=>T.throw((0,a._)`new ${H}(${i.default.vErrors})`)):(T.assign((0,a._)`${L}.errors`,i.default.vErrors),Y.unevaluated&&z(O),T.return((0,a._)`${i.default.errors} === 0`))}function z({gen:O,evaluated:T,props:q,items:L}){q instanceof a.Name&&O.assign((0,a._)`${T}.props`,q),L instanceof a.Name&&O.assign((0,a._)`${T}.items`,L)}function Q(O,T,q,L){const{gen:H,schema:Y,data:se,allErrors:pe,opts:ce,self:ue}=O,{RULES:ae}=ue;if(Y.$ref&&(ce.ignoreKeywordsWithRef||!(0,s.schemaHasRulesButRef)(Y,ae))){H.block(()=>K(O,"$ref",ae.all.$ref.definition));return}ce.jtd||D(O,T),H.block(()=>{for(const he of ae.rules)we(he);we(ae.post)});function we(he){(0,c.shouldUseGroup)(Y,he)&&(he.type?(H.if((0,r.checkDataType)(he.type,se,ce.strictNumbers)),X(O,he),T.length===1&&T[0]===he.type&&q&&(H.else(),(0,r.reportTypeError)(O)),H.endIf()):X(O,he),pe||H.if((0,a._)`${i.default.errors} === ${L||0}`))}}function X(O,T){const{gen:q,schema:L,opts:{useDefaults:H}}=O;H&&(0,u.assignDefaults)(O,T.type),q.block(()=>{for(const Y of T.rules)(0,c.shouldUseRule)(L,Y)&&K(O,Y.keyword,Y.definition,T.type)})}function D(O,T){O.schemaEnv.meta||!O.opts.strictTypes||(U(O,T),O.opts.allowUnionTypes||C(O,T),R(O,O.dataTypes))}function U(O,T){if(T.length){if(!O.dataTypes.length){O.dataTypes=T;return}T.forEach(q=>{N(O.dataTypes,q)||S(O,`type "${q}" not allowed by context "${O.dataTypes.join(",")}"`)}),f(O,T)}}function C(O,T){T.length>1&&!(T.length===2&&T.includes("null"))&&S(O,"use allowUnionTypes to allow union type keyword")}function R(O,T){const q=O.self.RULES.all;for(const L in q){const H=q[L];if(typeof H=="object"&&(0,c.shouldUseRule)(O.schema,H)){const{type:Y}=H.definition;Y.length&&!Y.some(se=>j(T,se))&&S(O,`missing type "${Y.join(",")}" for keyword "${L}"`)}}}function j(O,T){return O.includes(T)||T==="number"&&O.includes("integer")}function N(O,T){return O.includes(T)||T==="integer"&&O.includes("number")}function f(O,T){const q=[];for(const L of O.dataTypes)N(T,L)?q.push(L):T.includes("integer")&&L==="number"&&q.push("integer");O.dataTypes=q}function S(O,T){const q=O.schemaEnv.baseId+O.errSchemaPath;T+=` at "${q}" (strictTypes)`,(0,s.checkStrictMode)(O,T,O.opts.strictTypes)}class k{constructor(T,q,L){if((0,n.validateKeywordUsage)(T,q,L),this.gen=T.gen,this.allErrors=T.allErrors,this.keyword=L,this.data=T.data,this.schema=T.schema[L],this.$data=q.$data&&T.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,s.schemaRefOrVal)(T,this.schema,L,this.$data),this.schemaType=q.schemaType,this.parentSchema=T.schema,this.params={},this.it=T,this.def=q,this.$data)this.schemaCode=T.gen.const("vSchema",Z(this.$data,T));else if(this.schemaCode=this.schemaValue,!(0,n.validSchemaType)(this.schema,q.schemaType,q.allowUndefined))throw new Error(`${L} value must be ${JSON.stringify(q.schemaType)}`);("code"in q?q.trackErrors:q.errors!==!1)&&(this.errsCount=T.gen.const("_errs",i.default.errors))}result(T,q,L){this.failResult((0,a.not)(T),q,L)}failResult(T,q,L){this.gen.if(T),L?L():this.error(),q?(this.gen.else(),q(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(T,q){this.failResult((0,a.not)(T),void 0,q)}fail(T){if(T===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(T),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(T){if(!this.$data)return this.fail(T);const{schemaCode:q}=this;this.fail((0,a._)`${q} !== undefined && (${(0,a.or)(this.invalid$data(),T)})`)}error(T,q,L){if(q){this.setParams(q),this._error(T,L),this.setParams({});return}this._error(T,L)}_error(T,q){(T?$.reportExtraError:$.reportError)(this,this.def.error,q)}$dataError(){(0,$.reportError)(this,this.def.$dataError||$.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,$.resetErrorsCount)(this.gen,this.errsCount)}ok(T){this.allErrors||this.gen.if(T)}setParams(T,q){q?Object.assign(this.params,T):this.params=T}block$data(T,q,L=a.nil){this.gen.block(()=>{this.check$data(T,L),q()})}check$data(T=a.nil,q=a.nil){if(!this.$data)return;const{gen:L,schemaCode:H,schemaType:Y,def:se}=this;L.if((0,a.or)((0,a._)`${H} === undefined`,q)),T!==a.nil&&L.assign(T,!0),(Y.length||se.validateSchema)&&(L.elseIf(this.invalid$data()),this.$dataError(),T!==a.nil&&L.assign(T,!1)),L.else()}invalid$data(){const{gen:T,schemaCode:q,schemaType:L,def:H,it:Y}=this;return(0,a.or)(se(),pe());function se(){if(L.length){if(!(q instanceof a.Name))throw new Error("ajv implementation error");const ce=Array.isArray(L)?L:[L];return(0,a._)`${(0,r.checkDataTypes)(ce,q,Y.opts.strictNumbers,r.DataType.Wrong)}`}return a.nil}function pe(){if(H.validateSchema){const ce=T.scopeValue("validate$data",{ref:H.validateSchema});return(0,a._)`!${ce}(${q})`}return a.nil}}subschema(T,q){const L=(0,l.getSubschema)(this.it,T);(0,l.extendSubschemaData)(L,this.it,T),(0,l.extendSubschemaMode)(L,T);const H={...this.it,...L,items:void 0,props:void 0};return p(H,q),H}mergeEvaluated(T,q){const{it:L,gen:H}=this;L.opts.unevaluated&&(L.props!==!0&&T.props!==void 0&&(L.props=s.mergeEvaluated.props(H,T.props,L.props,q)),L.items!==!0&&T.items!==void 0&&(L.items=s.mergeEvaluated.items(H,T.items,L.items,q)))}mergeValidEvaluated(T,q){const{it:L,gen:H}=this;if(L.opts.unevaluated&&(L.props!==!0||L.items!==!0))return H.if(q,()=>this.mergeEvaluated(T,a.Name)),!0}}Le.KeywordCxt=k;function K(O,T,q,L){const H=new k(O,q,T);"code"in q?q.code(H,L):H.$data&&q.validate?(0,n.funcKeywordCode)(H,q):"macro"in q?(0,n.macroKeywordCode)(H,q):(q.compile||q.validate)&&(0,n.funcKeywordCode)(H,q)}const G=/^\/(?:[^~]|~0|~1)*$/,W=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Z(O,{dataLevel:T,dataNames:q,dataPathArr:L}){let H,Y;if(O==="")return i.default.rootData;if(O[0]==="/"){if(!G.test(O))throw new Error(`Invalid JSON-pointer: ${O}`);H=O,Y=i.default.rootData}else{const ue=W.exec(O);if(!ue)throw new Error(`Invalid JSON-pointer: ${O}`);const ae=+ue[1];if(H=ue[2],H==="#"){if(ae>=T)throw new Error(ce("property/index",ae));return L[T-ae]}if(ae>T)throw new Error(ce("data",ae));if(Y=q[T-ae],!H)return Y}let se=Y;const pe=H.split("/");for(const ue of pe)ue&&(Y=(0,a._)`${Y}${(0,a.getProperty)((0,s.unescapeJsonPointer)(ue))}`,se=(0,a._)`${se} && ${Y}`);return se;function ce(ue,ae){return`Cannot access ${ue} ${ae} levels up, current level is ${T}`}}return Le.getData=Z,Le}var Sr={},io;function xs(){if(io)return Sr;io=1,Object.defineProperty(Sr,"__esModule",{value:!0});class e extends Error{constructor(c){super("validation failed"),this.errors=c,this.ajv=this.validation=!0}}return Sr.default=e,Sr}var Pr={},oo;function bn(){if(oo)return Pr;oo=1,Object.defineProperty(Pr,"__esModule",{value:!0});const e=wn();class t extends Error{constructor(r,u,n,l){super(l||`can't resolve reference ${n} from id ${u}`),this.missingRef=(0,e.resolveUrl)(r,u,n),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(r,this.missingRef))}}return Pr.default=t,Pr}var be={},co;function Ws(){if(co)return be;co=1,Object.defineProperty(be,"__esModule",{value:!0}),be.resolveSchema=be.getCompilingSchema=be.resolveRef=be.compileSchema=be.SchemaEnv=void 0;const e=re(),t=xs(),c=Be(),r=wn(),u=oe(),n=En();class l{constructor(y){var o;this.refs={},this.dynamicAnchors={};let p;typeof y.schema=="object"&&(p=y.schema),this.schema=y.schema,this.schemaId=y.schemaId,this.root=y.root||this,this.baseId=(o=y.baseId)!==null&&o!==void 0?o:(0,r.normalizeId)(p?.[y.schemaId||"$id"]),this.schemaPath=y.schemaPath,this.localRefs=y.localRefs,this.meta=y.meta,this.$async=p?.$async,this.refs={}}}be.SchemaEnv=l;function a(h){const y=s.call(this,h);if(y)return y;const o=(0,r.getFullPath)(this.opts.uriResolver,h.root.baseId),{es5:p,lines:w}=this.opts.code,{ownProperties:m}=this.opts,v=new e.CodeGen(this.scope,{es5:p,lines:w,ownProperties:m});let P;h.$async&&(P=v.scopeValue("Error",{ref:t.default,code:(0,e._)`require("ajv/dist/runtime/validation_error").default`}));const I=v.scopeName("validate");h.validateName=I;const A={gen:v,allErrors:this.opts.allErrors,data:c.default.data,parentData:c.default.parentData,parentDataProperty:c.default.parentDataProperty,dataNames:[c.default.data],dataPathArr:[e.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:v.scopeValue("schema",this.opts.code.source===!0?{ref:h.schema,code:(0,e.stringify)(h.schema)}:{ref:h.schema}),validateName:I,ValidationError:P,schema:h.schema,schemaEnv:h,rootId:o,baseId:h.baseId||o,schemaPath:e.nil,errSchemaPath:h.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,e._)`""`,opts:this.opts,self:this};let M;try{this._compilations.add(h),(0,n.validateFunctionCode)(A),v.optimize(this.opts.code.optimize);const F=v.toString();M=`${v.scopeRefs(c.default.scope)}return ${F}`,this.opts.code.process&&(M=this.opts.code.process(M,h));const J=new Function(`${c.default.self}`,`${c.default.scope}`,M)(this,this.scope.get());if(this.scope.value(I,{ref:J}),J.errors=null,J.schema=h.schema,J.schemaEnv=h,h.$async&&(J.$async=!0),this.opts.code.source===!0&&(J.source={validateName:I,validateCode:F,scopeValues:v._values}),this.opts.unevaluated){const{props:V,items:z}=A;J.evaluated={props:V instanceof e.Name?void 0:V,items:z instanceof e.Name?void 0:z,dynamicProps:V instanceof e.Name,dynamicItems:z instanceof e.Name},J.source&&(J.source.evaluated=(0,e.stringify)(J.evaluated))}return h.validate=J,h}catch(F){throw delete h.validate,delete h.validateName,M&&this.logger.error("Error compiling schema, function code:",M),F}finally{this._compilations.delete(h)}}be.compileSchema=a;function i(h,y,o){var p;o=(0,r.resolveUrl)(this.opts.uriResolver,y,o);const w=h.refs[o];if(w)return w;let m=_.call(this,h,o);if(m===void 0){const v=(p=h.localRefs)===null||p===void 0?void 0:p[o],{schemaId:P}=this.opts;v&&(m=new l({schema:v,schemaId:P,root:h,baseId:y}))}if(m!==void 0)return h.refs[o]=d.call(this,m)}be.resolveRef=i;function d(h){return(0,r.inlineRef)(h.schema,this.opts.inlineRefs)?h.schema:h.validate?h:a.call(this,h)}function s(h){for(const y of this._compilations)if($(y,h))return y}be.getCompilingSchema=s;function $(h,y){return h.schema===y.schema&&h.root===y.root&&h.baseId===y.baseId}function _(h,y){let o;for(;typeof(o=this.refs[y])=="string";)y=o;return o||this.schemas[y]||g.call(this,h,y)}function g(h,y){const o=this.opts.uriResolver.parse(y),p=(0,r._getFullPath)(this.opts.uriResolver,o);let w=(0,r.getFullPath)(this.opts.uriResolver,h.baseId,void 0);if(Object.keys(h.schema).length>0&&p===w)return E.call(this,o,h);const m=(0,r.normalizeId)(p),v=this.refs[m]||this.schemas[m];if(typeof v=="string"){const P=g.call(this,h,v);return typeof P?.schema!="object"?void 0:E.call(this,o,P)}if(typeof v?.schema=="object"){if(v.validate||a.call(this,v),m===(0,r.normalizeId)(y)){const{schema:P}=v,{schemaId:I}=this.opts,A=P[I];return A&&(w=(0,r.resolveUrl)(this.opts.uriResolver,w,A)),new l({schema:P,schemaId:I,root:h,baseId:w})}return E.call(this,o,v)}}be.resolveSchema=g;const b=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function E(h,{baseId:y,schema:o,root:p}){var w;if(((w=h.fragment)===null||w===void 0?void 0:w[0])!=="/")return;for(const P of h.fragment.slice(1).split("/")){if(typeof o=="boolean")return;const I=o[(0,u.unescapeFragment)(P)];if(I===void 0)return;o=I;const A=typeof o=="object"&&o[this.opts.schemaId];!b.has(P)&&A&&(y=(0,r.resolveUrl)(this.opts.uriResolver,y,A))}let m;if(typeof o!="boolean"&&o.$ref&&!(0,u.schemaHasRulesButRef)(o,this.RULES)){const P=(0,r.resolveUrl)(this.opts.uriResolver,y,o.$ref);m=g.call(this,p,P)}const{schemaId:v}=this.opts;if(m=m||new l({schema:o,schemaId:v,root:p,baseId:y}),m.schema!==m.root.schema)return m}return be}const dd="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",fd="Meta-schema for $data reference (JSON AnySchema extension proposal)",hd="object",pd=["$data"],md={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},yd=!1,vd={$id:dd,description:fd,type:hd,required:pd,properties:md,additionalProperties:yd};var Rr={},uo;function gd(){if(uo)return Rr;uo=1,Object.defineProperty(Rr,"__esModule",{value:!0});const e=ou();return e.code='require("ajv/dist/runtime/uri").default',Rr.default=e,Rr}var lo;function _d(){return lo||(lo=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=En();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var c=re();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});const r=xs(),u=bn(),n=du(),l=Ws(),a=re(),i=wn(),d=pn(),s=oe(),$=vd,_=gd(),g=(C,R)=>new RegExp(C,R);g.code="new RegExp";const b=["removeAdditional","useDefaults","coerceTypes"],E=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),h={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},y={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},o=200;function p(C){var R,j,N,f,S,k,K,G,W,Z,O,T,q,L,H,Y,se,pe,ce,ue,ae,we,he,Je,Xe;const Se=C.strict,Ye=(R=C.code)===null||R===void 0?void 0:R.optimize,dt=Ye===!0||Ye===void 0?1:Ye||0,ft=(N=(j=C.code)===null||j===void 0?void 0:j.regExp)!==null&&N!==void 0?N:g,Tn=(f=C.uriResolver)!==null&&f!==void 0?f:_.default;return{strictSchema:(k=(S=C.strictSchema)!==null&&S!==void 0?S:Se)!==null&&k!==void 0?k:!0,strictNumbers:(G=(K=C.strictNumbers)!==null&&K!==void 0?K:Se)!==null&&G!==void 0?G:!0,strictTypes:(Z=(W=C.strictTypes)!==null&&W!==void 0?W:Se)!==null&&Z!==void 0?Z:"log",strictTuples:(T=(O=C.strictTuples)!==null&&O!==void 0?O:Se)!==null&&T!==void 0?T:"log",strictRequired:(L=(q=C.strictRequired)!==null&&q!==void 0?q:Se)!==null&&L!==void 0?L:!1,code:C.code?{...C.code,optimize:dt,regExp:ft}:{optimize:dt,regExp:ft},loopRequired:(H=C.loopRequired)!==null&&H!==void 0?H:o,loopEnum:(Y=C.loopEnum)!==null&&Y!==void 0?Y:o,meta:(se=C.meta)!==null&&se!==void 0?se:!0,messages:(pe=C.messages)!==null&&pe!==void 0?pe:!0,inlineRefs:(ce=C.inlineRefs)!==null&&ce!==void 0?ce:!0,schemaId:(ue=C.schemaId)!==null&&ue!==void 0?ue:"$id",addUsedSchema:(ae=C.addUsedSchema)!==null&&ae!==void 0?ae:!0,validateSchema:(we=C.validateSchema)!==null&&we!==void 0?we:!0,validateFormats:(he=C.validateFormats)!==null&&he!==void 0?he:!0,unicodeRegExp:(Je=C.unicodeRegExp)!==null&&Je!==void 0?Je:!0,int32range:(Xe=C.int32range)!==null&&Xe!==void 0?Xe:!0,uriResolver:Tn}}class w{constructor(R={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,R=this.opts={...R,...p(R)};const{es5:j,lines:N}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:E,es5:j,lines:N}),this.logger=B(R.logger);const f=R.validateFormats;R.validateFormats=!1,this.RULES=(0,n.getRules)(),m.call(this,h,R,"NOT SUPPORTED"),m.call(this,y,R,"DEPRECATED","warn"),this._metaOpts=M.call(this),R.formats&&I.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),R.keywords&&A.call(this,R.keywords),typeof R.meta=="object"&&this.addMetaSchema(R.meta),P.call(this),R.validateFormats=f}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:R,meta:j,schemaId:N}=this.opts;let f=$;N==="id"&&(f={...$},f.id=f.$id,delete f.$id),j&&R&&this.addMetaSchema(f,f[N],!1)}defaultMeta(){const{meta:R,schemaId:j}=this.opts;return this.opts.defaultMeta=typeof R=="object"?R[j]||R:void 0}validate(R,j){let N;if(typeof R=="string"){if(N=this.getSchema(R),!N)throw new Error(`no schema with key or ref "${R}"`)}else N=this.compile(R);const f=N(j);return"$async"in N||(this.errors=N.errors),f}compile(R,j){const N=this._addSchema(R,j);return N.validate||this._compileSchemaEnv(N)}compileAsync(R,j){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:N}=this.opts;return f.call(this,R,j);async function f(Z,O){await S.call(this,Z.$schema);const T=this._addSchema(Z,O);return T.validate||k.call(this,T)}async function S(Z){Z&&!this.getSchema(Z)&&await f.call(this,{$ref:Z},!0)}async function k(Z){try{return this._compileSchemaEnv(Z)}catch(O){if(!(O instanceof u.default))throw O;return K.call(this,O),await G.call(this,O.missingSchema),k.call(this,Z)}}function K({missingSchema:Z,missingRef:O}){if(this.refs[Z])throw new Error(`AnySchema ${Z} is loaded but ${O} cannot be resolved`)}async function G(Z){const O=await W.call(this,Z);this.refs[Z]||await S.call(this,O.$schema),this.refs[Z]||this.addSchema(O,Z,j)}async function W(Z){const O=this._loading[Z];if(O)return O;try{return await(this._loading[Z]=N(Z))}finally{delete this._loading[Z]}}}addSchema(R,j,N,f=this.opts.validateSchema){if(Array.isArray(R)){for(const k of R)this.addSchema(k,void 0,N,f);return this}let S;if(typeof R=="object"){const{schemaId:k}=this.opts;if(S=R[k],S!==void 0&&typeof S!="string")throw new Error(`schema ${k} must be string`)}return j=(0,i.normalizeId)(j||S),this._checkUnique(j),this.schemas[j]=this._addSchema(R,N,j,f,!0),this}addMetaSchema(R,j,N=this.opts.validateSchema){return this.addSchema(R,j,!0,N),this}validateSchema(R,j){if(typeof R=="boolean")return!0;let N;if(N=R.$schema,N!==void 0&&typeof N!="string")throw new Error("$schema must be a string");if(N=N||this.opts.defaultMeta||this.defaultMeta(),!N)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const f=this.validate(N,R);if(!f&&j){const S="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(S);else throw new Error(S)}return f}getSchema(R){let j;for(;typeof(j=v.call(this,R))=="string";)R=j;if(j===void 0){const{schemaId:N}=this.opts,f=new l.SchemaEnv({schema:{},schemaId:N});if(j=l.resolveSchema.call(this,f,R),!j)return;this.refs[R]=j}return j.validate||this._compileSchemaEnv(j)}removeSchema(R){if(R instanceof RegExp)return this._removeAllSchemas(this.schemas,R),this._removeAllSchemas(this.refs,R),this;switch(typeof R){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const j=v.call(this,R);return typeof j=="object"&&this._cache.delete(j.schema),delete this.schemas[R],delete this.refs[R],this}case"object":{const j=R;this._cache.delete(j);let N=R[this.opts.schemaId];return N&&(N=(0,i.normalizeId)(N),delete this.schemas[N],delete this.refs[N]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(R){for(const j of R)this.addKeyword(j);return this}addKeyword(R,j){let N;if(typeof R=="string")N=R,typeof j=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),j.keyword=N);else if(typeof R=="object"&&j===void 0){if(j=R,N=j.keyword,Array.isArray(N)&&!N.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(V.call(this,N,j),!j)return(0,s.eachItem)(N,S=>z.call(this,S)),this;X.call(this,j);const f={...j,type:(0,d.getJSONTypes)(j.type),schemaType:(0,d.getJSONTypes)(j.schemaType)};return(0,s.eachItem)(N,f.type.length===0?S=>z.call(this,S,f):S=>f.type.forEach(k=>z.call(this,S,f,k))),this}getKeyword(R){const j=this.RULES.all[R];return typeof j=="object"?j.definition:!!j}removeKeyword(R){const{RULES:j}=this;delete j.keywords[R],delete j.all[R];for(const N of j.rules){const f=N.rules.findIndex(S=>S.keyword===R);f>=0&&N.rules.splice(f,1)}return this}addFormat(R,j){return typeof j=="string"&&(j=new RegExp(j)),this.formats[R]=j,this}errorsText(R=this.errors,{separator:j=", ",dataVar:N="data"}={}){return!R||R.length===0?"No errors":R.map(f=>`${N}${f.instancePath} ${f.message}`).reduce((f,S)=>f+j+S)}$dataMetaSchema(R,j){const N=this.RULES.all;R=JSON.parse(JSON.stringify(R));for(const f of j){const S=f.split("/").slice(1);let k=R;for(const K of S)k=k[K];for(const K in N){const G=N[K];if(typeof G!="object")continue;const{$data:W}=G.definition,Z=k[K];W&&Z&&(k[K]=U(Z))}}return R}_removeAllSchemas(R,j){for(const N in R){const f=R[N];(!j||j.test(N))&&(typeof f=="string"?delete R[N]:f&&!f.meta&&(this._cache.delete(f.schema),delete R[N]))}}_addSchema(R,j,N,f=this.opts.validateSchema,S=this.opts.addUsedSchema){let k;const{schemaId:K}=this.opts;if(typeof R=="object")k=R[K];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof R!="boolean")throw new Error("schema must be object or boolean")}let G=this._cache.get(R);if(G!==void 0)return G;N=(0,i.normalizeId)(k||N);const W=i.getSchemaRefs.call(this,R,N);return G=new l.SchemaEnv({schema:R,schemaId:K,meta:j,baseId:N,localRefs:W}),this._cache.set(G.schema,G),S&&!N.startsWith("#")&&(N&&this._checkUnique(N),this.refs[N]=G),f&&this.validateSchema(R,!0),G}_checkUnique(R){if(this.schemas[R]||this.refs[R])throw new Error(`schema with key or id "${R}" already exists`)}_compileSchemaEnv(R){if(R.meta?this._compileMetaSchema(R):l.compileSchema.call(this,R),!R.validate)throw new Error("ajv implementation error");return R.validate}_compileMetaSchema(R){const j=this.opts;this.opts=this._metaOpts;try{l.compileSchema.call(this,R)}finally{this.opts=j}}}w.ValidationError=r.default,w.MissingRefError=u.default,e.default=w;function m(C,R,j,N="error"){for(const f in C){const S=f;S in R&&this.logger[N](`${j}: option ${f}. ${C[S]}`)}}function v(C){return C=(0,i.normalizeId)(C),this.schemas[C]||this.refs[C]}function P(){const C=this.opts.schemas;if(C)if(Array.isArray(C))this.addSchema(C);else for(const R in C)this.addSchema(C[R],R)}function I(){for(const C in this.opts.formats){const R=this.opts.formats[C];R&&this.addFormat(C,R)}}function A(C){if(Array.isArray(C)){this.addVocabulary(C);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const R in C){const j=C[R];j.keyword||(j.keyword=R),this.addKeyword(j)}}function M(){const C={...this.opts};for(const R of b)delete C[R];return C}const F={log(){},warn(){},error(){}};function B(C){if(C===!1)return F;if(C===void 0)return console;if(C.log&&C.warn&&C.error)return C;throw new Error("logger must implement log, warn and error methods")}const J=/^[a-z_$][a-z0-9_$:-]*$/i;function V(C,R){const{RULES:j}=this;if((0,s.eachItem)(C,N=>{if(j.keywords[N])throw new Error(`Keyword ${N} is already defined`);if(!J.test(N))throw new Error(`Keyword ${N} has invalid name`)}),!!R&&R.$data&&!("code"in R||"validate"in R))throw new Error('$data keyword must have "code" or "validate" function')}function z(C,R,j){var N;const f=R?.post;if(j&&f)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:S}=this;let k=f?S.post:S.rules.find(({type:G})=>G===j);if(k||(k={type:j,rules:[]},S.rules.push(k)),S.keywords[C]=!0,!R)return;const K={keyword:C,definition:{...R,type:(0,d.getJSONTypes)(R.type),schemaType:(0,d.getJSONTypes)(R.schemaType)}};R.before?Q.call(this,k,K,R.before):k.rules.push(K),S.all[C]=K,(N=R.implements)===null||N===void 0||N.forEach(G=>this.addKeyword(G))}function Q(C,R,j){const N=C.rules.findIndex(f=>f.keyword===j);N>=0?C.rules.splice(N,0,R):(C.rules.push(R),this.logger.warn(`rule ${j} is not defined`))}function X(C){let{metaSchema:R}=C;R!==void 0&&(C.$data&&this.opts.$data&&(R=U(R)),C.validateSchema=this.compile(R,!0))}const D={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function U(C){return{anyOf:[C,D]}}})(Hn)),Hn}var Or={},Nr={},Tr={},fo;function $d(){if(fo)return Tr;fo=1,Object.defineProperty(Tr,"__esModule",{value:!0});const e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return Tr.default=e,Tr}var ze={},ho;function wd(){if(ho)return ze;ho=1,Object.defineProperty(ze,"__esModule",{value:!0}),ze.callRef=ze.getValidate=void 0;const e=bn(),t=Ce(),c=re(),r=Be(),u=Ws(),n=oe(),l={keyword:"$ref",schemaType:"string",code(d){const{gen:s,schema:$,it:_}=d,{baseId:g,schemaEnv:b,validateName:E,opts:h,self:y}=_,{root:o}=b;if(($==="#"||$==="#/")&&g===o.baseId)return w();const p=u.resolveRef.call(y,o,g,$);if(p===void 0)throw new e.default(_.opts.uriResolver,g,$);if(p instanceof u.SchemaEnv)return m(p);return v(p);function w(){if(b===o)return i(d,E,b,b.$async);const P=s.scopeValue("root",{ref:o});return i(d,(0,c._)`${P}.validate`,o,o.$async)}function m(P){const I=a(d,P);i(d,I,P,P.$async)}function v(P){const I=s.scopeValue("schema",h.code.source===!0?{ref:P,code:(0,c.stringify)(P)}:{ref:P}),A=s.name("valid"),M=d.subschema({schema:P,dataTypes:[],schemaPath:c.nil,topSchemaRef:I,errSchemaPath:$},A);d.mergeEvaluated(M),d.ok(A)}}};function a(d,s){const{gen:$}=d;return s.validate?$.scopeValue("validate",{ref:s.validate}):(0,c._)`${$.scopeValue("wrapper",{ref:s})}.validate`}ze.getValidate=a;function i(d,s,$,_){const{gen:g,it:b}=d,{allErrors:E,schemaEnv:h,opts:y}=b,o=y.passContext?r.default.this:c.nil;_?p():w();function p(){if(!h.$async)throw new Error("async schema referenced by sync schema");const P=g.let("valid");g.try(()=>{g.code((0,c._)`await ${(0,t.callValidateCode)(d,s,o)}`),v(s),E||g.assign(P,!0)},I=>{g.if((0,c._)`!(${I} instanceof ${b.ValidationError})`,()=>g.throw(I)),m(I),E||g.assign(P,!1)}),d.ok(P)}function w(){d.result((0,t.callValidateCode)(d,s,o),()=>v(s),()=>m(s))}function m(P){const I=(0,c._)`${P}.errors`;g.assign(r.default.vErrors,(0,c._)`${r.default.vErrors} === null ? ${I} : ${r.default.vErrors}.concat(${I})`),g.assign(r.default.errors,(0,c._)`${r.default.vErrors}.length`)}function v(P){var I;if(!b.opts.unevaluated)return;const A=(I=$?.validate)===null||I===void 0?void 0:I.evaluated;if(b.props!==!0)if(A&&!A.dynamicProps)A.props!==void 0&&(b.props=n.mergeEvaluated.props(g,A.props,b.props));else{const M=g.var("props",(0,c._)`${P}.evaluated.props`);b.props=n.mergeEvaluated.props(g,M,b.props,c.Name)}if(b.items!==!0)if(A&&!A.dynamicItems)A.items!==void 0&&(b.items=n.mergeEvaluated.items(g,A.items,b.items));else{const M=g.var("items",(0,c._)`${P}.evaluated.items`);b.items=n.mergeEvaluated.items(g,M,b.items,c.Name)}}}return ze.callRef=i,ze.default=l,ze}var po;function Ed(){if(po)return Nr;po=1,Object.defineProperty(Nr,"__esModule",{value:!0});const e=$d(),t=wd(),c=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,t.default];return Nr.default=c,Nr}var Ir={},Cr={},mo;function bd(){if(mo)return Cr;mo=1,Object.defineProperty(Cr,"__esModule",{value:!0});const e=re(),t=e.operators,c={maximum:{okStr:"<=",ok:t.LTE,fail:t.GT},minimum:{okStr:">=",ok:t.GTE,fail:t.LT},exclusiveMaximum:{okStr:"<",ok:t.LT,fail:t.GTE},exclusiveMinimum:{okStr:">",ok:t.GT,fail:t.LTE}},r={message:({keyword:n,schemaCode:l})=>(0,e.str)`must be ${c[n].okStr} ${l}`,params:({keyword:n,schemaCode:l})=>(0,e._)`{comparison: ${c[n].okStr}, limit: ${l}}`},u={keyword:Object.keys(c),type:"number",schemaType:"number",$data:!0,error:r,code(n){const{keyword:l,data:a,schemaCode:i}=n;n.fail$data((0,e._)`${a} ${c[l].fail} ${i} || isNaN(${a})`)}};return Cr.default=u,Cr}var jr={},yo;function Sd(){if(yo)return jr;yo=1,Object.defineProperty(jr,"__esModule",{value:!0});const e=re(),c={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:r})=>(0,e.str)`must be multiple of ${r}`,params:({schemaCode:r})=>(0,e._)`{multipleOf: ${r}}`},code(r){const{gen:u,data:n,schemaCode:l,it:a}=r,i=a.opts.multipleOfPrecision,d=u.let("res"),s=i?(0,e._)`Math.abs(Math.round(${d}) - ${d}) > 1e-${i}`:(0,e._)`${d} !== parseInt(${d})`;r.fail$data((0,e._)`(${l} === 0 || (${d} = ${n}/${l}, ${s}))`)}};return jr.default=c,jr}var kr={},Ar={},vo;function Pd(){if(vo)return Ar;vo=1,Object.defineProperty(Ar,"__esModule",{value:!0});function e(t){const c=t.length;let r=0,u=0,n;for(;u<c;)r++,n=t.charCodeAt(u++),n>=55296&&n<=56319&&u<c&&(n=t.charCodeAt(u),(n&64512)===56320&&u++);return r}return Ar.default=e,e.code='require("ajv/dist/runtime/ucs2length").default',Ar}var go;function Rd(){if(go)return kr;go=1,Object.defineProperty(kr,"__esModule",{value:!0});const e=re(),t=oe(),c=Pd(),u={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:n,schemaCode:l}){const a=n==="maxLength"?"more":"fewer";return(0,e.str)`must NOT have ${a} than ${l} characters`},params:({schemaCode:n})=>(0,e._)`{limit: ${n}}`},code(n){const{keyword:l,data:a,schemaCode:i,it:d}=n,s=l==="maxLength"?e.operators.GT:e.operators.LT,$=d.opts.unicode===!1?(0,e._)`${a}.length`:(0,e._)`${(0,t.useFunc)(n.gen,c.default)}(${a})`;n.fail$data((0,e._)`${$} ${s} ${i}`)}};return kr.default=u,kr}var qr={},_o;function Od(){if(_o)return qr;_o=1,Object.defineProperty(qr,"__esModule",{value:!0});const e=Ce(),t=re(),r={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:u})=>(0,t.str)`must match pattern "${u}"`,params:({schemaCode:u})=>(0,t._)`{pattern: ${u}}`},code(u){const{data:n,$data:l,schema:a,schemaCode:i,it:d}=u,s=d.opts.unicodeRegExp?"u":"",$=l?(0,t._)`(new RegExp(${i}, ${s}))`:(0,e.usePattern)(u,a);u.fail$data((0,t._)`!${$}.test(${n})`)}};return qr.default=r,qr}var Dr={},$o;function Nd(){if($o)return Dr;$o=1,Object.defineProperty(Dr,"__esModule",{value:!0});const e=re(),c={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:u}){const n=r==="maxProperties"?"more":"fewer";return(0,e.str)`must NOT have ${n} than ${u} properties`},params:({schemaCode:r})=>(0,e._)`{limit: ${r}}`},code(r){const{keyword:u,data:n,schemaCode:l}=r,a=u==="maxProperties"?e.operators.GT:e.operators.LT;r.fail$data((0,e._)`Object.keys(${n}).length ${a} ${l}`)}};return Dr.default=c,Dr}var Mr={},wo;function Td(){if(wo)return Mr;wo=1,Object.defineProperty(Mr,"__esModule",{value:!0});const e=Ce(),t=re(),c=oe(),u={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:n}})=>(0,t.str)`must have required property '${n}'`,params:({params:{missingProperty:n}})=>(0,t._)`{missingProperty: ${n}}`},code(n){const{gen:l,schema:a,schemaCode:i,data:d,$data:s,it:$}=n,{opts:_}=$;if(!s&&a.length===0)return;const g=a.length>=_.loopRequired;if($.allErrors?b():E(),_.strictRequired){const o=n.parentSchema.properties,{definedProperties:p}=n.it;for(const w of a)if(o?.[w]===void 0&&!p.has(w)){const m=$.schemaEnv.baseId+$.errSchemaPath,v=`required property "${w}" is not defined at "${m}" (strictRequired)`;(0,c.checkStrictMode)($,v,$.opts.strictRequired)}}function b(){if(g||s)n.block$data(t.nil,h);else for(const o of a)(0,e.checkReportMissingProp)(n,o)}function E(){const o=l.let("missing");if(g||s){const p=l.let("valid",!0);n.block$data(p,()=>y(o,p)),n.ok(p)}else l.if((0,e.checkMissingProp)(n,a,o)),(0,e.reportMissingProp)(n,o),l.else()}function h(){l.forOf("prop",i,o=>{n.setParams({missingProperty:o}),l.if((0,e.noPropertyInData)(l,d,o,_.ownProperties),()=>n.error())})}function y(o,p){n.setParams({missingProperty:o}),l.forOf(o,i,()=>{l.assign(p,(0,e.propertyInData)(l,d,o,_.ownProperties)),l.if((0,t.not)(p),()=>{n.error(),l.break()})},t.nil)}}};return Mr.default=u,Mr}var Lr={},Eo;function Id(){if(Eo)return Lr;Eo=1,Object.defineProperty(Lr,"__esModule",{value:!0});const e=re(),c={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:u}){const n=r==="maxItems"?"more":"fewer";return(0,e.str)`must NOT have ${n} than ${u} items`},params:({schemaCode:r})=>(0,e._)`{limit: ${r}}`},code(r){const{keyword:u,data:n,schemaCode:l}=r,a=u==="maxItems"?e.operators.GT:e.operators.LT;r.fail$data((0,e._)`${n}.length ${a} ${l}`)}};return Lr.default=c,Lr}var Fr={},Vr={},bo;function ea(){if(bo)return Vr;bo=1,Object.defineProperty(Vr,"__esModule",{value:!0});const e=yn();return e.code='require("ajv/dist/runtime/equal").default',Vr.default=e,Vr}var So;function Cd(){if(So)return Fr;So=1,Object.defineProperty(Fr,"__esModule",{value:!0});const e=pn(),t=re(),c=oe(),r=ea(),n={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:l,j:a}})=>(0,t.str)`must NOT have duplicate items (items ## ${a} and ${l} are identical)`,params:({params:{i:l,j:a}})=>(0,t._)`{i: ${l}, j: ${a}}`},code(l){const{gen:a,data:i,$data:d,schema:s,parentSchema:$,schemaCode:_,it:g}=l;if(!d&&!s)return;const b=a.let("valid"),E=$.items?(0,e.getSchemaTypes)($.items):[];l.block$data(b,h,(0,t._)`${_} === false`),l.ok(b);function h(){const w=a.let("i",(0,t._)`${i}.length`),m=a.let("j");l.setParams({i:w,j:m}),a.assign(b,!0),a.if((0,t._)`${w} > 1`,()=>(y()?o:p)(w,m))}function y(){return E.length>0&&!E.some(w=>w==="object"||w==="array")}function o(w,m){const v=a.name("item"),P=(0,e.checkDataTypes)(E,v,g.opts.strictNumbers,e.DataType.Wrong),I=a.const("indices",(0,t._)`{}`);a.for((0,t._)`;${w}--;`,()=>{a.let(v,(0,t._)`${i}[${w}]`),a.if(P,(0,t._)`continue`),E.length>1&&a.if((0,t._)`typeof ${v} == "string"`,(0,t._)`${v} += "_"`),a.if((0,t._)`typeof ${I}[${v}] == "number"`,()=>{a.assign(m,(0,t._)`${I}[${v}]`),l.error(),a.assign(b,!1).break()}).code((0,t._)`${I}[${v}] = ${w}`)})}function p(w,m){const v=(0,c.useFunc)(a,r.default),P=a.name("outer");a.label(P).for((0,t._)`;${w}--;`,()=>a.for((0,t._)`${m} = ${w}; ${m}--;`,()=>a.if((0,t._)`${v}(${i}[${w}], ${i}[${m}])`,()=>{l.error(),a.assign(b,!1).break(P)})))}}};return Fr.default=n,Fr}var Ur={},Po;function jd(){if(Po)return Ur;Po=1,Object.defineProperty(Ur,"__esModule",{value:!0});const e=re(),t=oe(),c=ea(),u={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:n})=>(0,e._)`{allowedValue: ${n}}`},code(n){const{gen:l,data:a,$data:i,schemaCode:d,schema:s}=n;i||s&&typeof s=="object"?n.fail$data((0,e._)`!${(0,t.useFunc)(l,c.default)}(${a}, ${d})`):n.fail((0,e._)`${s} !== ${a}`)}};return Ur.default=u,Ur}var zr={},Ro;function kd(){if(Ro)return zr;Ro=1,Object.defineProperty(zr,"__esModule",{value:!0});const e=re(),t=oe(),c=ea(),u={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:n})=>(0,e._)`{allowedValues: ${n}}`},code(n){const{gen:l,data:a,$data:i,schema:d,schemaCode:s,it:$}=n;if(!i&&d.length===0)throw new Error("enum must have non-empty array");const _=d.length>=$.opts.loopEnum;let g;const b=()=>g??(g=(0,t.useFunc)(l,c.default));let E;if(_||i)E=l.let("valid"),n.block$data(E,h);else{if(!Array.isArray(d))throw new Error("ajv implementation error");const o=l.const("vSchema",s);E=(0,e.or)(...d.map((p,w)=>y(o,w)))}n.pass(E);function h(){l.assign(E,!1),l.forOf("v",s,o=>l.if((0,e._)`${b()}(${a}, ${o})`,()=>l.assign(E,!0).break()))}function y(o,p){const w=d[p];return typeof w=="object"&&w!==null?(0,e._)`${b()}(${a}, ${o}[${p}])`:(0,e._)`${a} === ${w}`}}};return zr.default=u,zr}var Oo;function Ad(){if(Oo)return Ir;Oo=1,Object.defineProperty(Ir,"__esModule",{value:!0});const e=bd(),t=Sd(),c=Rd(),r=Od(),u=Nd(),n=Td(),l=Id(),a=Cd(),i=jd(),d=kd(),s=[e.default,t.default,c.default,r.default,u.default,n.default,l.default,a.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},i.default,d.default];return Ir.default=s,Ir}var Kr={},it={},No;function hu(){if(No)return it;No=1,Object.defineProperty(it,"__esModule",{value:!0}),it.validateAdditionalItems=void 0;const e=re(),t=oe(),r={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:n}})=>(0,e.str)`must NOT have more than ${n} items`,params:({params:{len:n}})=>(0,e._)`{limit: ${n}}`},code(n){const{parentSchema:l,it:a}=n,{items:i}=l;if(!Array.isArray(i)){(0,t.checkStrictMode)(a,'"additionalItems" is ignored when "items" is not an array of schemas');return}u(n,i)}};function u(n,l){const{gen:a,schema:i,data:d,keyword:s,it:$}=n;$.items=!0;const _=a.const("len",(0,e._)`${d}.length`);if(i===!1)n.setParams({len:l.length}),n.pass((0,e._)`${_} <= ${l.length}`);else if(typeof i=="object"&&!(0,t.alwaysValidSchema)($,i)){const b=a.var("valid",(0,e._)`${_} <= ${l.length}`);a.if((0,e.not)(b),()=>g(b)),n.ok(b)}function g(b){a.forRange("i",l.length,_,E=>{n.subschema({keyword:s,dataProp:E,dataPropType:t.Type.Num},b),$.allErrors||a.if((0,e.not)(b),()=>a.break())})}}return it.validateAdditionalItems=u,it.default=r,it}var Gr={},ot={},To;function pu(){if(To)return ot;To=1,Object.defineProperty(ot,"__esModule",{value:!0}),ot.validateTuple=void 0;const e=re(),t=oe(),c=Ce(),r={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(n){const{schema:l,it:a}=n;if(Array.isArray(l))return u(n,"additionalItems",l);a.items=!0,!(0,t.alwaysValidSchema)(a,l)&&n.ok((0,c.validateArray)(n))}};function u(n,l,a=n.schema){const{gen:i,parentSchema:d,data:s,keyword:$,it:_}=n;E(d),_.opts.unevaluated&&a.length&&_.items!==!0&&(_.items=t.mergeEvaluated.items(i,a.length,_.items));const g=i.name("valid"),b=i.const("len",(0,e._)`${s}.length`);a.forEach((h,y)=>{(0,t.alwaysValidSchema)(_,h)||(i.if((0,e._)`${b} > ${y}`,()=>n.subschema({keyword:$,schemaProp:y,dataProp:y},g)),n.ok(g))});function E(h){const{opts:y,errSchemaPath:o}=_,p=a.length,w=p===h.minItems&&(p===h.maxItems||h[l]===!1);if(y.strictTuples&&!w){const m=`"${$}" is ${p}-tuple, but minItems or maxItems/${l} are not specified or different at path "${o}"`;(0,t.checkStrictMode)(_,m,y.strictTuples)}}}return ot.validateTuple=u,ot.default=r,ot}var Io;function qd(){if(Io)return Gr;Io=1,Object.defineProperty(Gr,"__esModule",{value:!0});const e=pu(),t={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:c=>(0,e.validateTuple)(c,"items")};return Gr.default=t,Gr}var Hr={},Co;function Dd(){if(Co)return Hr;Co=1,Object.defineProperty(Hr,"__esModule",{value:!0});const e=re(),t=oe(),c=Ce(),r=hu(),n={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:l}})=>(0,e.str)`must NOT have more than ${l} items`,params:({params:{len:l}})=>(0,e._)`{limit: ${l}}`},code(l){const{schema:a,parentSchema:i,it:d}=l,{prefixItems:s}=i;d.items=!0,!(0,t.alwaysValidSchema)(d,a)&&(s?(0,r.validateAdditionalItems)(l,s):l.ok((0,c.validateArray)(l)))}};return Hr.default=n,Hr}var Br={},jo;function Md(){if(jo)return Br;jo=1,Object.defineProperty(Br,"__esModule",{value:!0});const e=re(),t=oe(),r={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:u,max:n}})=>n===void 0?(0,e.str)`must contain at least ${u} valid item(s)`:(0,e.str)`must contain at least ${u} and no more than ${n} valid item(s)`,params:({params:{min:u,max:n}})=>n===void 0?(0,e._)`{minContains: ${u}}`:(0,e._)`{minContains: ${u}, maxContains: ${n}}`},code(u){const{gen:n,schema:l,parentSchema:a,data:i,it:d}=u;let s,$;const{minContains:_,maxContains:g}=a;d.opts.next?(s=_===void 0?1:_,$=g):s=1;const b=n.const("len",(0,e._)`${i}.length`);if(u.setParams({min:s,max:$}),$===void 0&&s===0){(0,t.checkStrictMode)(d,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if($!==void 0&&s>$){(0,t.checkStrictMode)(d,'"minContains" > "maxContains" is always invalid'),u.fail();return}if((0,t.alwaysValidSchema)(d,l)){let p=(0,e._)`${b} >= ${s}`;$!==void 0&&(p=(0,e._)`${p} && ${b} <= ${$}`),u.pass(p);return}d.items=!0;const E=n.name("valid");$===void 0&&s===1?y(E,()=>n.if(E,()=>n.break())):s===0?(n.let(E,!0),$!==void 0&&n.if((0,e._)`${i}.length > 0`,h)):(n.let(E,!1),h()),u.result(E,()=>u.reset());function h(){const p=n.name("_valid"),w=n.let("count",0);y(p,()=>n.if(p,()=>o(w)))}function y(p,w){n.forRange("i",0,b,m=>{u.subschema({keyword:"contains",dataProp:m,dataPropType:t.Type.Num,compositeRule:!0},p),w()})}function o(p){n.code((0,e._)`${p}++`),$===void 0?n.if((0,e._)`${p} >= ${s}`,()=>n.assign(E,!0).break()):(n.if((0,e._)`${p} > ${$}`,()=>n.assign(E,!1).break()),s===1?n.assign(E,!0):n.if((0,e._)`${p} >= ${s}`,()=>n.assign(E,!0)))}}};return Br.default=r,Br}var Zn={},ko;function Ld(){return ko||(ko=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=re(),c=oe(),r=Ce();e.error={message:({params:{property:i,depsCount:d,deps:s}})=>{const $=d===1?"property":"properties";return(0,t.str)`must have ${$} ${s} when property ${i} is present`},params:({params:{property:i,depsCount:d,deps:s,missingProperty:$}})=>(0,t._)`{property: ${i},
    missingProperty: ${$},
    depsCount: ${d},
    deps: ${s}}`};const u={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(i){const[d,s]=n(i);l(i,d),a(i,s)}};function n({schema:i}){const d={},s={};for(const $ in i){if($==="__proto__")continue;const _=Array.isArray(i[$])?d:s;_[$]=i[$]}return[d,s]}function l(i,d=i.schema){const{gen:s,data:$,it:_}=i;if(Object.keys(d).length===0)return;const g=s.let("missing");for(const b in d){const E=d[b];if(E.length===0)continue;const h=(0,r.propertyInData)(s,$,b,_.opts.ownProperties);i.setParams({property:b,depsCount:E.length,deps:E.join(", ")}),_.allErrors?s.if(h,()=>{for(const y of E)(0,r.checkReportMissingProp)(i,y)}):(s.if((0,t._)`${h} && (${(0,r.checkMissingProp)(i,E,g)})`),(0,r.reportMissingProp)(i,g),s.else())}}e.validatePropertyDeps=l;function a(i,d=i.schema){const{gen:s,data:$,keyword:_,it:g}=i,b=s.name("valid");for(const E in d)(0,c.alwaysValidSchema)(g,d[E])||(s.if((0,r.propertyInData)(s,$,E,g.opts.ownProperties),()=>{const h=i.subschema({keyword:_,schemaProp:E},b);i.mergeValidEvaluated(h,b)},()=>s.var(b,!0)),i.ok(b))}e.validateSchemaDeps=a,e.default=u})(Zn)),Zn}var Jr={},Ao;function Fd(){if(Ao)return Jr;Ao=1,Object.defineProperty(Jr,"__esModule",{value:!0});const e=re(),t=oe(),r={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:u})=>(0,e._)`{propertyName: ${u.propertyName}}`},code(u){const{gen:n,schema:l,data:a,it:i}=u;if((0,t.alwaysValidSchema)(i,l))return;const d=n.name("valid");n.forIn("key",a,s=>{u.setParams({propertyName:s}),u.subschema({keyword:"propertyNames",data:s,dataTypes:["string"],propertyName:s,compositeRule:!0},d),n.if((0,e.not)(d),()=>{u.error(!0),i.allErrors||n.break()})}),u.ok(d)}};return Jr.default=r,Jr}var Xr={},qo;function mu(){if(qo)return Xr;qo=1,Object.defineProperty(Xr,"__esModule",{value:!0});const e=Ce(),t=re(),c=Be(),r=oe(),n={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:l})=>(0,t._)`{additionalProperty: ${l.additionalProperty}}`},code(l){const{gen:a,schema:i,parentSchema:d,data:s,errsCount:$,it:_}=l;if(!$)throw new Error("ajv implementation error");const{allErrors:g,opts:b}=_;if(_.props=!0,b.removeAdditional!=="all"&&(0,r.alwaysValidSchema)(_,i))return;const E=(0,e.allSchemaProperties)(d.properties),h=(0,e.allSchemaProperties)(d.patternProperties);y(),l.ok((0,t._)`${$} === ${c.default.errors}`);function y(){a.forIn("key",s,v=>{!E.length&&!h.length?w(v):a.if(o(v),()=>w(v))})}function o(v){let P;if(E.length>8){const I=(0,r.schemaRefOrVal)(_,d.properties,"properties");P=(0,e.isOwnProperty)(a,I,v)}else E.length?P=(0,t.or)(...E.map(I=>(0,t._)`${v} === ${I}`)):P=t.nil;return h.length&&(P=(0,t.or)(P,...h.map(I=>(0,t._)`${(0,e.usePattern)(l,I)}.test(${v})`))),(0,t.not)(P)}function p(v){a.code((0,t._)`delete ${s}[${v}]`)}function w(v){if(b.removeAdditional==="all"||b.removeAdditional&&i===!1){p(v);return}if(i===!1){l.setParams({additionalProperty:v}),l.error(),g||a.break();return}if(typeof i=="object"&&!(0,r.alwaysValidSchema)(_,i)){const P=a.name("valid");b.removeAdditional==="failing"?(m(v,P,!1),a.if((0,t.not)(P),()=>{l.reset(),p(v)})):(m(v,P),g||a.if((0,t.not)(P),()=>a.break()))}}function m(v,P,I){const A={keyword:"additionalProperties",dataProp:v,dataPropType:r.Type.Str};I===!1&&Object.assign(A,{compositeRule:!0,createErrors:!1,allErrors:!1}),l.subschema(A,P)}}};return Xr.default=n,Xr}var Yr={},Do;function Vd(){if(Do)return Yr;Do=1,Object.defineProperty(Yr,"__esModule",{value:!0});const e=En(),t=Ce(),c=oe(),r=mu(),u={keyword:"properties",type:"object",schemaType:"object",code(n){const{gen:l,schema:a,parentSchema:i,data:d,it:s}=n;s.opts.removeAdditional==="all"&&i.additionalProperties===void 0&&r.default.code(new e.KeywordCxt(s,r.default,"additionalProperties"));const $=(0,t.allSchemaProperties)(a);for(const h of $)s.definedProperties.add(h);s.opts.unevaluated&&$.length&&s.props!==!0&&(s.props=c.mergeEvaluated.props(l,(0,c.toHash)($),s.props));const _=$.filter(h=>!(0,c.alwaysValidSchema)(s,a[h]));if(_.length===0)return;const g=l.name("valid");for(const h of _)b(h)?E(h):(l.if((0,t.propertyInData)(l,d,h,s.opts.ownProperties)),E(h),s.allErrors||l.else().var(g,!0),l.endIf()),n.it.definedProperties.add(h),n.ok(g);function b(h){return s.opts.useDefaults&&!s.compositeRule&&a[h].default!==void 0}function E(h){n.subschema({keyword:"properties",schemaProp:h,dataProp:h},g)}}};return Yr.default=u,Yr}var Qr={},Mo;function Ud(){if(Mo)return Qr;Mo=1,Object.defineProperty(Qr,"__esModule",{value:!0});const e=Ce(),t=re(),c=oe(),r=oe(),u={keyword:"patternProperties",type:"object",schemaType:"object",code(n){const{gen:l,schema:a,data:i,parentSchema:d,it:s}=n,{opts:$}=s,_=(0,e.allSchemaProperties)(a),g=_.filter(w=>(0,c.alwaysValidSchema)(s,a[w]));if(_.length===0||g.length===_.length&&(!s.opts.unevaluated||s.props===!0))return;const b=$.strictSchema&&!$.allowMatchingProperties&&d.properties,E=l.name("valid");s.props!==!0&&!(s.props instanceof t.Name)&&(s.props=(0,r.evaluatedPropsToName)(l,s.props));const{props:h}=s;y();function y(){for(const w of _)b&&o(w),s.allErrors?p(w):(l.var(E,!0),p(w),l.if(E))}function o(w){for(const m in b)new RegExp(w).test(m)&&(0,c.checkStrictMode)(s,`property ${m} matches pattern ${w} (use allowMatchingProperties)`)}function p(w){l.forIn("key",i,m=>{l.if((0,t._)`${(0,e.usePattern)(n,w)}.test(${m})`,()=>{const v=g.includes(w);v||n.subschema({keyword:"patternProperties",schemaProp:w,dataProp:m,dataPropType:r.Type.Str},E),s.opts.unevaluated&&h!==!0?l.assign((0,t._)`${h}[${m}]`,!0):!v&&!s.allErrors&&l.if((0,t.not)(E),()=>l.break())})})}}};return Qr.default=u,Qr}var Zr={},Lo;function zd(){if(Lo)return Zr;Lo=1,Object.defineProperty(Zr,"__esModule",{value:!0});const e=oe(),t={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(c){const{gen:r,schema:u,it:n}=c;if((0,e.alwaysValidSchema)(n,u)){c.fail();return}const l=r.name("valid");c.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},l),c.failResult(l,()=>c.reset(),()=>c.error())},error:{message:"must NOT be valid"}};return Zr.default=t,Zr}var xr={},Fo;function Kd(){if(Fo)return xr;Fo=1,Object.defineProperty(xr,"__esModule",{value:!0});const t={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Ce().validateUnion,error:{message:"must match a schema in anyOf"}};return xr.default=t,xr}var Wr={},Vo;function Gd(){if(Vo)return Wr;Vo=1,Object.defineProperty(Wr,"__esModule",{value:!0});const e=re(),t=oe(),r={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:u})=>(0,e._)`{passingSchemas: ${u.passing}}`},code(u){const{gen:n,schema:l,parentSchema:a,it:i}=u;if(!Array.isArray(l))throw new Error("ajv implementation error");if(i.opts.discriminator&&a.discriminator)return;const d=l,s=n.let("valid",!1),$=n.let("passing",null),_=n.name("_valid");u.setParams({passing:$}),n.block(g),u.result(s,()=>u.reset(),()=>u.error(!0));function g(){d.forEach((b,E)=>{let h;(0,t.alwaysValidSchema)(i,b)?n.var(_,!0):h=u.subschema({keyword:"oneOf",schemaProp:E,compositeRule:!0},_),E>0&&n.if((0,e._)`${_} && ${s}`).assign(s,!1).assign($,(0,e._)`[${$}, ${E}]`).else(),n.if(_,()=>{n.assign(s,!0),n.assign($,E),h&&u.mergeEvaluated(h,e.Name)})})}}};return Wr.default=r,Wr}var en={},Uo;function Hd(){if(Uo)return en;Uo=1,Object.defineProperty(en,"__esModule",{value:!0});const e=oe(),t={keyword:"allOf",schemaType:"array",code(c){const{gen:r,schema:u,it:n}=c;if(!Array.isArray(u))throw new Error("ajv implementation error");const l=r.name("valid");u.forEach((a,i)=>{if((0,e.alwaysValidSchema)(n,a))return;const d=c.subschema({keyword:"allOf",schemaProp:i},l);c.ok(l),c.mergeEvaluated(d)})}};return en.default=t,en}var tn={},zo;function Bd(){if(zo)return tn;zo=1,Object.defineProperty(tn,"__esModule",{value:!0});const e=re(),t=oe(),r={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:n})=>(0,e.str)`must match "${n.ifClause}" schema`,params:({params:n})=>(0,e._)`{failingKeyword: ${n.ifClause}}`},code(n){const{gen:l,parentSchema:a,it:i}=n;a.then===void 0&&a.else===void 0&&(0,t.checkStrictMode)(i,'"if" without "then" and "else" is ignored');const d=u(i,"then"),s=u(i,"else");if(!d&&!s)return;const $=l.let("valid",!0),_=l.name("_valid");if(g(),n.reset(),d&&s){const E=l.let("ifClause");n.setParams({ifClause:E}),l.if(_,b("then",E),b("else",E))}else d?l.if(_,b("then")):l.if((0,e.not)(_),b("else"));n.pass($,()=>n.error(!0));function g(){const E=n.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},_);n.mergeEvaluated(E)}function b(E,h){return()=>{const y=n.subschema({keyword:E},_);l.assign($,_),n.mergeValidEvaluated(y,$),h?l.assign(h,(0,e._)`${E}`):n.setParams({ifClause:E})}}}};function u(n,l){const a=n.schema[l];return a!==void 0&&!(0,t.alwaysValidSchema)(n,a)}return tn.default=r,tn}var rn={},Ko;function Jd(){if(Ko)return rn;Ko=1,Object.defineProperty(rn,"__esModule",{value:!0});const e=oe(),t={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:c,parentSchema:r,it:u}){r.if===void 0&&(0,e.checkStrictMode)(u,`"${c}" without "if" is ignored`)}};return rn.default=t,rn}var Go;function Xd(){if(Go)return Kr;Go=1,Object.defineProperty(Kr,"__esModule",{value:!0});const e=hu(),t=qd(),c=pu(),r=Dd(),u=Md(),n=Ld(),l=Fd(),a=mu(),i=Vd(),d=Ud(),s=zd(),$=Kd(),_=Gd(),g=Hd(),b=Bd(),E=Jd();function h(y=!1){const o=[s.default,$.default,_.default,g.default,b.default,E.default,l.default,a.default,n.default,i.default,d.default];return y?o.push(t.default,r.default):o.push(e.default,c.default),o.push(u.default),o}return Kr.default=h,Kr}var nn={},sn={},Ho;function Yd(){if(Ho)return sn;Ho=1,Object.defineProperty(sn,"__esModule",{value:!0});const e=re(),c={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:r})=>(0,e.str)`must match format "${r}"`,params:({schemaCode:r})=>(0,e._)`{format: ${r}}`},code(r,u){const{gen:n,data:l,$data:a,schema:i,schemaCode:d,it:s}=r,{opts:$,errSchemaPath:_,schemaEnv:g,self:b}=s;if(!$.validateFormats)return;a?E():h();function E(){const y=n.scopeValue("formats",{ref:b.formats,code:$.code.formats}),o=n.const("fDef",(0,e._)`${y}[${d}]`),p=n.let("fType"),w=n.let("format");n.if((0,e._)`typeof ${o} == "object" && !(${o} instanceof RegExp)`,()=>n.assign(p,(0,e._)`${o}.type || "string"`).assign(w,(0,e._)`${o}.validate`),()=>n.assign(p,(0,e._)`"string"`).assign(w,o)),r.fail$data((0,e.or)(m(),v()));function m(){return $.strictSchema===!1?e.nil:(0,e._)`${d} && !${w}`}function v(){const P=g.$async?(0,e._)`(${o}.async ? await ${w}(${l}) : ${w}(${l}))`:(0,e._)`${w}(${l})`,I=(0,e._)`(typeof ${w} == "function" ? ${P} : ${w}.test(${l}))`;return(0,e._)`${w} && ${w} !== true && ${p} === ${u} && !${I}`}}function h(){const y=b.formats[i];if(!y){m();return}if(y===!0)return;const[o,p,w]=v(y);o===u&&r.pass(P());function m(){if($.strictSchema===!1){b.logger.warn(I());return}throw new Error(I());function I(){return`unknown format "${i}" ignored in schema at path "${_}"`}}function v(I){const A=I instanceof RegExp?(0,e.regexpCode)(I):$.code.formats?(0,e._)`${$.code.formats}${(0,e.getProperty)(i)}`:void 0,M=n.scopeValue("formats",{key:i,ref:I,code:A});return typeof I=="object"&&!(I instanceof RegExp)?[I.type||"string",I.validate,(0,e._)`${M}.validate`]:["string",I,M]}function P(){if(typeof y=="object"&&!(y instanceof RegExp)&&y.async){if(!g.$async)throw new Error("async format in sync schema");return(0,e._)`await ${w}(${l})`}return typeof p=="function"?(0,e._)`${w}(${l})`:(0,e._)`${w}.test(${l})`}}}};return sn.default=c,sn}var Bo;function Qd(){if(Bo)return nn;Bo=1,Object.defineProperty(nn,"__esModule",{value:!0});const t=[Yd().default];return nn.default=t,nn}var nt={},Jo;function Zd(){return Jo||(Jo=1,Object.defineProperty(nt,"__esModule",{value:!0}),nt.contentVocabulary=nt.metadataVocabulary=void 0,nt.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],nt.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),nt}var Xo;function xd(){if(Xo)return Or;Xo=1,Object.defineProperty(Or,"__esModule",{value:!0});const e=Ed(),t=Ad(),c=Xd(),r=Qd(),u=Zd(),n=[e.default,t.default,(0,c.default)(),r.default,u.metadataVocabulary,u.contentVocabulary];return Or.default=n,Or}var an={},vt={},Yo;function Wd(){if(Yo)return vt;Yo=1,Object.defineProperty(vt,"__esModule",{value:!0}),vt.DiscrError=void 0;var e;return(function(t){t.Tag="tag",t.Mapping="mapping"})(e||(vt.DiscrError=e={})),vt}var Qo;function ef(){if(Qo)return an;Qo=1,Object.defineProperty(an,"__esModule",{value:!0});const e=re(),t=Wd(),c=Ws(),r=bn(),u=oe(),l={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:a,tagName:i}})=>a===t.DiscrError.Tag?`tag "${i}" must be string`:`value of tag "${i}" must be in oneOf`,params:({params:{discrError:a,tag:i,tagName:d}})=>(0,e._)`{error: ${a}, tag: ${d}, tagValue: ${i}}`},code(a){const{gen:i,data:d,schema:s,parentSchema:$,it:_}=a,{oneOf:g}=$;if(!_.opts.discriminator)throw new Error("discriminator: requires discriminator option");const b=s.propertyName;if(typeof b!="string")throw new Error("discriminator: requires propertyName");if(s.mapping)throw new Error("discriminator: mapping is not supported");if(!g)throw new Error("discriminator: requires oneOf keyword");const E=i.let("valid",!1),h=i.const("tag",(0,e._)`${d}${(0,e.getProperty)(b)}`);i.if((0,e._)`typeof ${h} == "string"`,()=>y(),()=>a.error(!1,{discrError:t.DiscrError.Tag,tag:h,tagName:b})),a.ok(E);function y(){const w=p();i.if(!1);for(const m in w)i.elseIf((0,e._)`${h} === ${m}`),i.assign(E,o(w[m]));i.else(),a.error(!1,{discrError:t.DiscrError.Mapping,tag:h,tagName:b}),i.endIf()}function o(w){const m=i.name("valid"),v=a.subschema({keyword:"oneOf",schemaProp:w},m);return a.mergeEvaluated(v,e.Name),m}function p(){var w;const m={},v=I($);let P=!0;for(let F=0;F<g.length;F++){let B=g[F];if(B?.$ref&&!(0,u.schemaHasRulesButRef)(B,_.self.RULES)){const V=B.$ref;if(B=c.resolveRef.call(_.self,_.schemaEnv.root,_.baseId,V),B instanceof c.SchemaEnv&&(B=B.schema),B===void 0)throw new r.default(_.opts.uriResolver,_.baseId,V)}const J=(w=B?.properties)===null||w===void 0?void 0:w[b];if(typeof J!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${b}"`);P=P&&(v||I(B)),A(J,F)}if(!P)throw new Error(`discriminator: "${b}" must be required`);return m;function I({required:F}){return Array.isArray(F)&&F.includes(b)}function A(F,B){if(F.const)M(F.const,B);else if(F.enum)for(const J of F.enum)M(J,B);else throw new Error(`discriminator: "properties/${b}" must have "const" or "enum"`)}function M(F,B){if(typeof F!="string"||F in m)throw new Error(`discriminator: "${b}" values must be unique strings`);m[F]=B}}}};return an.default=l,an}const tf="http://json-schema.org/draft-07/schema#",rf="http://json-schema.org/draft-07/schema#",nf="Core schema meta-schema",sf={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},af=["object","boolean"],of={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},cf={$schema:tf,$id:rf,title:nf,definitions:sf,type:af,properties:of,default:!0};var Zo;function uf(){return Zo||(Zo=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const c=_d(),r=xd(),u=ef(),n=cf,l=["/properties"],a="http://json-schema.org/draft-07/schema";class i extends c.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(b=>this.addVocabulary(b)),this.opts.discriminator&&this.addKeyword(u.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const b=this.opts.$data?this.$dataMetaSchema(n,l):n;this.addMetaSchema(b,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}t.Ajv=i,e.exports=t=i,e.exports.Ajv=i,Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var d=En();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return d.KeywordCxt}});var s=re();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return s._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return s.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return s.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return s.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return s.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return s.CodeGen}});var $=xs();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return $.default}});var _=bn();Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return _.default}})})(Er,Er.exports)),Er.exports}var xo;function lf(){return xo||(xo=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=uf(),c=re(),r=c.operators,u={formatMaximum:{okStr:"<=",ok:r.LTE,fail:r.GT},formatMinimum:{okStr:">=",ok:r.GTE,fail:r.LT},formatExclusiveMaximum:{okStr:"<",ok:r.LT,fail:r.GTE},formatExclusiveMinimum:{okStr:">",ok:r.GT,fail:r.LTE}},n={message:({keyword:a,schemaCode:i})=>c.str`should be ${u[a].okStr} ${i}`,params:({keyword:a,schemaCode:i})=>c._`{comparison: ${u[a].okStr}, limit: ${i}}`};e.formatLimitDefinition={keyword:Object.keys(u),type:"string",schemaType:"string",$data:!0,error:n,code(a){const{gen:i,data:d,schemaCode:s,keyword:$,it:_}=a,{opts:g,self:b}=_;if(!g.validateFormats)return;const E=new t.KeywordCxt(_,b.RULES.all.format.definition,"format");E.$data?h():y();function h(){const p=i.scopeValue("formats",{ref:b.formats,code:g.code.formats}),w=i.const("fmt",c._`${p}[${E.schemaCode}]`);a.fail$data(c.or(c._`typeof ${w} != "object"`,c._`${w} instanceof RegExp`,c._`typeof ${w}.compare != "function"`,o(w)))}function y(){const p=E.schema,w=b.formats[p];if(!w||w===!0)return;if(typeof w!="object"||w instanceof RegExp||typeof w.compare!="function")throw new Error(`"${$}": format "${p}" does not define "compare" function`);const m=i.scopeValue("formats",{key:p,ref:w,code:g.code.formats?c._`${g.code.formats}${c.getProperty(p)}`:void 0});a.fail$data(o(m))}function o(p){return c._`${p}.compare(${d}, ${s}) ${u[$].fail} 0`}},dependencies:["format"]};const l=a=>(a.addKeyword(e.formatLimitDefinition),a);e.default=l})(Gn)),Gn}var Wo;function df(){return Wo||(Wo=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const c=ad(),r=lf(),u=re(),n=new u.Name("fullFormats"),l=new u.Name("fastFormats"),a=(d,s={keywords:!0})=>{if(Array.isArray(s))return i(d,s,c.fullFormats,n),d;const[$,_]=s.mode==="fast"?[c.fastFormats,l]:[c.fullFormats,n],g=s.formats||c.formatNames;return i(d,g,$,_),s.keywords&&r.default(d),d};a.get=(d,s="full")=>{const _=(s==="fast"?c.fastFormats:c.fullFormats)[d];if(!_)throw new Error(`Unknown format "${d}"`);return _};function i(d,s,$,_){var g,b;(g=(b=d.opts.code).formats)!==null&&g!==void 0||(b.formats=u._`require("ajv-formats/dist/formats").${_}`);for(const E of s)d.addFormat(E,$[E])}e.exports=t=a,Object.defineProperty(t,"__esModule",{value:!0}),t.default=a})(wr,wr.exports)),wr.exports}var xn,ec;function ff(){if(ec)return xn;ec=1;const e=(i,d,s,$)=>{if(s==="length"||s==="prototype"||s==="arguments"||s==="caller")return;const _=Object.getOwnPropertyDescriptor(i,s),g=Object.getOwnPropertyDescriptor(d,s);!t(_,g)&&$||Object.defineProperty(i,s,g)},t=function(i,d){return i===void 0||i.configurable||i.writable===d.writable&&i.enumerable===d.enumerable&&i.configurable===d.configurable&&(i.writable||i.value===d.value)},c=(i,d)=>{const s=Object.getPrototypeOf(d);s!==Object.getPrototypeOf(i)&&Object.setPrototypeOf(i,s)},r=(i,d)=>`/* Wrapped ${i}*/
${d}`,u=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),n=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),l=(i,d,s)=>{const $=s===""?"":`with ${s.trim()}() `,_=r.bind(null,$,d.toString());Object.defineProperty(_,"name",n),Object.defineProperty(i,"toString",{...u,value:_})};return xn=(i,d,{ignoreNonConfigurable:s=!1}={})=>{const{name:$}=i;for(const _ of Reflect.ownKeys(d))e(i,d,_,s);return c(i,d),l(i,d,$),i},xn}var Wn,tc;function hf(){if(tc)return Wn;tc=1;const e=ff();return Wn=(t,c={})=>{if(typeof t!="function")throw new TypeError(`Expected the first argument to be a function, got \`${typeof t}\``);const{wait:r=0,before:u=!1,after:n=!0}=c;if(!u&&!n)throw new Error("Both `before` and `after` are false, function wouldn't be called.");let l,a;const i=function(...d){const s=this,$=()=>{l=void 0,n&&(a=t.apply(s,d))},_=u&&!l;return clearTimeout(l),l=setTimeout($,r),_&&(a=t.apply(s,d)),a};return e(i,t),i.cancel=()=>{l&&(clearTimeout(l),l=void 0)},i},Wn}var on={exports:{}},es,rc;function Sn(){if(rc)return es;rc=1;const e="2.0.0",t=256,c=Number.MAX_SAFE_INTEGER||9007199254740991,r=16,u=t-6;return es={MAX_LENGTH:t,MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:u,MAX_SAFE_INTEGER:c,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},es}var ts,nc;function Pn(){return nc||(nc=1,ts=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{}),ts}var sc;function bt(){return sc||(sc=1,(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:c,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:u}=Sn(),n=Pn();t=e.exports={};const l=t.re=[],a=t.safeRe=[],i=t.src=[],d=t.safeSrc=[],s=t.t={};let $=0;const _="[a-zA-Z0-9-]",g=[["\\s",1],["\\d",u],[_,r]],b=h=>{for(const[y,o]of g)h=h.split(`${y}*`).join(`${y}{0,${o}}`).split(`${y}+`).join(`${y}{1,${o}}`);return h},E=(h,y,o)=>{const p=b(y),w=$++;n(h,w,y),s[h]=w,i[w]=y,d[w]=p,l[w]=new RegExp(y,o?"g":void 0),a[w]=new RegExp(p,o?"g":void 0)};E("NUMERICIDENTIFIER","0|[1-9]\\d*"),E("NUMERICIDENTIFIERLOOSE","\\d+"),E("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${_}*`),E("MAINVERSION",`(${i[s.NUMERICIDENTIFIER]})\\.(${i[s.NUMERICIDENTIFIER]})\\.(${i[s.NUMERICIDENTIFIER]})`),E("MAINVERSIONLOOSE",`(${i[s.NUMERICIDENTIFIERLOOSE]})\\.(${i[s.NUMERICIDENTIFIERLOOSE]})\\.(${i[s.NUMERICIDENTIFIERLOOSE]})`),E("PRERELEASEIDENTIFIER",`(?:${i[s.NONNUMERICIDENTIFIER]}|${i[s.NUMERICIDENTIFIER]})`),E("PRERELEASEIDENTIFIERLOOSE",`(?:${i[s.NONNUMERICIDENTIFIER]}|${i[s.NUMERICIDENTIFIERLOOSE]})`),E("PRERELEASE",`(?:-(${i[s.PRERELEASEIDENTIFIER]}(?:\\.${i[s.PRERELEASEIDENTIFIER]})*))`),E("PRERELEASELOOSE",`(?:-?(${i[s.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${i[s.PRERELEASEIDENTIFIERLOOSE]})*))`),E("BUILDIDENTIFIER",`${_}+`),E("BUILD",`(?:\\+(${i[s.BUILDIDENTIFIER]}(?:\\.${i[s.BUILDIDENTIFIER]})*))`),E("FULLPLAIN",`v?${i[s.MAINVERSION]}${i[s.PRERELEASE]}?${i[s.BUILD]}?`),E("FULL",`^${i[s.FULLPLAIN]}$`),E("LOOSEPLAIN",`[v=\\s]*${i[s.MAINVERSIONLOOSE]}${i[s.PRERELEASELOOSE]}?${i[s.BUILD]}?`),E("LOOSE",`^${i[s.LOOSEPLAIN]}$`),E("GTLT","((?:<|>)?=?)"),E("XRANGEIDENTIFIERLOOSE",`${i[s.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),E("XRANGEIDENTIFIER",`${i[s.NUMERICIDENTIFIER]}|x|X|\\*`),E("XRANGEPLAIN",`[v=\\s]*(${i[s.XRANGEIDENTIFIER]})(?:\\.(${i[s.XRANGEIDENTIFIER]})(?:\\.(${i[s.XRANGEIDENTIFIER]})(?:${i[s.PRERELEASE]})?${i[s.BUILD]}?)?)?`),E("XRANGEPLAINLOOSE",`[v=\\s]*(${i[s.XRANGEIDENTIFIERLOOSE]})(?:\\.(${i[s.XRANGEIDENTIFIERLOOSE]})(?:\\.(${i[s.XRANGEIDENTIFIERLOOSE]})(?:${i[s.PRERELEASELOOSE]})?${i[s.BUILD]}?)?)?`),E("XRANGE",`^${i[s.GTLT]}\\s*${i[s.XRANGEPLAIN]}$`),E("XRANGELOOSE",`^${i[s.GTLT]}\\s*${i[s.XRANGEPLAINLOOSE]}$`),E("COERCEPLAIN",`(^|[^\\d])(\\d{1,${c}})(?:\\.(\\d{1,${c}}))?(?:\\.(\\d{1,${c}}))?`),E("COERCE",`${i[s.COERCEPLAIN]}(?:$|[^\\d])`),E("COERCEFULL",i[s.COERCEPLAIN]+`(?:${i[s.PRERELEASE]})?(?:${i[s.BUILD]})?(?:$|[^\\d])`),E("COERCERTL",i[s.COERCE],!0),E("COERCERTLFULL",i[s.COERCEFULL],!0),E("LONETILDE","(?:~>?)"),E("TILDETRIM",`(\\s*)${i[s.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",E("TILDE",`^${i[s.LONETILDE]}${i[s.XRANGEPLAIN]}$`),E("TILDELOOSE",`^${i[s.LONETILDE]}${i[s.XRANGEPLAINLOOSE]}$`),E("LONECARET","(?:\\^)"),E("CARETTRIM",`(\\s*)${i[s.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",E("CARET",`^${i[s.LONECARET]}${i[s.XRANGEPLAIN]}$`),E("CARETLOOSE",`^${i[s.LONECARET]}${i[s.XRANGEPLAINLOOSE]}$`),E("COMPARATORLOOSE",`^${i[s.GTLT]}\\s*(${i[s.LOOSEPLAIN]})$|^$`),E("COMPARATOR",`^${i[s.GTLT]}\\s*(${i[s.FULLPLAIN]})$|^$`),E("COMPARATORTRIM",`(\\s*)${i[s.GTLT]}\\s*(${i[s.LOOSEPLAIN]}|${i[s.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",E("HYPHENRANGE",`^\\s*(${i[s.XRANGEPLAIN]})\\s+-\\s+(${i[s.XRANGEPLAIN]})\\s*$`),E("HYPHENRANGELOOSE",`^\\s*(${i[s.XRANGEPLAINLOOSE]})\\s+-\\s+(${i[s.XRANGEPLAINLOOSE]})\\s*$`),E("STAR","(<|>)?=?\\s*\\*"),E("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),E("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(on,on.exports)),on.exports}var rs,ac;function ta(){if(ac)return rs;ac=1;const e=Object.freeze({loose:!0}),t=Object.freeze({});return rs=r=>r?typeof r!="object"?e:r:t,rs}var ns,ic;function yu(){if(ic)return ns;ic=1;const e=/^[0-9]+$/,t=(r,u)=>{if(typeof r=="number"&&typeof u=="number")return r===u?0:r<u?-1:1;const n=e.test(r),l=e.test(u);return n&&l&&(r=+r,u=+u),r===u?0:n&&!l?-1:l&&!n?1:r<u?-1:1};return ns={compareIdentifiers:t,rcompareIdentifiers:(r,u)=>t(u,r)},ns}var ss,oc;function $e(){if(oc)return ss;oc=1;const e=Pn(),{MAX_LENGTH:t,MAX_SAFE_INTEGER:c}=Sn(),{safeRe:r,t:u}=bt(),n=ta(),{compareIdentifiers:l}=yu();class a{constructor(d,s){if(s=n(s),d instanceof a){if(d.loose===!!s.loose&&d.includePrerelease===!!s.includePrerelease)return d;d=d.version}else if(typeof d!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof d}".`);if(d.length>t)throw new TypeError(`version is longer than ${t} characters`);e("SemVer",d,s),this.options=s,this.loose=!!s.loose,this.includePrerelease=!!s.includePrerelease;const $=d.trim().match(s.loose?r[u.LOOSE]:r[u.FULL]);if(!$)throw new TypeError(`Invalid Version: ${d}`);if(this.raw=d,this.major=+$[1],this.minor=+$[2],this.patch=+$[3],this.major>c||this.major<0)throw new TypeError("Invalid major version");if(this.minor>c||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>c||this.patch<0)throw new TypeError("Invalid patch version");$[4]?this.prerelease=$[4].split(".").map(_=>{if(/^[0-9]+$/.test(_)){const g=+_;if(g>=0&&g<c)return g}return _}):this.prerelease=[],this.build=$[5]?$[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(d){if(e("SemVer.compare",this.version,this.options,d),!(d instanceof a)){if(typeof d=="string"&&d===this.version)return 0;d=new a(d,this.options)}return d.version===this.version?0:this.compareMain(d)||this.comparePre(d)}compareMain(d){return d instanceof a||(d=new a(d,this.options)),this.major<d.major?-1:this.major>d.major?1:this.minor<d.minor?-1:this.minor>d.minor?1:this.patch<d.patch?-1:this.patch>d.patch?1:0}comparePre(d){if(d instanceof a||(d=new a(d,this.options)),this.prerelease.length&&!d.prerelease.length)return-1;if(!this.prerelease.length&&d.prerelease.length)return 1;if(!this.prerelease.length&&!d.prerelease.length)return 0;let s=0;do{const $=this.prerelease[s],_=d.prerelease[s];if(e("prerelease compare",s,$,_),$===void 0&&_===void 0)return 0;if(_===void 0)return 1;if($===void 0)return-1;if($===_)continue;return l($,_)}while(++s)}compareBuild(d){d instanceof a||(d=new a(d,this.options));let s=0;do{const $=this.build[s],_=d.build[s];if(e("build compare",s,$,_),$===void 0&&_===void 0)return 0;if(_===void 0)return 1;if($===void 0)return-1;if($===_)continue;return l($,_)}while(++s)}inc(d,s,$){if(d.startsWith("pre")){if(!s&&$===!1)throw new Error("invalid increment argument: identifier is empty");if(s){const _=`-${s}`.match(this.options.loose?r[u.PRERELEASELOOSE]:r[u.PRERELEASE]);if(!_||_[1]!==s)throw new Error(`invalid identifier: ${s}`)}}switch(d){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",s,$);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",s,$);break;case"prepatch":this.prerelease.length=0,this.inc("patch",s,$),this.inc("pre",s,$);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",s,$),this.inc("pre",s,$);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const _=Number($)?1:0;if(this.prerelease.length===0)this.prerelease=[_];else{let g=this.prerelease.length;for(;--g>=0;)typeof this.prerelease[g]=="number"&&(this.prerelease[g]++,g=-2);if(g===-1){if(s===this.prerelease.join(".")&&$===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(_)}}if(s){let g=[s,_];$===!1&&(g=[s]),l(this.prerelease[0],s)===0?isNaN(this.prerelease[1])&&(this.prerelease=g):this.prerelease=g}break}default:throw new Error(`invalid increment argument: ${d}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return ss=a,ss}var as,cc;function lt(){if(cc)return as;cc=1;const e=$e();return as=(c,r,u=!1)=>{if(c instanceof e)return c;try{return new e(c,r)}catch(n){if(!u)return null;throw n}},as}var is,uc;function pf(){if(uc)return is;uc=1;const e=lt();return is=(c,r)=>{const u=e(c,r);return u?u.version:null},is}var os,lc;function mf(){if(lc)return os;lc=1;const e=lt();return os=(c,r)=>{const u=e(c.trim().replace(/^[=v]+/,""),r);return u?u.version:null},os}var cs,dc;function yf(){if(dc)return cs;dc=1;const e=$e();return cs=(c,r,u,n,l)=>{typeof u=="string"&&(l=n,n=u,u=void 0);try{return new e(c instanceof e?c.version:c,u).inc(r,n,l).version}catch{return null}},cs}var us,fc;function vf(){if(fc)return us;fc=1;const e=lt();return us=(c,r)=>{const u=e(c,null,!0),n=e(r,null,!0),l=u.compare(n);if(l===0)return null;const a=l>0,i=a?u:n,d=a?n:u,s=!!i.prerelease.length;if(!!d.prerelease.length&&!s){if(!d.patch&&!d.minor)return"major";if(d.compareMain(i)===0)return d.minor&&!d.patch?"minor":"patch"}const _=s?"pre":"";return u.major!==n.major?_+"major":u.minor!==n.minor?_+"minor":u.patch!==n.patch?_+"patch":"prerelease"},us}var ls,hc;function gf(){if(hc)return ls;hc=1;const e=$e();return ls=(c,r)=>new e(c,r).major,ls}var ds,pc;function _f(){if(pc)return ds;pc=1;const e=$e();return ds=(c,r)=>new e(c,r).minor,ds}var fs,mc;function $f(){if(mc)return fs;mc=1;const e=$e();return fs=(c,r)=>new e(c,r).patch,fs}var hs,yc;function wf(){if(yc)return hs;yc=1;const e=lt();return hs=(c,r)=>{const u=e(c,r);return u&&u.prerelease.length?u.prerelease:null},hs}var ps,vc;function je(){if(vc)return ps;vc=1;const e=$e();return ps=(c,r,u)=>new e(c,u).compare(new e(r,u)),ps}var ms,gc;function Ef(){if(gc)return ms;gc=1;const e=je();return ms=(c,r,u)=>e(r,c,u),ms}var ys,_c;function bf(){if(_c)return ys;_c=1;const e=je();return ys=(c,r)=>e(c,r,!0),ys}var vs,$c;function ra(){if($c)return vs;$c=1;const e=$e();return vs=(c,r,u)=>{const n=new e(c,u),l=new e(r,u);return n.compare(l)||n.compareBuild(l)},vs}var gs,wc;function Sf(){if(wc)return gs;wc=1;const e=ra();return gs=(c,r)=>c.sort((u,n)=>e(u,n,r)),gs}var _s,Ec;function Pf(){if(Ec)return _s;Ec=1;const e=ra();return _s=(c,r)=>c.sort((u,n)=>e(n,u,r)),_s}var $s,bc;function Rn(){if(bc)return $s;bc=1;const e=je();return $s=(c,r,u)=>e(c,r,u)>0,$s}var ws,Sc;function na(){if(Sc)return ws;Sc=1;const e=je();return ws=(c,r,u)=>e(c,r,u)<0,ws}var Es,Pc;function vu(){if(Pc)return Es;Pc=1;const e=je();return Es=(c,r,u)=>e(c,r,u)===0,Es}var bs,Rc;function gu(){if(Rc)return bs;Rc=1;const e=je();return bs=(c,r,u)=>e(c,r,u)!==0,bs}var Ss,Oc;function sa(){if(Oc)return Ss;Oc=1;const e=je();return Ss=(c,r,u)=>e(c,r,u)>=0,Ss}var Ps,Nc;function aa(){if(Nc)return Ps;Nc=1;const e=je();return Ps=(c,r,u)=>e(c,r,u)<=0,Ps}var Rs,Tc;function _u(){if(Tc)return Rs;Tc=1;const e=vu(),t=gu(),c=Rn(),r=sa(),u=na(),n=aa();return Rs=(a,i,d,s)=>{switch(i){case"===":return typeof a=="object"&&(a=a.version),typeof d=="object"&&(d=d.version),a===d;case"!==":return typeof a=="object"&&(a=a.version),typeof d=="object"&&(d=d.version),a!==d;case"":case"=":case"==":return e(a,d,s);case"!=":return t(a,d,s);case">":return c(a,d,s);case">=":return r(a,d,s);case"<":return u(a,d,s);case"<=":return n(a,d,s);default:throw new TypeError(`Invalid operator: ${i}`)}},Rs}var Os,Ic;function Rf(){if(Ic)return Os;Ic=1;const e=$e(),t=lt(),{safeRe:c,t:r}=bt();return Os=(n,l)=>{if(n instanceof e)return n;if(typeof n=="number"&&(n=String(n)),typeof n!="string")return null;l=l||{};let a=null;if(!l.rtl)a=n.match(l.includePrerelease?c[r.COERCEFULL]:c[r.COERCE]);else{const g=l.includePrerelease?c[r.COERCERTLFULL]:c[r.COERCERTL];let b;for(;(b=g.exec(n))&&(!a||a.index+a[0].length!==n.length);)(!a||b.index+b[0].length!==a.index+a[0].length)&&(a=b),g.lastIndex=b.index+b[1].length+b[2].length;g.lastIndex=-1}if(a===null)return null;const i=a[2],d=a[3]||"0",s=a[4]||"0",$=l.includePrerelease&&a[5]?`-${a[5]}`:"",_=l.includePrerelease&&a[6]?`+${a[6]}`:"";return t(`${i}.${d}.${s}${$}${_}`,l)},Os}var Ns,Cc;function Of(){if(Cc)return Ns;Cc=1;class e{constructor(){this.max=1e3,this.map=new Map}get(c){const r=this.map.get(c);if(r!==void 0)return this.map.delete(c),this.map.set(c,r),r}delete(c){return this.map.delete(c)}set(c,r){if(!this.delete(c)&&r!==void 0){if(this.map.size>=this.max){const n=this.map.keys().next().value;this.delete(n)}this.map.set(c,r)}return this}}return Ns=e,Ns}var Ts,jc;function ke(){if(jc)return Ts;jc=1;const e=/\s+/g;class t{constructor(z,Q){if(Q=u(Q),z instanceof t)return z.loose===!!Q.loose&&z.includePrerelease===!!Q.includePrerelease?z:new t(z.raw,Q);if(z instanceof n)return this.raw=z.value,this.set=[[z]],this.formatted=void 0,this;if(this.options=Q,this.loose=!!Q.loose,this.includePrerelease=!!Q.includePrerelease,this.raw=z.trim().replace(e," "),this.set=this.raw.split("||").map(X=>this.parseRange(X.trim())).filter(X=>X.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const X=this.set[0];if(this.set=this.set.filter(D=>!E(D[0])),this.set.length===0)this.set=[X];else if(this.set.length>1){for(const D of this.set)if(D.length===1&&h(D[0])){this.set=[D];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let z=0;z<this.set.length;z++){z>0&&(this.formatted+="||");const Q=this.set[z];for(let X=0;X<Q.length;X++)X>0&&(this.formatted+=" "),this.formatted+=Q[X].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(z){const X=((this.options.includePrerelease&&g)|(this.options.loose&&b))+":"+z,D=r.get(X);if(D)return D;const U=this.options.loose,C=U?i[d.HYPHENRANGELOOSE]:i[d.HYPHENRANGE];z=z.replace(C,B(this.options.includePrerelease)),l("hyphen replace",z),z=z.replace(i[d.COMPARATORTRIM],s),l("comparator trim",z),z=z.replace(i[d.TILDETRIM],$),l("tilde trim",z),z=z.replace(i[d.CARETTRIM],_),l("caret trim",z);let R=z.split(" ").map(S=>o(S,this.options)).join(" ").split(/\s+/).map(S=>F(S,this.options));U&&(R=R.filter(S=>(l("loose invalid filter",S,this.options),!!S.match(i[d.COMPARATORLOOSE])))),l("range list",R);const j=new Map,N=R.map(S=>new n(S,this.options));for(const S of N){if(E(S))return[S];j.set(S.value,S)}j.size>1&&j.has("")&&j.delete("");const f=[...j.values()];return r.set(X,f),f}intersects(z,Q){if(!(z instanceof t))throw new TypeError("a Range is required");return this.set.some(X=>y(X,Q)&&z.set.some(D=>y(D,Q)&&X.every(U=>D.every(C=>U.intersects(C,Q)))))}test(z){if(!z)return!1;if(typeof z=="string")try{z=new a(z,this.options)}catch{return!1}for(let Q=0;Q<this.set.length;Q++)if(J(this.set[Q],z,this.options))return!0;return!1}}Ts=t;const c=Of(),r=new c,u=ta(),n=On(),l=Pn(),a=$e(),{safeRe:i,t:d,comparatorTrimReplace:s,tildeTrimReplace:$,caretTrimReplace:_}=bt(),{FLAG_INCLUDE_PRERELEASE:g,FLAG_LOOSE:b}=Sn(),E=V=>V.value==="<0.0.0-0",h=V=>V.value==="",y=(V,z)=>{let Q=!0;const X=V.slice();let D=X.pop();for(;Q&&X.length;)Q=X.every(U=>D.intersects(U,z)),D=X.pop();return Q},o=(V,z)=>(V=V.replace(i[d.BUILD],""),l("comp",V,z),V=v(V,z),l("caret",V),V=w(V,z),l("tildes",V),V=I(V,z),l("xrange",V),V=M(V,z),l("stars",V),V),p=V=>!V||V.toLowerCase()==="x"||V==="*",w=(V,z)=>V.trim().split(/\s+/).map(Q=>m(Q,z)).join(" "),m=(V,z)=>{const Q=z.loose?i[d.TILDELOOSE]:i[d.TILDE];return V.replace(Q,(X,D,U,C,R)=>{l("tilde",V,X,D,U,C,R);let j;return p(D)?j="":p(U)?j=`>=${D}.0.0 <${+D+1}.0.0-0`:p(C)?j=`>=${D}.${U}.0 <${D}.${+U+1}.0-0`:R?(l("replaceTilde pr",R),j=`>=${D}.${U}.${C}-${R} <${D}.${+U+1}.0-0`):j=`>=${D}.${U}.${C} <${D}.${+U+1}.0-0`,l("tilde return",j),j})},v=(V,z)=>V.trim().split(/\s+/).map(Q=>P(Q,z)).join(" "),P=(V,z)=>{l("caret",V,z);const Q=z.loose?i[d.CARETLOOSE]:i[d.CARET],X=z.includePrerelease?"-0":"";return V.replace(Q,(D,U,C,R,j)=>{l("caret",V,D,U,C,R,j);let N;return p(U)?N="":p(C)?N=`>=${U}.0.0${X} <${+U+1}.0.0-0`:p(R)?U==="0"?N=`>=${U}.${C}.0${X} <${U}.${+C+1}.0-0`:N=`>=${U}.${C}.0${X} <${+U+1}.0.0-0`:j?(l("replaceCaret pr",j),U==="0"?C==="0"?N=`>=${U}.${C}.${R}-${j} <${U}.${C}.${+R+1}-0`:N=`>=${U}.${C}.${R}-${j} <${U}.${+C+1}.0-0`:N=`>=${U}.${C}.${R}-${j} <${+U+1}.0.0-0`):(l("no pr"),U==="0"?C==="0"?N=`>=${U}.${C}.${R}${X} <${U}.${C}.${+R+1}-0`:N=`>=${U}.${C}.${R}${X} <${U}.${+C+1}.0-0`:N=`>=${U}.${C}.${R} <${+U+1}.0.0-0`),l("caret return",N),N})},I=(V,z)=>(l("replaceXRanges",V,z),V.split(/\s+/).map(Q=>A(Q,z)).join(" ")),A=(V,z)=>{V=V.trim();const Q=z.loose?i[d.XRANGELOOSE]:i[d.XRANGE];return V.replace(Q,(X,D,U,C,R,j)=>{l("xRange",V,X,D,U,C,R,j);const N=p(U),f=N||p(C),S=f||p(R),k=S;return D==="="&&k&&(D=""),j=z.includePrerelease?"-0":"",N?D===">"||D==="<"?X="<0.0.0-0":X="*":D&&k?(f&&(C=0),R=0,D===">"?(D=">=",f?(U=+U+1,C=0,R=0):(C=+C+1,R=0)):D==="<="&&(D="<",f?U=+U+1:C=+C+1),D==="<"&&(j="-0"),X=`${D+U}.${C}.${R}${j}`):f?X=`>=${U}.0.0${j} <${+U+1}.0.0-0`:S&&(X=`>=${U}.${C}.0${j} <${U}.${+C+1}.0-0`),l("xRange return",X),X})},M=(V,z)=>(l("replaceStars",V,z),V.trim().replace(i[d.STAR],"")),F=(V,z)=>(l("replaceGTE0",V,z),V.trim().replace(i[z.includePrerelease?d.GTE0PRE:d.GTE0],"")),B=V=>(z,Q,X,D,U,C,R,j,N,f,S,k)=>(p(X)?Q="":p(D)?Q=`>=${X}.0.0${V?"-0":""}`:p(U)?Q=`>=${X}.${D}.0${V?"-0":""}`:C?Q=`>=${Q}`:Q=`>=${Q}${V?"-0":""}`,p(N)?j="":p(f)?j=`<${+N+1}.0.0-0`:p(S)?j=`<${N}.${+f+1}.0-0`:k?j=`<=${N}.${f}.${S}-${k}`:V?j=`<${N}.${f}.${+S+1}-0`:j=`<=${j}`,`${Q} ${j}`.trim()),J=(V,z,Q)=>{for(let X=0;X<V.length;X++)if(!V[X].test(z))return!1;if(z.prerelease.length&&!Q.includePrerelease){for(let X=0;X<V.length;X++)if(l(V[X].semver),V[X].semver!==n.ANY&&V[X].semver.prerelease.length>0){const D=V[X].semver;if(D.major===z.major&&D.minor===z.minor&&D.patch===z.patch)return!0}return!1}return!0};return Ts}var Is,kc;function On(){if(kc)return Is;kc=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(s,$){if($=c($),s instanceof t){if(s.loose===!!$.loose)return s;s=s.value}s=s.trim().split(/\s+/).join(" "),l("comparator",s,$),this.options=$,this.loose=!!$.loose,this.parse(s),this.semver===e?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(s){const $=this.options.loose?r[u.COMPARATORLOOSE]:r[u.COMPARATOR],_=s.match($);if(!_)throw new TypeError(`Invalid comparator: ${s}`);this.operator=_[1]!==void 0?_[1]:"",this.operator==="="&&(this.operator=""),_[2]?this.semver=new a(_[2],this.options.loose):this.semver=e}toString(){return this.value}test(s){if(l("Comparator.test",s,this.options.loose),this.semver===e||s===e)return!0;if(typeof s=="string")try{s=new a(s,this.options)}catch{return!1}return n(s,this.operator,this.semver,this.options)}intersects(s,$){if(!(s instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new i(s.value,$).test(this.value):s.operator===""?s.value===""?!0:new i(this.value,$).test(s.semver):($=c($),$.includePrerelease&&(this.value==="<0.0.0-0"||s.value==="<0.0.0-0")||!$.includePrerelease&&(this.value.startsWith("<0.0.0")||s.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&s.operator.startsWith(">")||this.operator.startsWith("<")&&s.operator.startsWith("<")||this.semver.version===s.semver.version&&this.operator.includes("=")&&s.operator.includes("=")||n(this.semver,"<",s.semver,$)&&this.operator.startsWith(">")&&s.operator.startsWith("<")||n(this.semver,">",s.semver,$)&&this.operator.startsWith("<")&&s.operator.startsWith(">")))}}Is=t;const c=ta(),{safeRe:r,t:u}=bt(),n=_u(),l=Pn(),a=$e(),i=ke();return Is}var Cs,Ac;function Nn(){if(Ac)return Cs;Ac=1;const e=ke();return Cs=(c,r,u)=>{try{r=new e(r,u)}catch{return!1}return r.test(c)},Cs}var js,qc;function Nf(){if(qc)return js;qc=1;const e=ke();return js=(c,r)=>new e(c,r).set.map(u=>u.map(n=>n.value).join(" ").trim().split(" ")),js}var ks,Dc;function Tf(){if(Dc)return ks;Dc=1;const e=$e(),t=ke();return ks=(r,u,n)=>{let l=null,a=null,i=null;try{i=new t(u,n)}catch{return null}return r.forEach(d=>{i.test(d)&&(!l||a.compare(d)===-1)&&(l=d,a=new e(l,n))}),l},ks}var As,Mc;function If(){if(Mc)return As;Mc=1;const e=$e(),t=ke();return As=(r,u,n)=>{let l=null,a=null,i=null;try{i=new t(u,n)}catch{return null}return r.forEach(d=>{i.test(d)&&(!l||a.compare(d)===1)&&(l=d,a=new e(l,n))}),l},As}var qs,Lc;function Cf(){if(Lc)return qs;Lc=1;const e=$e(),t=ke(),c=Rn();return qs=(u,n)=>{u=new t(u,n);let l=new e("0.0.0");if(u.test(l)||(l=new e("0.0.0-0"),u.test(l)))return l;l=null;for(let a=0;a<u.set.length;++a){const i=u.set[a];let d=null;i.forEach(s=>{const $=new e(s.semver.version);switch(s.operator){case">":$.prerelease.length===0?$.patch++:$.prerelease.push(0),$.raw=$.format();case"":case">=":(!d||c($,d))&&(d=$);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${s.operator}`)}}),d&&(!l||c(l,d))&&(l=d)}return l&&u.test(l)?l:null},qs}var Ds,Fc;function jf(){if(Fc)return Ds;Fc=1;const e=ke();return Ds=(c,r)=>{try{return new e(c,r).range||"*"}catch{return null}},Ds}var Ms,Vc;function ia(){if(Vc)return Ms;Vc=1;const e=$e(),t=On(),{ANY:c}=t,r=ke(),u=Nn(),n=Rn(),l=na(),a=aa(),i=sa();return Ms=(s,$,_,g)=>{s=new e(s,g),$=new r($,g);let b,E,h,y,o;switch(_){case">":b=n,E=a,h=l,y=">",o=">=";break;case"<":b=l,E=i,h=n,y="<",o="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(u(s,$,g))return!1;for(let p=0;p<$.set.length;++p){const w=$.set[p];let m=null,v=null;if(w.forEach(P=>{P.semver===c&&(P=new t(">=0.0.0")),m=m||P,v=v||P,b(P.semver,m.semver,g)?m=P:h(P.semver,v.semver,g)&&(v=P)}),m.operator===y||m.operator===o||(!v.operator||v.operator===y)&&E(s,v.semver))return!1;if(v.operator===o&&h(s,v.semver))return!1}return!0},Ms}var Ls,Uc;function kf(){if(Uc)return Ls;Uc=1;const e=ia();return Ls=(c,r,u)=>e(c,r,">",u),Ls}var Fs,zc;function Af(){if(zc)return Fs;zc=1;const e=ia();return Fs=(c,r,u)=>e(c,r,"<",u),Fs}var Vs,Kc;function qf(){if(Kc)return Vs;Kc=1;const e=ke();return Vs=(c,r,u)=>(c=new e(c,u),r=new e(r,u),c.intersects(r,u)),Vs}var Us,Gc;function Df(){if(Gc)return Us;Gc=1;const e=Nn(),t=je();return Us=(c,r,u)=>{const n=[];let l=null,a=null;const i=c.sort((_,g)=>t(_,g,u));for(const _ of i)e(_,r,u)?(a=_,l||(l=_)):(a&&n.push([l,a]),a=null,l=null);l&&n.push([l,null]);const d=[];for(const[_,g]of n)_===g?d.push(_):!g&&_===i[0]?d.push("*"):g?_===i[0]?d.push(`<=${g}`):d.push(`${_} - ${g}`):d.push(`>=${_}`);const s=d.join(" || "),$=typeof r.raw=="string"?r.raw:String(r);return s.length<$.length?s:r},Us}var zs,Hc;function Mf(){if(Hc)return zs;Hc=1;const e=ke(),t=On(),{ANY:c}=t,r=Nn(),u=je(),n=($,_,g={})=>{if($===_)return!0;$=new e($,g),_=new e(_,g);let b=!1;e:for(const E of $.set){for(const h of _.set){const y=i(E,h,g);if(b=b||y!==null,y)continue e}if(b)return!1}return!0},l=[new t(">=0.0.0-0")],a=[new t(">=0.0.0")],i=($,_,g)=>{if($===_)return!0;if($.length===1&&$[0].semver===c){if(_.length===1&&_[0].semver===c)return!0;g.includePrerelease?$=l:$=a}if(_.length===1&&_[0].semver===c){if(g.includePrerelease)return!0;_=a}const b=new Set;let E,h;for(const I of $)I.operator===">"||I.operator===">="?E=d(E,I,g):I.operator==="<"||I.operator==="<="?h=s(h,I,g):b.add(I.semver);if(b.size>1)return null;let y;if(E&&h){if(y=u(E.semver,h.semver,g),y>0)return null;if(y===0&&(E.operator!==">="||h.operator!=="<="))return null}for(const I of b){if(E&&!r(I,String(E),g)||h&&!r(I,String(h),g))return null;for(const A of _)if(!r(I,String(A),g))return!1;return!0}let o,p,w,m,v=h&&!g.includePrerelease&&h.semver.prerelease.length?h.semver:!1,P=E&&!g.includePrerelease&&E.semver.prerelease.length?E.semver:!1;v&&v.prerelease.length===1&&h.operator==="<"&&v.prerelease[0]===0&&(v=!1);for(const I of _){if(m=m||I.operator===">"||I.operator===">=",w=w||I.operator==="<"||I.operator==="<=",E){if(P&&I.semver.prerelease&&I.semver.prerelease.length&&I.semver.major===P.major&&I.semver.minor===P.minor&&I.semver.patch===P.patch&&(P=!1),I.operator===">"||I.operator===">="){if(o=d(E,I,g),o===I&&o!==E)return!1}else if(E.operator===">="&&!r(E.semver,String(I),g))return!1}if(h){if(v&&I.semver.prerelease&&I.semver.prerelease.length&&I.semver.major===v.major&&I.semver.minor===v.minor&&I.semver.patch===v.patch&&(v=!1),I.operator==="<"||I.operator==="<="){if(p=s(h,I,g),p===I&&p!==h)return!1}else if(h.operator==="<="&&!r(h.semver,String(I),g))return!1}if(!I.operator&&(h||E)&&y!==0)return!1}return!(E&&w&&!h&&y!==0||h&&m&&!E&&y!==0||P||v)},d=($,_,g)=>{if(!$)return _;const b=u($.semver,_.semver,g);return b>0?$:b<0||_.operator===">"&&$.operator===">="?_:$},s=($,_,g)=>{if(!$)return _;const b=u($.semver,_.semver,g);return b<0?$:b>0||_.operator==="<"&&$.operator==="<="?_:$};return zs=n,zs}var Ks,Bc;function Lf(){if(Bc)return Ks;Bc=1;const e=bt(),t=Sn(),c=$e(),r=yu(),u=lt(),n=pf(),l=mf(),a=yf(),i=vf(),d=gf(),s=_f(),$=$f(),_=wf(),g=je(),b=Ef(),E=bf(),h=ra(),y=Sf(),o=Pf(),p=Rn(),w=na(),m=vu(),v=gu(),P=sa(),I=aa(),A=_u(),M=Rf(),F=On(),B=ke(),J=Nn(),V=Nf(),z=Tf(),Q=If(),X=Cf(),D=jf(),U=ia(),C=kf(),R=Af(),j=qf(),N=Df(),f=Mf();return Ks={parse:u,valid:n,clean:l,inc:a,diff:i,major:d,minor:s,patch:$,prerelease:_,compare:g,rcompare:b,compareLoose:E,compareBuild:h,sort:y,rsort:o,gt:p,lt:w,eq:m,neq:v,gte:P,lte:I,cmp:A,coerce:M,Comparator:F,Range:B,satisfies:J,toComparators:V,maxSatisfying:z,minSatisfying:Q,minVersion:X,validRange:D,outside:U,gtr:C,ltr:R,intersects:j,simplifyRange:N,subset:f,SemVer:c,re:e.re,src:e.src,tokens:e.t,SEMVER_SPEC_VERSION:t.SEMVER_SPEC_VERSION,RELEASE_TYPES:t.RELEASE_TYPES,compareIdentifiers:r.compareIdentifiers,rcompareIdentifiers:r.rcompareIdentifiers},Ks}var gt={exports:{}},cn={exports:{}},Jc;function Ff(){if(Jc)return cn.exports;Jc=1;const e=(t,c)=>{for(const r of Reflect.ownKeys(c))Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(c,r));return t};return cn.exports=e,cn.exports.default=e,cn.exports}var Xc;function Vf(){if(Xc)return gt.exports;Xc=1;const e=Ff(),t=new WeakMap,c=(r,u={})=>{if(typeof r!="function")throw new TypeError("Expected a function");let n,l=0;const a=r.displayName||r.name||"<anonymous>",i=function(...d){if(t.set(i,++l),l===1)n=r.apply(this,d),r=null;else if(u.throw===!0)throw new Error(`Function \`${a}\` can only be called once`);return n};return e(i,r),t.set(i,l),i};return gt.exports=c,gt.exports.default=c,gt.exports.callCount=r=>{if(!t.has(r))throw new Error(`The given function \`${r.name}\` is not wrapped by the \`onetime\` package`);return t.get(r)},gt.exports}var un=wt.exports,Yc;function Uf(){return Yc||(Yc=1,(function(e,t){var c=un&&un.__classPrivateFieldSet||function(X,D,U,C,R){if(C==="m")throw new TypeError("Private method is not writable");if(C==="a"&&!R)throw new TypeError("Private accessor was defined without a setter");if(typeof D=="function"?X!==D||!R:!D.has(X))throw new TypeError("Cannot write private member to an object whose class did not declare it");return C==="a"?R.call(X,U):R?R.value=U:D.set(X,U),U},r=un&&un.__classPrivateFieldGet||function(X,D,U,C){if(U==="a"&&!C)throw new TypeError("Private accessor was defined without a getter");if(typeof D=="function"?X!==D||!C:!D.has(X))throw new TypeError("Cannot read private member from an object whose class did not declare it");return U==="m"?C:U==="a"?C.call(X):C?C.value:D.get(X)},u,n,l,a,i,d;Object.defineProperty(t,"__esModule",{value:!0});const s=xc,$=Bs,_=Ge,g=bu,b=Su,E=Pu,h=Lu(),y=Hu(),o=Bu(),p=el(),w=sd(),m=df(),v=hf(),P=Lf(),I=Vf(),A="aes-256-cbc",M=()=>Object.create(null),F=X=>X!=null;let B="";try{delete require.cache[__filename],B=_.dirname((n=(u=e.parent)===null||u===void 0?void 0:u.filename)!==null&&n!==void 0?n:".")}catch{}const J=(X,D)=>{const U=new Set(["undefined","symbol","function"]),C=typeof D;if(U.has(C))throw new TypeError(`Setting a value of type \`${C}\` for key \`${X}\` is not allowed as it's not supported by JSON`)},V="__internal__",z=`${V}.migrations.version`;class Q{constructor(D={}){var U;l.set(this,void 0),a.set(this,void 0),i.set(this,void 0),d.set(this,{}),this._deserialize=S=>JSON.parse(S),this._serialize=S=>JSON.stringify(S,void 0,"	");const C={configName:"config",fileExtension:"json",projectSuffix:"nodejs",clearInvalidConfig:!1,accessPropertiesByDotNotation:!0,configFileMode:438,...D},R=I(()=>{const S=y.sync({cwd:B}),k=S&&JSON.parse($.readFileSync(S,"utf8"));return k??{}});if(!C.cwd){if(C.projectName||(C.projectName=R().name),!C.projectName)throw new Error("Project name could not be inferred. Please specify the `projectName` option.");C.cwd=o(C.projectName,{suffix:C.projectSuffix}).config}if(c(this,i,C,"f"),C.schema){if(typeof C.schema!="object")throw new TypeError("The `schema` option must be an object.");const S=new w.default({allErrors:!0,useDefaults:!0});(0,m.default)(S);const k={type:"object",properties:C.schema};c(this,l,S.compile(k),"f");for(const[K,G]of Object.entries(C.schema))G?.default&&(r(this,d,"f")[K]=G.default)}C.defaults&&c(this,d,{...r(this,d,"f"),...C.defaults},"f"),C.serialize&&(this._serialize=C.serialize),C.deserialize&&(this._deserialize=C.deserialize),this.events=new E.EventEmitter,c(this,a,C.encryptionKey,"f");const j=C.fileExtension?`.${C.fileExtension}`:"";this.path=_.resolve(C.cwd,`${(U=C.configName)!==null&&U!==void 0?U:"config"}${j}`);const N=this.store,f=Object.assign(M(),C.defaults,N);this._validate(f);try{b.deepEqual(N,f)}catch{this.store=f}if(C.watch&&this._watch(),C.migrations){if(C.projectVersion||(C.projectVersion=R().version),!C.projectVersion)throw new Error("Project version could not be inferred. Please specify the `projectVersion` option.");this._migrate(C.migrations,C.projectVersion,C.beforeEachMigration)}}get(D,U){if(r(this,i,"f").accessPropertiesByDotNotation)return this._get(D,U);const{store:C}=this;return D in C?C[D]:U}set(D,U){if(typeof D!="string"&&typeof D!="object")throw new TypeError(`Expected \`key\` to be of type \`string\` or \`object\`, got ${typeof D}`);if(typeof D!="object"&&U===void 0)throw new TypeError("Use `delete()` to clear values");if(this._containsReservedKey(D))throw new TypeError(`Please don't use the ${V} key, as it's used to manage this module internal operations.`);const{store:C}=this,R=(j,N)=>{J(j,N),r(this,i,"f").accessPropertiesByDotNotation?h.set(C,j,N):C[j]=N};if(typeof D=="object"){const j=D;for(const[N,f]of Object.entries(j))R(N,f)}else R(D,U);this.store=C}has(D){return r(this,i,"f").accessPropertiesByDotNotation?h.has(this.store,D):D in this.store}reset(...D){for(const U of D)F(r(this,d,"f")[U])&&this.set(U,r(this,d,"f")[U])}delete(D){const{store:U}=this;r(this,i,"f").accessPropertiesByDotNotation?h.delete(U,D):delete U[D],this.store=U}clear(){this.store=M();for(const D of Object.keys(r(this,d,"f")))this.reset(D)}onDidChange(D,U){if(typeof D!="string")throw new TypeError(`Expected \`key\` to be of type \`string\`, got ${typeof D}`);if(typeof U!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof U}`);return this._handleChange(()=>this.get(D),U)}onDidAnyChange(D){if(typeof D!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof D}`);return this._handleChange(()=>this.store,D)}get size(){return Object.keys(this.store).length}get store(){try{const D=$.readFileSync(this.path,r(this,a,"f")?null:"utf8"),U=this._encryptData(D),C=this._deserialize(U);return this._validate(C),Object.assign(M(),C)}catch(D){if(D?.code==="ENOENT")return this._ensureDirectory(),M();if(r(this,i,"f").clearInvalidConfig&&D.name==="SyntaxError")return M();throw D}}set store(D){this._ensureDirectory(),this._validate(D),this._write(D),this.events.emit("change")}*[(l=new WeakMap,a=new WeakMap,i=new WeakMap,d=new WeakMap,Symbol.iterator)](){for(const[D,U]of Object.entries(this.store))yield[D,U]}_encryptData(D){if(!r(this,a,"f"))return D.toString();try{if(r(this,a,"f"))try{if(D.slice(16,17).toString()===":"){const U=D.slice(0,16),C=g.pbkdf2Sync(r(this,a,"f"),U.toString(),1e4,32,"sha512"),R=g.createDecipheriv(A,C,U);D=Buffer.concat([R.update(Buffer.from(D.slice(17))),R.final()]).toString("utf8")}else{const U=g.createDecipher(A,r(this,a,"f"));D=Buffer.concat([U.update(Buffer.from(D)),U.final()]).toString("utf8")}}catch{}}catch{}return D.toString()}_handleChange(D,U){let C=D();const R=()=>{const j=C,N=D();(0,s.isDeepStrictEqual)(N,j)||(C=N,U.call(this,N,j))};return this.events.on("change",R),()=>this.events.removeListener("change",R)}_validate(D){if(!r(this,l,"f")||r(this,l,"f").call(this,D)||!r(this,l,"f").errors)return;const C=r(this,l,"f").errors.map(({instancePath:R,message:j=""})=>`\`${R.slice(1)}\` ${j}`);throw new Error("Config schema violation: "+C.join("; "))}_ensureDirectory(){$.mkdirSync(_.dirname(this.path),{recursive:!0})}_write(D){let U=this._serialize(D);if(r(this,a,"f")){const C=g.randomBytes(16),R=g.pbkdf2Sync(r(this,a,"f"),C.toString(),1e4,32,"sha512"),j=g.createCipheriv(A,R,C);U=Buffer.concat([C,Buffer.from(":"),j.update(Buffer.from(U)),j.final()])}if(process.env.SNAP)$.writeFileSync(this.path,U,{mode:r(this,i,"f").configFileMode});else try{p.writeFileSync(this.path,U,{mode:r(this,i,"f").configFileMode})}catch(C){if(C?.code==="EXDEV"){$.writeFileSync(this.path,U,{mode:r(this,i,"f").configFileMode});return}throw C}}_watch(){this._ensureDirectory(),$.existsSync(this.path)||this._write(M()),process.platform==="win32"?$.watch(this.path,{persistent:!1},v(()=>{this.events.emit("change")},{wait:100})):$.watchFile(this.path,{persistent:!1},v(()=>{this.events.emit("change")},{wait:5e3}))}_migrate(D,U,C){let R=this._get(z,"0.0.0");const j=Object.keys(D).filter(f=>this._shouldPerformMigration(f,R,U));let N={...this.store};for(const f of j)try{C&&C(this,{fromVersion:R,toVersion:f,finalVersion:U,versions:j});const S=D[f];S(this),this._set(z,f),R=f,N={...this.store}}catch(S){throw this.store=N,new Error(`Something went wrong during the migration! Changes applied to the store until this failed migration will be restored. ${S}`)}(this._isVersionInRangeFormat(R)||!P.eq(R,U))&&this._set(z,U)}_containsReservedKey(D){return typeof D=="object"&&Object.keys(D)[0]===V?!0:typeof D!="string"?!1:r(this,i,"f").accessPropertiesByDotNotation?!!D.startsWith(`${V}.`):!1}_isVersionInRangeFormat(D){return P.clean(D)===null}_shouldPerformMigration(D,U,C){return this._isVersionInRangeFormat(D)?U!=="0.0.0"&&P.satisfies(U,D)?!1:P.satisfies(C,D):!(P.lte(D,U)||P.gt(D,C))}_get(D,U){return h.get(this.store,D,U)}_set(D,U){const{store:C}=this;h.set(C,D,U),this.store=C}}t.default=Q,e.exports=Q,e.exports.default=Q})(wt,wt.exports)),wt.exports}var Gs,Qc;function zf(){if(Qc)return Gs;Qc=1;const e=Ge,{app:t,ipcMain:c,ipcRenderer:r,shell:u}=x,n=Uf();let l=!1;const a=()=>{if(!c||!t)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");const d={defaultCwd:t.getPath("userData"),appVersion:t.getVersion()};return l||(c.on("electron-store-get-data",s=>{s.returnValue=d}),l=!0),d};class i extends n{constructor(s){let $,_;if(r){const g=r.sendSync("electron-store-get-data");if(!g)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");({defaultCwd:$,appVersion:_}=g)}else c&&t&&({defaultCwd:$,appVersion:_}=a());s={name:"config",...s},s.projectVersion||(s.projectVersion=_),s.cwd?s.cwd=e.isAbsolute(s.cwd)?s.cwd:e.join($,s.cwd):s.cwd=$,s.configName=s.name,delete s.name,super(s)}static initRenderer(){a()}async openInEditor(){const s=await u.openPath(this.path);if(s)throw new Error(s)}}return Gs=i,Gs}var Kf=zf();const $u=Du(Kf);function Gf(){const{app:e}=require("electron");return e.isPackaged?Ae.join(process.resourcesPath,"build","icon.png"):Ae.join(__dirname,"..","build","icon.png")}function Ne(e){if(!x.Notification.isSupported())return console.warn("Notifications are not supported on this system"),null;const t=new x.Notification({title:e.title,body:e.body,silent:e.silent??!1,icon:Gf(),urgency:e.urgency??"normal",timeoutType:e.timeoutType??"default",actions:e.actions});return t.on("click",()=>{e.onClick?.()}),t.on("action",(c,r)=>{e.onAction?.(r)}),t.show(),t}const _t={pomodoroComplete:e=>Ne({title:"ðŸ… Â¡Pomodoro Completado!",body:"Â¡Excelente trabajo! Es hora de tomar un descanso.",urgency:"normal",onClick:()=>{e.show(),e.focus()}}),shortBreakComplete:e=>Ne({title:"â˜• Descanso Terminado",body:"Es hora de volver al trabajo. Â¡TÃº puedes!",urgency:"normal",onClick:()=>{e.show(),e.focus()}}),longBreakComplete:e=>Ne({title:"ðŸŒ¿ Descanso Largo Terminado",body:"Â¡Recargado! Es hora de empezar una nueva sesiÃ³n.",urgency:"normal",onClick:()=>{e.show(),e.focus()}}),taskDue:(e,t)=>Ne({title:"â° Tarea Vencida",body:`La tarea "${t}" ha vencido.`,urgency:"critical",onClick:()=>{e.show(),e.focus(),e.webContents.send("notification-action","task:view-overdue")}}),taskReminder:(e,t,c)=>Ne({title:"ðŸ“‹ Recordatorio de Tarea",body:`"${t}" vence ${c}.`,urgency:"normal",onClick:()=>{e.show(),e.focus()}}),syncComplete:()=>Ne({title:"âœ… SincronizaciÃ³n Completada",body:"Todos los cambios han sido sincronizados.",urgency:"low",silent:!0}),syncError:e=>Ne({title:"âŒ Error de SincronizaciÃ³n",body:"No se pudieron sincronizar los cambios. Reintentar.",urgency:"critical",onClick:()=>{e.show(),e.focus()}}),achievementUnlocked:e=>Ne({title:"ðŸ† Â¡Logro Desbloqueado!",body:e,urgency:"normal"}),streakMilestone:e=>Ne({title:"ðŸ”¥ Â¡Racha de Productividad!",body:`Â¡Has mantenido tu racha por ${e} dÃ­as consecutivos!`,urgency:"normal"}),custom:(e,t,c)=>Ne({title:e,body:t,...c})},Ke=new $u({defaults:{windowState:{width:1200,height:800,x:void 0,y:void 0,isMaximized:!1},settings:{minimizeToTray:!0,startMinimized:!1,alwaysOnTop:!1,shortcuts:ct},theme:"system",locale:"es"}});function Hf(e){x.ipcMain.handle("minimize-window",()=>{e.minimize()}),x.ipcMain.handle("maximize-window",()=>{e.isMaximized()?e.unmaximize():e.maximize()}),x.ipcMain.handle("close-window",()=>{Ke.get("settings.minimizeToTray",!0)?e.hide():e.close()}),x.ipcMain.handle("is-maximized",()=>e.isMaximized()),x.ipcMain.handle("window:setAlwaysOnTop",(t,c)=>(e.setAlwaysOnTop(c),Ke.set("settings.alwaysOnTop",c),c)),x.ipcMain.handle("window:isAlwaysOnTop",()=>e.isAlwaysOnTop()),x.ipcMain.handle("window:show",()=>{e.show(),e.focus()}),x.ipcMain.handle("window:hide",()=>{e.hide()}),x.ipcMain.handle("tray:update",(t,c)=>{oa(e,c)}),x.ipcMain.handle("notification:show",(t,c)=>Ne(c)!==null),x.ipcMain.handle("notification:pomodoroComplete",()=>{_t.pomodoroComplete(e)}),x.ipcMain.handle("notification:shortBreakComplete",()=>{_t.shortBreakComplete(e)}),x.ipcMain.handle("notification:longBreakComplete",()=>{_t.longBreakComplete(e)}),x.ipcMain.handle("notification:taskDue",(t,c)=>{_t.taskDue(e,c)}),x.ipcMain.handle("notification:taskReminder",(t,c,r)=>{_t.taskReminder(e,c,r)}),x.ipcMain.handle("shortcuts:getAll",()=>ku()),x.ipcMain.handle("shortcuts:getDefaults",()=>ct),x.ipcMain.handle("shortcuts:update",(t,c,r)=>Au(e,c,r)),x.ipcMain.handle("shortcuts:reset",()=>(tu(e,ct),Ke.set("settings.shortcuts",ct),ct)),x.ipcMain.handle("store:get",(t,c)=>Ke.get(c)),x.ipcMain.handle("store:set",(t,c,r)=>(Ke.set(c,r),!0)),x.ipcMain.handle("store:delete",(t,c)=>(Ke.delete(c),!0)),x.ipcMain.handle("store:clear",()=>(Ke.clear(),!0)),x.ipcMain.handle("app:getVersion",()=>x.app.getVersion()),x.ipcMain.handle("app:getName",()=>x.app.getName()),x.ipcMain.handle("app:getPath",(t,c)=>x.app.getPath(c)),x.ipcMain.handle("app:isPackaged",()=>x.app.isPackaged),x.ipcMain.on("timer:stateUpdate",(t,c)=>{oa(e,c)})}function Zc(){return Ke}function Bf(){x.ipcMain.removeAllListeners(),Xs()}const ln=new $u({defaults:{windowState:{width:1200,height:800,isMaximized:!1}}});function Jf(){const e=ln.get("windowState");return e.x!==void 0&&e.y!==void 0&&!x.screen.getAllDisplays().some(r=>{const u=r.bounds;return e.x>=u.x&&e.x<u.x+u.width&&e.y>=u.y&&e.y<u.y+u.height})?{width:e.width,height:e.height,isMaximized:e.isMaximized}:e}function $t(e){if(!e)return;if(e.isMaximized()){const c=ln.get("windowState");ln.set("windowState",{...c,isMaximized:!0})}else{const c=e.getBounds();ln.set("windowState",{x:c.x,y:c.y,width:c.width,height:c.height,isMaximized:!1})}}function Xf(e){let t=null;e.on("resize",()=>{t&&clearTimeout(t),t=setTimeout(()=>{$t(e)},500)});let c=null;e.on("move",()=>{c&&clearTimeout(c),c=setTimeout(()=>{$t(e)},500)}),e.on("maximize",()=>{$t(e)}),e.on("unmaximize",()=>{$t(e)}),e.on("close",()=>{$t(e)})}const wu=x.app;process.env.DIST=Ae.join(__dirname,"../dist");process.env.VITE_PUBLIC=x.app.isPackaged?process.env.DIST:Ae.join(process.env.DIST,"../public");let me=null;const Hs=process.env.VITE_DEV_SERVER_URL;function Yf(){return x.app.isPackaged?Ae.join(process.resourcesPath,"build","icon.png"):Ae.join(process.env.VITE_PUBLIC,"icon.png")}function Eu(){const e=Jf();if(me=new x.BrowserWindow({icon:Yf(),width:e.width,height:e.height,x:e.x,y:e.y,minWidth:800,minHeight:600,show:!1,titleBarStyle:process.platform==="darwin"?"hiddenInset":"default",webPreferences:{preload:Ae.join(__dirname,"preload.js"),nodeIntegration:!1,contextIsolation:!0}}),Xf(me),e.isMaximized&&me.maximize(),Hf(me),qu(me),Cu(me),tu(me),me.on("close",t=>{Zc().get("settings.minimizeToTray",!0)&&!wu.isQuitting&&(t.preventDefault(),me?.hide())}),me.webContents.on("did-finish-load",()=>{me?.webContents.send("main-process-message",new Date().toLocaleString()),Js(me,{timerActive:!1,isPaused:!1,timeRemaining:"25:00",currentTask:null,mode:"IDLE"})}),Hs)console.log("Loading URL:",Hs),me.loadURL(Hs);else{const t=Ae.join(process.env.DIST,"index.html");console.log("Loading file:",t),me.loadFile(t)}me.once("ready-to-show",()=>{Zc().get("settings.startMinimized",!1)||me?.show()}),x.app.isPackaged||me.webContents.openDevTools()}x.app.on("before-quit",()=>{wu.isQuitting=!0});x.app.whenReady().then(Eu);x.app.on("will-quit",()=>{Xs(),ju(),Bf()});x.app.on("window-all-closed",()=>{process.platform!=="darwin"&&x.app.quit()});x.app.on("activate",()=>{x.BrowserWindow.getAllWindows().length===0?Eu():me?.show()});
