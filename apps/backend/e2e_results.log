
> @ordo-todo/backend@1.1.0 test:e2e
> jest --config ./test/jest-e2e.json

FAIL test/app.e2e-spec.ts (5.943 s)
  ÔùÅ AppController (e2e) ÔÇ║ / (GET)

    TypeError: Cannot read properties of undefined (reading 'provide')

       9 |
      10 |   beforeEach(async () => {
    > 11 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      12 |       imports: [AppModule],
      13 |     }).compile();
      14 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (app.e2e-spec.ts:11:42)

FAIL test/tasks-statistics.e2e-spec.ts
  ÔùÅ Test suite failed to run

    PrismaClientInitializationError: `PrismaClient` needs to be constructed with a non-empty, valid `PrismaClientOptions`:

    ```
    new PrismaClient({
      ...
    })
    ```

    or

    ```
    constructor() {
      super({ ... });
    }
    ```

       9 |  */
      10 | exports.prisma = globalForPrisma.prisma ??
    > 11 |     new client_1.PrismaClient();
         |     ^
      12 | if (process.env.NODE_ENV !== "production") {
      13 |     globalForPrisma.prisma = exports.prisma;
      14 | }

                
      at new t (../../../node_modules/@prisma/client/src/runtime/getPrismaClient.ts:259:15)
      at Object.<anonymous> (../../../packages/db/dist/src/client.js:11:5)
      at Object.<anonymous> (../../../packages/db/dist/src/index.js:26:16)
      at Object.<anonymous> (tasks-statistics.e2e-spec.ts:5:1)

FAIL test/projects.e2e-spec.ts (6.382 s)
  ÔùÅ Projects API (e2e) ÔÇ║ POST /projects ÔÇ║ should create a new project

    TypeError: Cannot read properties of undefined (reading 'provide')

      13 |
      14 |   beforeAll(async () => {
    > 15 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      16 |       imports: [AppModule],
      17 |     }).compile();
      18 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (projects.e2e-spec.ts:15:42)

  ÔùÅ Projects API (e2e) ÔÇ║ POST /projects ÔÇ║ should fail without authentication

    TypeError: Cannot read properties of undefined (reading 'provide')

      13 |
      14 |   beforeAll(async () => {
    > 15 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      16 |       imports: [AppModule],
      17 |     }).compile();
      18 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (projects.e2e-spec.ts:15:42)

  ÔùÅ Projects API (e2e) ÔÇ║ POST /projects ÔÇ║ should fail with invalid data

    TypeError: Cannot read properties of undefined (reading 'provide')

      13 |
      14 |   beforeAll(async () => {
    > 15 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      16 |       imports: [AppModule],
      17 |     }).compile();
      18 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (projects.e2e-spec.ts:15:42)

  ÔùÅ Projects API (e2e) ÔÇ║ GET /projects ÔÇ║ should return all projects for a workspace

    TypeError: Cannot read properties of undefined (reading 'provide')

      13 |
      14 |   beforeAll(async () => {
    > 15 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      16 |       imports: [AppModule],
      17 |     }).compile();
      18 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (projects.e2e-spec.ts:15:42)

  ÔùÅ Projects API (e2e) ÔÇ║ GET /projects ÔÇ║ should return all projects for a workspace

    TypeError: Cannot read properties of undefined (reading 'getHttpServer')

      111 |
      112 |     beforeAll(async () => {
    > 113 |       const response = await request(app.getHttpServer())
          |                                          ^
      114 |         .post('/projects')
      115 |         .set('Authorization', `Bearer ${authToken}`)
      116 |         .send({

      at Object.<anonymous> (projects.e2e-spec.ts:113:42)

  ÔùÅ Projects API (e2e) ÔÇ║ GET /projects ÔÇ║ should require workspaceId parameter

    TypeError: Cannot read properties of undefined (reading 'provide')

      13 |
      14 |   beforeAll(async () => {
    > 15 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      16 |       imports: [AppModule],
      17 |     }).compile();
      18 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (projects.e2e-spec.ts:15:42)

  ÔùÅ Projects API (e2e) ÔÇ║ GET /projects ÔÇ║ should require workspaceId parameter

    TypeError: Cannot read properties of undefined (reading 'getHttpServer')

      111 |
      112 |     beforeAll(async () => {
    > 113 |       const response = await request(app.getHttpServer())
          |                                          ^
      114 |         .post('/projects')
      115 |         .set('Authorization', `Bearer ${authToken}`)
      116 |         .send({

      at Object.<anonymous> (projects.e2e-spec.ts:113:42)

  ÔùÅ Projects API (e2e) ÔÇ║ GET /projects/all ÔÇ║ should return all projects for current user

    TypeError: Cannot read properties of undefined (reading 'provide')

      13 |
      14 |   beforeAll(async () => {
    > 15 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      16 |       imports: [AppModule],
      17 |     }).compile();
      18 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (projects.e2e-spec.ts:15:42)

  ÔùÅ Projects API (e2e) ÔÇ║ GET /projects/:id ÔÇ║ should return a specific project

    TypeError: Cannot read properties of undefined (reading 'provide')

      13 |
      14 |   beforeAll(async () => {
    > 15 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      16 |       imports: [AppModule],
      17 |     }).compile();
      18 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (projects.e2e-spec.ts:15:42)

  ÔùÅ Projects API (e2e) ÔÇ║ GET /projects/:id ÔÇ║ should return a specific project

    TypeError: Cannot read properties of undefined (reading 'getHttpServer')

      159 |
      160 |     beforeAll(async () => {
    > 161 |       const response = await request(app.getHttpServer())
          |                                          ^
      162 |         .post('/projects')
      163 |         .set('Authorization', `Bearer ${authToken}`)
      164 |         .send({

      at Object.<anonymous> (projects.e2e-spec.ts:161:42)

  ÔùÅ Projects API (e2e) ÔÇ║ GET /projects/:id ÔÇ║ should return 404 for non-existent project

    TypeError: Cannot read properties of undefined (reading 'provide')

      13 |
      14 |   beforeAll(async () => {
    > 15 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      16 |       imports: [AppModule],
      17 |     }).compile();
      18 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (projects.e2e-spec.ts:15:42)

  ÔùÅ Projects API (e2e) ÔÇ║ GET /projects/:id ÔÇ║ should return 404 for non-existent project

    TypeError: Cannot read properties of undefined (reading 'getHttpServer')

      159 |
      160 |     beforeAll(async () => {
    > 161 |       const response = await request(app.getHttpServer())
          |                                          ^
      162 |         .post('/projects')
      163 |         .set('Authorization', `Bearer ${authToken}`)
      164 |         .send({

      at Object.<anonymous> (projects.e2e-spec.ts:161:42)

  ÔùÅ Projects API (e2e) ÔÇ║ PUT /projects/:id ÔÇ║ should update a project

    TypeError: Cannot read properties of undefined (reading 'provide')

      13 |
      14 |   beforeAll(async () => {
    > 15 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      16 |       imports: [AppModule],
      17 |     }).compile();
      18 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (projects.e2e-spec.ts:15:42)

  ÔùÅ Projects API (e2e) ÔÇ║ PUT /projects/:id ÔÇ║ should update a project

    TypeError: Cannot read properties of undefined (reading 'getHttpServer')

      192 |
      193 |     beforeAll(async () => {
    > 194 |       const response = await request(app.getHttpServer())
          |                                          ^
      195 |         .post('/projects')
      196 |         .set('Authorization', `Bearer ${authToken}`)
      197 |         .send({

      at Object.<anonymous> (projects.e2e-spec.ts:194:42)

  ÔùÅ Projects API (e2e) ÔÇ║ PATCH /projects/:id/archive ÔÇ║ should archive a project

    TypeError: Cannot read properties of undefined (reading 'provide')

      13 |
      14 |   beforeAll(async () => {
    > 15 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      16 |       imports: [AppModule],
      17 |     }).compile();
      18 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (projects.e2e-spec.ts:15:42)

  ÔùÅ Projects API (e2e) ÔÇ║ PATCH /projects/:id/archive ÔÇ║ should archive a project

    TypeError: Cannot read properties of undefined (reading 'getHttpServer')

      222 |
      223 |     beforeAll(async () => {
    > 224 |       const response = await request(app.getHttpServer())
          |                                          ^
      225 |         .post('/projects')
      226 |         .set('Authorization', `Bearer ${authToken}`)
      227 |         .send({

      at Object.<anonymous> (projects.e2e-spec.ts:224:42)

  ÔùÅ Projects API (e2e) ÔÇ║ PATCH /projects/:id/archive ÔÇ║ should unarchive a project

    TypeError: Cannot read properties of undefined (reading 'provide')

      13 |
      14 |   beforeAll(async () => {
    > 15 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      16 |       imports: [AppModule],
      17 |     }).compile();
      18 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (projects.e2e-spec.ts:15:42)

  ÔùÅ Projects API (e2e) ÔÇ║ PATCH /projects/:id/archive ÔÇ║ should unarchive a project

    TypeError: Cannot read properties of undefined (reading 'getHttpServer')

      222 |
      223 |     beforeAll(async () => {
    > 224 |       const response = await request(app.getHttpServer())
          |                                          ^
      225 |         .post('/projects')
      226 |         .set('Authorization', `Bearer ${authToken}`)
      227 |         .send({

      at Object.<anonymous> (projects.e2e-spec.ts:224:42)

  ÔùÅ Projects API (e2e) ÔÇ║ PATCH /projects/:id/complete ÔÇ║ should mark a project as completed

    TypeError: Cannot read properties of undefined (reading 'provide')

      13 |
      14 |   beforeAll(async () => {
    > 15 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      16 |       imports: [AppModule],
      17 |     }).compile();
      18 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (projects.e2e-spec.ts:15:42)

  ÔùÅ Projects API (e2e) ÔÇ║ PATCH /projects/:id/complete ÔÇ║ should mark a project as completed

    TypeError: Cannot read properties of undefined (reading 'getHttpServer')

      257 |
      258 |     beforeAll(async () => {
    > 259 |       const response = await request(app.getHttpServer())
          |                                          ^
      260 |         .post('/projects')
      261 |         .set('Authorization', `Bearer ${authToken}`)
      262 |         .send({

      at Object.<anonymous> (projects.e2e-spec.ts:259:42)

  ÔùÅ Projects API (e2e) ÔÇ║ Trash Functionality ÔÇ║ DELETE /projects/:id ÔÇ║ should soft delete a project

    TypeError: Cannot read properties of undefined (reading 'provide')

      13 |
      14 |   beforeAll(async () => {
    > 15 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      16 |       imports: [AppModule],
      17 |     }).compile();
      18 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (projects.e2e-spec.ts:15:42)

  ÔùÅ Projects API (e2e) ÔÇ║ Trash Functionality ÔÇ║ DELETE /projects/:id ÔÇ║ should soft delete a project

    TypeError: Cannot read properties of undefined (reading 'getHttpServer')

      286 |     beforeAll(async () => {
      287 |       // Create projects for trash tests
    > 288 |       const response1 = await request(app.getHttpServer())
          |                                           ^
      289 |         .post('/projects')
      290 |         .set('Authorization', `Bearer ${authToken}`)
      291 |         .send({

      at Object.<anonymous> (projects.e2e-spec.ts:288:43)

  ÔùÅ Projects API (e2e) ÔÇ║ Trash Functionality ÔÇ║ GET /projects/deleted ÔÇ║ should return deleted projects for a workspace

    TypeError: Cannot read properties of undefined (reading 'provide')

      13 |
      14 |   beforeAll(async () => {
    > 15 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      16 |       imports: [AppModule],
      17 |     }).compile();
      18 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (projects.e2e-spec.ts:15:42)

  ÔùÅ Projects API (e2e) ÔÇ║ Trash Functionality ÔÇ║ GET /projects/deleted ÔÇ║ should return deleted projects for a workspace

    TypeError: Cannot read properties of undefined (reading 'getHttpServer')

      286 |     beforeAll(async () => {
      287 |       // Create projects for trash tests
    > 288 |       const response1 = await request(app.getHttpServer())
          |                                           ^
      289 |         .post('/projects')
      290 |         .set('Authorization', `Bearer ${authToken}`)
      291 |         .send({

      at Object.<anonymous> (projects.e2e-spec.ts:288:43)

  ÔùÅ Projects API (e2e) ÔÇ║ Trash Functionality ÔÇ║ POST /projects/:id/restore ÔÇ║ should restore a deleted project

    TypeError: Cannot read properties of undefined (reading 'provide')

      13 |
      14 |   beforeAll(async () => {
    > 15 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      16 |       imports: [AppModule],
      17 |     }).compile();
      18 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (projects.e2e-spec.ts:15:42)

  ÔùÅ Projects API (e2e) ÔÇ║ Trash Functionality ÔÇ║ POST /projects/:id/restore ÔÇ║ should restore a deleted project

    TypeError: Cannot read properties of undefined (reading 'getHttpServer')

      286 |     beforeAll(async () => {
      287 |       // Create projects for trash tests
    > 288 |       const response1 = await request(app.getHttpServer())
          |                                           ^
      289 |         .post('/projects')
      290 |         .set('Authorization', `Bearer ${authToken}`)
      291 |         .send({

      at Object.<anonymous> (projects.e2e-spec.ts:288:43)

  ÔùÅ Projects API (e2e) ÔÇ║ Trash Functionality ÔÇ║ POST /projects/:id/restore ÔÇ║ should restore a deleted project

    TypeError: Cannot read properties of undefined (reading 'getHttpServer')

      344 |       beforeAll(async () => {
      345 |         // Delete project first
    > 346 |         await request(app.getHttpServer())
          |                           ^
      347 |           .delete(`/projects/${projectIdForRestore}`)
      348 |           .set('Authorization', `Bearer ${authToken}`)
      349 |           .expect(204);

      at Object.<anonymous> (projects.e2e-spec.ts:346:27)

  ÔùÅ Projects API (e2e) ÔÇ║ Trash Functionality ÔÇ║ DELETE /projects/:id/permanent ÔÇ║ should permanently delete a project

    TypeError: Cannot read properties of undefined (reading 'provide')

      13 |
      14 |   beforeAll(async () => {
    > 15 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      16 |       imports: [AppModule],
      17 |     }).compile();
      18 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (projects.e2e-spec.ts:15:42)

  ÔùÅ Projects API (e2e) ÔÇ║ Trash Functionality ÔÇ║ DELETE /projects/:id/permanent ÔÇ║ should permanently delete a project

    TypeError: Cannot read properties of undefined (reading 'getHttpServer')

      286 |     beforeAll(async () => {
      287 |       // Create projects for trash tests
    > 288 |       const response1 = await request(app.getHttpServer())
          |                                           ^
      289 |         .post('/projects')
      290 |         .set('Authorization', `Bearer ${authToken}`)
      291 |         .send({

      at Object.<anonymous> (projects.e2e-spec.ts:288:43)

  ÔùÅ Projects API (e2e) ÔÇ║ Trash Functionality ÔÇ║ DELETE /projects/:id/permanent ÔÇ║ should permanently delete a project

    TypeError: Cannot read properties of undefined (reading 'getHttpServer')

      365 |       beforeAll(async () => {
      366 |         // Delete project first (soft delete)
    > 367 |         await request(app.getHttpServer())
          |                           ^
      368 |           .delete(`/projects/${projectIdForPermanentDelete}`)
      369 |           .set('Authorization', `Bearer ${authToken}`)
      370 |           .expect(204);

      at Object.<anonymous> (projects.e2e-spec.ts:367:27)


  ÔùÅ Test suite failed to run

    TypeError: Cannot read properties of undefined (reading 'task')

      51 |   afterAll(async () => {
      52 |     // Cleanup: Delete test data
    > 53 |     await prisma.task.deleteMany({
         |                  ^
      54 |       where: { ownerId: userId },
      55 |     });
      56 |     await prisma.project.deleteMany({

      at Object.<anonymous> (projects.e2e-spec.ts:53:18)

FAIL test/workspaces-security.e2e-spec.ts
  ÔùÅ Test suite failed to run

    PrismaClientInitializationError: `PrismaClient` needs to be constructed with a non-empty, valid `PrismaClientOptions`:

    ```
    new PrismaClient({
      ...
    })
    ```

    or

    ```
    constructor() {
      super({ ... });
    }
    ```

       9 |  */
      10 | exports.prisma = globalForPrisma.prisma ??
    > 11 |     new client_1.PrismaClient();
         |     ^
      12 | if (process.env.NODE_ENV !== "production") {
      13 |     globalForPrisma.prisma = exports.prisma;
      14 | }

                
      at new t (../../../node_modules/@prisma/client/src/runtime/getPrismaClient.ts:259:15)
      at Object.<anonymous> (../../../packages/db/dist/src/client.js:11:5)
      at Object.<anonymous> (../../../packages/db/dist/src/index.js:26:16)
      at Object.<anonymous> (workspaces-security.e2e-spec.ts:5:1)

FAIL test/collaboration.e2e-spec.ts (7.554 s)
  ÔùÅ Collaboration API (e2e) ÔÇ║ Comments Flow ÔÇ║ User B should be able to comment on the task

    TypeError: Cannot read properties of undefined (reading 'provide')

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      25 |       imports: [AppModule],
      26 |     }).compile();
      27 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (collaboration.e2e-spec.ts:24:42)

  ÔùÅ Collaboration API (e2e) ÔÇ║ Comments Flow ÔÇ║ User A should receive a notification about User B's comment

    TypeError: Cannot read properties of undefined (reading 'provide')

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      25 |       imports: [AppModule],
      26 |     }).compile();
      27 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (collaboration.e2e-spec.ts:24:42)

  ÔùÅ Collaboration API (e2e) ÔÇ║ Comments Flow ÔÇ║ User A should be able to reply (comment)

    TypeError: Cannot read properties of undefined (reading 'provide')

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      25 |       imports: [AppModule],
      26 |     }).compile();
      27 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (collaboration.e2e-spec.ts:24:42)

  ÔùÅ Collaboration API (e2e) ÔÇ║ Comments Flow ÔÇ║ User B should receive a notification about User A's comment

    TypeError: Cannot read properties of undefined (reading 'provide')

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      25 |       imports: [AppModule],
      26 |     }).compile();
      27 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (collaboration.e2e-spec.ts:24:42)

  ÔùÅ Collaboration API (e2e) ÔÇ║ Comments Flow ÔÇ║ User A should be able to mention User B

    TypeError: Cannot read properties of undefined (reading 'provide')

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      25 |       imports: [AppModule],
      26 |     }).compile();
      27 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (collaboration.e2e-spec.ts:24:42)

  ÔùÅ Collaboration API (e2e) ÔÇ║ Notifications Flow ÔÇ║ User A should be able to mark all notifications as read

    TypeError: Cannot read properties of undefined (reading 'provide')

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      25 |       imports: [AppModule],
      26 |     }).compile();
      27 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (collaboration.e2e-spec.ts:24:42)


  ÔùÅ Test suite failed to run

    TypeError: Cannot read properties of undefined (reading 'comment')

      101 |   afterAll(async () => {
      102 |     // Cleanup
    > 103 |     await prisma.comment.deleteMany({ where: { taskId } });
          |                  ^
      104 |     await prisma.notification.deleteMany({
      105 |       where: { OR: [{ userId: userAId }, { userId: userBId }] },
      106 |     });

      at Object.<anonymous> (collaboration.e2e-spec.ts:103:18)

FAIL test/notes.e2e-spec.ts (7.682 s)
  ÔùÅ Notes API (e2e) ÔÇ║ POST /notes ÔÇ║ should create a new note with minimum fields

    TypeError: Cannot read properties of undefined (reading 'provide')

      13 |
      14 |   beforeAll(async () => {
    > 15 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      16 |       imports: [AppModule],
      17 |     }).compile();
      18 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (notes.e2e-spec.ts:15:42)

  ÔùÅ Notes API (e2e) ÔÇ║ POST /notes ÔÇ║ should create a new note with minimum fields

    TypeError: Cannot read properties of undefined (reading 'note')

      69 |   afterEach(async () => {
      70 |     // Clean up notes after each test
    > 71 |     await prisma.note.deleteMany({
         |                  ^
      72 |       where: { authorId: userId },
      73 |     });
      74 |   });

      at Object.<anonymous> (notes.e2e-spec.ts:71:18)

  ÔùÅ Notes API (e2e) ÔÇ║ POST /notes ÔÇ║ should create a new note with all fields

    TypeError: Cannot read properties of undefined (reading 'provide')

      13 |
      14 |   beforeAll(async () => {
    > 15 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      16 |       imports: [AppModule],
      17 |     }).compile();
      18 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (notes.e2e-spec.ts:15:42)

  ÔùÅ Notes API (e2e) ÔÇ║ POST /notes ÔÇ║ should create a new note with all fields

    TypeError: Cannot read properties of undefined (reading 'note')

      69 |   afterEach(async () => {
      70 |     // Clean up notes after each test
    > 71 |     await prisma.note.deleteMany({
         |                  ^
      72 |       where: { authorId: userId },
      73 |     });
      74 |   });

      at Object.<anonymous> (notes.e2e-spec.ts:71:18)

  ÔùÅ Notes API (e2e) ÔÇ║ POST /notes ÔÇ║ should throw error without content

    TypeError: Cannot read properties of undefined (reading 'provide')

      13 |
      14 |   beforeAll(async () => {
    > 15 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      16 |       imports: [AppModule],
      17 |     }).compile();
      18 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (notes.e2e-spec.ts:15:42)

  ÔùÅ Notes API (e2e) ÔÇ║ POST /notes ÔÇ║ should throw error without content

    TypeError: Cannot read properties of undefined (reading 'note')

      69 |   afterEach(async () => {
      70 |     // Clean up notes after each test
    > 71 |     await prisma.note.deleteMany({
         |                  ^
      72 |       where: { authorId: userId },
      73 |     });
      74 |   });

      at Object.<anonymous> (notes.e2e-spec.ts:71:18)

  ÔùÅ Notes API (e2e) ÔÇ║ POST /notes ÔÇ║ should throw error without workspaceId

    TypeError: Cannot read properties of undefined (reading 'provide')

      13 |
      14 |   beforeAll(async () => {
    > 15 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      16 |       imports: [AppModule],
      17 |     }).compile();
      18 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (notes.e2e-spec.ts:15:42)

  ÔùÅ Notes API (e2e) ÔÇ║ POST /notes ÔÇ║ should throw error without workspaceId

    TypeError: Cannot read properties of undefined (reading 'note')

      69 |   afterEach(async () => {
      70 |     // Clean up notes after each test
    > 71 |     await prisma.note.deleteMany({
         |                  ^
      72 |       where: { authorId: userId },
      73 |     });
      74 |   });

      at Object.<anonymous> (notes.e2e-spec.ts:71:18)

  ÔùÅ Notes API (e2e) ÔÇ║ POST /notes ÔÇ║ should throw error with invalid color

    TypeError: Cannot read properties of undefined (reading 'provide')

      13 |
      14 |   beforeAll(async () => {
    > 15 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      16 |       imports: [AppModule],
      17 |     }).compile();
      18 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (notes.e2e-spec.ts:15:42)

  ÔùÅ Notes API (e2e) ÔÇ║ POST /notes ÔÇ║ should throw error with invalid color

    TypeError: Cannot read properties of undefined (reading 'note')

      69 |   afterEach(async () => {
      70 |     // Clean up notes after each test
    > 71 |     await prisma.note.deleteMany({
         |                  ^
      72 |       where: { authorId: userId },
      73 |     });
      74 |   });

      at Object.<anonymous> (notes.e2e-spec.ts:71:18)

  ÔùÅ Notes API (e2e) ÔÇ║ POST /notes ÔÇ║ should throw 401 without auth

    TypeError: Cannot read properties of undefined (reading 'provide')

      13 |
      14 |   beforeAll(async () => {
    > 15 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      16 |       imports: [AppModule],
      17 |     }).compile();
      18 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (notes.e2e-spec.ts:15:42)

  ÔùÅ Notes API (e2e) ÔÇ║ POST /notes ÔÇ║ should throw 401 without auth

    TypeError: Cannot read properties of undefined (reading 'note')

      69 |   afterEach(async () => {
      70 |     // Clean up notes after each test
    > 71 |     await prisma.note.deleteMany({
         |                  ^
      72 |       where: { authorId: userId },
      73 |     });
      74 |   });

      at Object.<anonymous> (notes.e2e-spec.ts:71:18)

  ÔùÅ Notes API (e2e) ÔÇ║ GET /notes ÔÇ║ should return all notes for workspace

    TypeError: Cannot read properties of undefined (reading 'provide')

      13 |
      14 |   beforeAll(async () => {
    > 15 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      16 |       imports: [AppModule],
      17 |     }).compile();
      18 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (notes.e2e-spec.ts:15:42)

  ÔùÅ Notes API (e2e) ÔÇ║ GET /notes ÔÇ║ should return all notes for workspace

    TypeError: Cannot read properties of undefined (reading 'note')

      69 |   afterEach(async () => {
      70 |     // Clean up notes after each test
    > 71 |     await prisma.note.deleteMany({
         |                  ^
      72 |       where: { authorId: userId },
      73 |     });
      74 |   });

      at Object.<anonymous> (notes.e2e-spec.ts:71:18)

  ÔùÅ Notes API (e2e) ÔÇ║ GET /notes ÔÇ║ should return empty array if no notes

    TypeError: Cannot read properties of undefined (reading 'provide')

      13 |
      14 |   beforeAll(async () => {
    > 15 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      16 |       imports: [AppModule],
      17 |     }).compile();
      18 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (notes.e2e-spec.ts:15:42)

  ÔùÅ Notes API (e2e) ÔÇ║ GET /notes ÔÇ║ should return empty array if no notes

    TypeError: Cannot read properties of undefined (reading 'note')

      69 |   afterEach(async () => {
      70 |     // Clean up notes after each test
    > 71 |     await prisma.note.deleteMany({
         |                  ^
      72 |       where: { authorId: userId },
      73 |     });
      74 |   });

      at Object.<anonymous> (notes.e2e-spec.ts:71:18)

  ÔùÅ Notes API (e2e) ÔÇ║ GET /notes ÔÇ║ should throw 401 without auth

    TypeError: Cannot read properties of undefined (reading 'provide')

      13 |
      14 |   beforeAll(async () => {
    > 15 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      16 |       imports: [AppModule],
      17 |     }).compile();
      18 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (notes.e2e-spec.ts:15:42)

  ÔùÅ Notes API (e2e) ÔÇ║ GET /notes ÔÇ║ should throw 401 without auth

    TypeError: Cannot read properties of undefined (reading 'note')

      69 |   afterEach(async () => {
      70 |     // Clean up notes after each test
    > 71 |     await prisma.note.deleteMany({
         |                  ^
      72 |       where: { authorId: userId },
      73 |     });
      74 |   });

      at Object.<anonymous> (notes.e2e-spec.ts:71:18)

  ÔùÅ Notes API (e2e) ÔÇ║ GET /notes/:id ÔÇ║ should return a single note

    TypeError: Cannot read properties of undefined (reading 'provide')

      13 |
      14 |   beforeAll(async () => {
    > 15 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      16 |       imports: [AppModule],
      17 |     }).compile();
      18 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (notes.e2e-spec.ts:15:42)

  ÔùÅ Notes API (e2e) ÔÇ║ GET /notes/:id ÔÇ║ should return a single note

    TypeError: Cannot read properties of undefined (reading 'note')

      69 |   afterEach(async () => {
      70 |     // Clean up notes after each test
    > 71 |     await prisma.note.deleteMany({
         |                  ^
      72 |       where: { authorId: userId },
      73 |     });
      74 |   });

      at Object.<anonymous> (notes.e2e-spec.ts:71:18)

  ÔùÅ Notes API (e2e) ÔÇ║ GET /notes/:id ÔÇ║ should throw 404 if note not found

    TypeError: Cannot read properties of undefined (reading 'provide')

      13 |
      14 |   beforeAll(async () => {
    > 15 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      16 |       imports: [AppModule],
      17 |     }).compile();
      18 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (notes.e2e-spec.ts:15:42)

  ÔùÅ Notes API (e2e) ÔÇ║ GET /notes/:id ÔÇ║ should throw 404 if note not found

    TypeError: Cannot read properties of undefined (reading 'note')

      69 |   afterEach(async () => {
      70 |     // Clean up notes after each test
    > 71 |     await prisma.note.deleteMany({
         |                  ^
      72 |       where: { authorId: userId },
      73 |     });
      74 |   });

      at Object.<anonymous> (notes.e2e-spec.ts:71:18)

  ÔùÅ Notes API (e2e) ÔÇ║ GET /notes/:id ÔÇ║ should throw 401 without auth

    TypeError: Cannot read properties of undefined (reading 'provide')

      13 |
      14 |   beforeAll(async () => {
    > 15 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      16 |       imports: [AppModule],
      17 |     }).compile();
      18 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (notes.e2e-spec.ts:15:42)

  ÔùÅ Notes API (e2e) ÔÇ║ GET /notes/:id ÔÇ║ should throw 401 without auth

    TypeError: Cannot read properties of undefined (reading 'note')

      69 |   afterEach(async () => {
      70 |     // Clean up notes after each test
    > 71 |     await prisma.note.deleteMany({
         |                  ^
      72 |       where: { authorId: userId },
      73 |     });
      74 |   });

      at Object.<anonymous> (notes.e2e-spec.ts:71:18)

  ÔùÅ Notes API (e2e) ÔÇ║ PATCH /notes/:id ÔÇ║ should update note content

    TypeError: Cannot read properties of undefined (reading 'provide')

      13 |
      14 |   beforeAll(async () => {
    > 15 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      16 |       imports: [AppModule],
      17 |     }).compile();
      18 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (notes.e2e-spec.ts:15:42)

  ÔùÅ Notes API (e2e) ÔÇ║ PATCH /notes/:id ÔÇ║ should update note content

    TypeError: Cannot read properties of undefined (reading 'note')

      69 |   afterEach(async () => {
      70 |     // Clean up notes after each test
    > 71 |     await prisma.note.deleteMany({
         |                  ^
      72 |       where: { authorId: userId },
      73 |     });
      74 |   });

      at Object.<anonymous> (notes.e2e-spec.ts:71:18)

  ÔùÅ Notes API (e2e) ÔÇ║ PATCH /notes/:id ÔÇ║ should update only specified fields

    TypeError: Cannot read properties of undefined (reading 'provide')

      13 |
      14 |   beforeAll(async () => {
    > 15 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      16 |       imports: [AppModule],
      17 |     }).compile();
      18 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (notes.e2e-spec.ts:15:42)

  ÔùÅ Notes API (e2e) ÔÇ║ PATCH /notes/:id ÔÇ║ should update only specified fields

    TypeError: Cannot read properties of undefined (reading 'note')

      69 |   afterEach(async () => {
      70 |     // Clean up notes after each test
    > 71 |     await prisma.note.deleteMany({
         |                  ^
      72 |       where: { authorId: userId },
      73 |     });
      74 |   });

      at Object.<anonymous> (notes.e2e-spec.ts:71:18)

  ÔùÅ Notes API (e2e) ÔÇ║ PATCH /notes/:id ÔÇ║ should update multiple fields

    TypeError: Cannot read properties of undefined (reading 'provide')

      13 |
      14 |   beforeAll(async () => {
    > 15 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      16 |       imports: [AppModule],
      17 |     }).compile();
      18 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (notes.e2e-spec.ts:15:42)

  ÔùÅ Notes API (e2e) ÔÇ║ PATCH /notes/:id ÔÇ║ should update multiple fields

    TypeError: Cannot read properties of undefined (reading 'note')

      69 |   afterEach(async () => {
      70 |     // Clean up notes after each test
    > 71 |     await prisma.note.deleteMany({
         |                  ^
      72 |       where: { authorId: userId },
      73 |     });
      74 |   });

      at Object.<anonymous> (notes.e2e-spec.ts:71:18)

  ÔùÅ Notes API (e2e) ÔÇ║ PATCH /notes/:id ÔÇ║ should throw 404 if note not found

    TypeError: Cannot read properties of undefined (reading 'provide')

      13 |
      14 |   beforeAll(async () => {
    > 15 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      16 |       imports: [AppModule],
      17 |     }).compile();
      18 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (notes.e2e-spec.ts:15:42)

  ÔùÅ Notes API (e2e) ÔÇ║ PATCH /notes/:id ÔÇ║ should throw 404 if note not found

    TypeError: Cannot read properties of undefined (reading 'note')

      69 |   afterEach(async () => {
      70 |     // Clean up notes after each test
    > 71 |     await prisma.note.deleteMany({
         |                  ^
      72 |       where: { authorId: userId },
      73 |     });
      74 |   });

      at Object.<anonymous> (notes.e2e-spec.ts:71:18)

  ÔùÅ Notes API (e2e) ÔÇ║ DELETE /notes/:id ÔÇ║ should delete note

    TypeError: Cannot read properties of undefined (reading 'provide')

      13 |
      14 |   beforeAll(async () => {
    > 15 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      16 |       imports: [AppModule],
      17 |     }).compile();
      18 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (notes.e2e-spec.ts:15:42)

  ÔùÅ Notes API (e2e) ÔÇ║ DELETE /notes/:id ÔÇ║ should delete note

    TypeError: Cannot read properties of undefined (reading 'note')

      69 |   afterEach(async () => {
      70 |     // Clean up notes after each test
    > 71 |     await prisma.note.deleteMany({
         |                  ^
      72 |       where: { authorId: userId },
      73 |     });
      74 |   });

      at Object.<anonymous> (notes.e2e-spec.ts:71:18)

  ÔùÅ Notes API (e2e) ÔÇ║ DELETE /notes/:id ÔÇ║ should throw 404 if note not found

    TypeError: Cannot read properties of undefined (reading 'provide')

      13 |
      14 |   beforeAll(async () => {
    > 15 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      16 |       imports: [AppModule],
      17 |     }).compile();
      18 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (notes.e2e-spec.ts:15:42)

  ÔùÅ Notes API (e2e) ÔÇ║ DELETE /notes/:id ÔÇ║ should throw 404 if note not found

    TypeError: Cannot read properties of undefined (reading 'note')

      69 |   afterEach(async () => {
      70 |     // Clean up notes after each test
    > 71 |     await prisma.note.deleteMany({
         |                  ^
      72 |       where: { authorId: userId },
      73 |     });
      74 |   });

      at Object.<anonymous> (notes.e2e-spec.ts:71:18)


  ÔùÅ Test suite failed to run

    TypeError: Cannot read properties of undefined (reading 'note')

      51 |   afterAll(async () => {
      52 |     // Cleanup: Delete test data
    > 53 |     await prisma.note.deleteMany({
         |                  ^
      54 |       where: { authorId: userId },
      55 |     });
      56 |     await prisma.workspaceMember.deleteMany({

      at Object.<anonymous> (notes.e2e-spec.ts:53:18)

FAIL test/api-client-endpoints.e2e-spec.ts
  ÔùÅ Test suite failed to run

    PrismaClientInitializationError: `PrismaClient` needs to be constructed with a non-empty, valid `PrismaClientOptions`:

    ```
    new PrismaClient({
      ...
    })
    ```

    or

    ```
    constructor() {
      super({ ... });
    }
    ```

       9 |  */
      10 | exports.prisma = globalForPrisma.prisma ??
    > 11 |     new client_1.PrismaClient();
         |     ^
      12 | if (process.env.NODE_ENV !== "production") {
      13 |     globalForPrisma.prisma = exports.prisma;
      14 | }

                
      at new t (../../../node_modules/@prisma/client/src/runtime/getPrismaClient.ts:259:15)
      at Object.<anonymous> (../../../packages/db/dist/src/client.js:11:5)
      at Object.<anonymous> (../../../packages/db/dist/src/index.js:26:16)
      at Object.<anonymous> (api-client-endpoints.e2e-spec.ts:5:1)

FAIL test/tasks.e2e-spec.ts (7.768 s)
  ÔùÅ Tasks API (e2e) ÔÇ║ POST /tasks ÔÇ║ should create a new task

    TypeError: Cannot read properties of undefined (reading 'provide')

      14 |
      15 |   beforeAll(async () => {
    > 16 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      17 |       imports: [AppModule],
      18 |     }).compile();
      19 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (tasks.e2e-spec.ts:16:42)

  ÔùÅ Tasks API (e2e) ÔÇ║ POST /tasks ÔÇ║ should fail without authentication

    TypeError: Cannot read properties of undefined (reading 'provide')

      14 |
      15 |   beforeAll(async () => {
    > 16 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      17 |       imports: [AppModule],
      18 |     }).compile();
      19 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (tasks.e2e-spec.ts:16:42)

  ÔùÅ Tasks API (e2e) ÔÇ║ POST /tasks ÔÇ║ should fail with invalid data

    TypeError: Cannot read properties of undefined (reading 'provide')

      14 |
      15 |   beforeAll(async () => {
    > 16 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      17 |       imports: [AppModule],
      18 |     }).compile();
      19 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (tasks.e2e-spec.ts:16:42)

  ÔùÅ Tasks API (e2e) ÔÇ║ GET /tasks ÔÇ║ should return all tasks for the user

    TypeError: Cannot read properties of undefined (reading 'provide')

      14 |
      15 |   beforeAll(async () => {
    > 16 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      17 |       imports: [AppModule],
      18 |     }).compile();
      19 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (tasks.e2e-spec.ts:16:42)

  ÔùÅ Tasks API (e2e) ÔÇ║ GET /tasks ÔÇ║ should return all tasks for the user

    TypeError: Cannot read properties of undefined (reading 'getHttpServer')

      125 |
      126 |     beforeAll(async () => {
    > 127 |       const response = await request(app.getHttpServer())
          |                                          ^
      128 |         .post('/tasks')
      129 |         .set('Authorization', `Bearer ${authToken}`)
      130 |         .send({

      at Object.<anonymous> (tasks.e2e-spec.ts:127:42)

  ÔùÅ Tasks API (e2e) ÔÇ║ GET /tasks ÔÇ║ should filter tasks by projectId

    TypeError: Cannot read properties of undefined (reading 'provide')

      14 |
      15 |   beforeAll(async () => {
    > 16 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      17 |       imports: [AppModule],
      18 |     }).compile();
      19 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (tasks.e2e-spec.ts:16:42)

  ÔùÅ Tasks API (e2e) ÔÇ║ GET /tasks ÔÇ║ should filter tasks by projectId

    TypeError: Cannot read properties of undefined (reading 'getHttpServer')

      125 |
      126 |     beforeAll(async () => {
    > 127 |       const response = await request(app.getHttpServer())
          |                                          ^
      128 |         .post('/tasks')
      129 |         .set('Authorization', `Bearer ${authToken}`)
      130 |         .send({

      at Object.<anonymous> (tasks.e2e-spec.ts:127:42)

  ÔùÅ Tasks API (e2e) ÔÇ║ GET /tasks/:id ÔÇ║ should return a specific task

    TypeError: Cannot read properties of undefined (reading 'provide')

      14 |
      15 |   beforeAll(async () => {
    > 16 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      17 |       imports: [AppModule],
      18 |     }).compile();
      19 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (tasks.e2e-spec.ts:16:42)

  ÔùÅ Tasks API (e2e) ÔÇ║ GET /tasks/:id ÔÇ║ should return a specific task

    TypeError: Cannot read properties of undefined (reading 'getHttpServer')

      164 |
      165 |     beforeAll(async () => {
    > 166 |       const response = await request(app.getHttpServer())
          |                                          ^
      167 |         .post('/tasks')
      168 |         .set('Authorization', `Bearer ${authToken}`)
      169 |         .send({

      at Object.<anonymous> (tasks.e2e-spec.ts:166:42)

  ÔùÅ Tasks API (e2e) ÔÇ║ GET /tasks/:id ÔÇ║ should return 404 for non-existent task

    TypeError: Cannot read properties of undefined (reading 'provide')

      14 |
      15 |   beforeAll(async () => {
    > 16 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      17 |       imports: [AppModule],
      18 |     }).compile();
      19 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (tasks.e2e-spec.ts:16:42)

  ÔùÅ Tasks API (e2e) ÔÇ║ GET /tasks/:id ÔÇ║ should return 404 for non-existent task

    TypeError: Cannot read properties of undefined (reading 'getHttpServer')

      164 |
      165 |     beforeAll(async () => {
    > 166 |       const response = await request(app.getHttpServer())
          |                                          ^
      167 |         .post('/tasks')
      168 |         .set('Authorization', `Bearer ${authToken}`)
      169 |         .send({

      at Object.<anonymous> (tasks.e2e-spec.ts:166:42)

  ÔùÅ Tasks API (e2e) ÔÇ║ PUT /tasks/:id ÔÇ║ should update a task

    TypeError: Cannot read properties of undefined (reading 'provide')

      14 |
      15 |   beforeAll(async () => {
    > 16 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      17 |       imports: [AppModule],
      18 |     }).compile();
      19 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (tasks.e2e-spec.ts:16:42)

  ÔùÅ Tasks API (e2e) ÔÇ║ PUT /tasks/:id ÔÇ║ should update a task

    TypeError: Cannot read properties of undefined (reading 'getHttpServer')

      197 |
      198 |     beforeAll(async () => {
    > 199 |       const response = await request(app.getHttpServer())
          |                                          ^
      200 |         .post('/tasks')
      201 |         .set('Authorization', `Bearer ${authToken}`)
      202 |         .send({

      at Object.<anonymous> (tasks.e2e-spec.ts:199:42)

  ÔùÅ Tasks API (e2e) ÔÇ║ PATCH /tasks/:id/complete ÔÇ║ should mark a task as completed

    TypeError: Cannot read properties of undefined (reading 'provide')

      14 |
      15 |   beforeAll(async () => {
    > 16 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      17 |       imports: [AppModule],
      18 |     }).compile();
      19 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (tasks.e2e-spec.ts:16:42)

  ÔùÅ Tasks API (e2e) ÔÇ║ PATCH /tasks/:id/complete ÔÇ║ should mark a task as completed

    TypeError: Cannot read properties of undefined (reading 'getHttpServer')

      227 |
      228 |     beforeAll(async () => {
    > 229 |       const response = await request(app.getHttpServer())
          |                                          ^
      230 |         .post('/tasks')
      231 |         .set('Authorization', `Bearer ${authToken}`)
      232 |         .send({

      at Object.<anonymous> (tasks.e2e-spec.ts:229:42)

  ÔùÅ Tasks API (e2e) ÔÇ║ DELETE /tasks/:id ÔÇ║ should soft delete a task

    TypeError: Cannot read properties of undefined (reading 'provide')

      14 |
      15 |   beforeAll(async () => {
    > 16 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      17 |       imports: [AppModule],
      18 |     }).compile();
      19 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (tasks.e2e-spec.ts:16:42)

  ÔùÅ Tasks API (e2e) ÔÇ║ DELETE /tasks/:id ÔÇ║ should soft delete a task

    TypeError: Cannot read properties of undefined (reading 'getHttpServer')

      252 |
      253 |     beforeAll(async () => {
    > 254 |       const response = await request(app.getHttpServer())
          |                                          ^
      255 |         .post('/tasks')
      256 |         .set('Authorization', `Bearer ${authToken}`)
      257 |         .send({

      at Object.<anonymous> (tasks.e2e-spec.ts:254:42)

  ÔùÅ Tasks API (e2e) ÔÇ║ Trash Functionality ÔÇ║ GET /tasks/deleted ÔÇ║ should return deleted tasks for a project

    TypeError: Cannot read properties of undefined (reading 'provide')

      14 |
      15 |   beforeAll(async () => {
    > 16 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      17 |       imports: [AppModule],
      18 |     }).compile();
      19 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (tasks.e2e-spec.ts:16:42)

  ÔùÅ Tasks API (e2e) ÔÇ║ Trash Functionality ÔÇ║ GET /tasks/deleted ÔÇ║ should return deleted tasks for a project

    TypeError: Cannot read properties of undefined (reading 'getHttpServer')

      277 |     beforeAll(async () => {
      278 |       // Create tasks for trash tests
    > 279 |       const response1 = await request(app.getHttpServer())
          |                                           ^
      280 |         .post('/tasks')
      281 |         .set('Authorization', `Bearer ${authToken}`)
      282 |         .send({

      at Object.<anonymous> (tasks.e2e-spec.ts:279:43)

  ÔùÅ Tasks API (e2e) ÔÇ║ Trash Functionality ÔÇ║ POST /tasks/:id/restore ÔÇ║ should restore a deleted task

    TypeError: Cannot read properties of undefined (reading 'provide')

      14 |
      15 |   beforeAll(async () => {
    > 16 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      17 |       imports: [AppModule],
      18 |     }).compile();
      19 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (tasks.e2e-spec.ts:16:42)

  ÔùÅ Tasks API (e2e) ÔÇ║ Trash Functionality ÔÇ║ POST /tasks/:id/restore ÔÇ║ should restore a deleted task

    TypeError: Cannot read properties of undefined (reading 'getHttpServer')

      277 |     beforeAll(async () => {
      278 |       // Create tasks for trash tests
    > 279 |       const response1 = await request(app.getHttpServer())
          |                                           ^
      280 |         .post('/tasks')
      281 |         .set('Authorization', `Bearer ${authToken}`)
      282 |         .send({

      at Object.<anonymous> (tasks.e2e-spec.ts:279:43)

  ÔùÅ Tasks API (e2e) ÔÇ║ Trash Functionality ÔÇ║ POST /tasks/:id/restore ÔÇ║ should restore a deleted task

    TypeError: Cannot read properties of undefined (reading 'getHttpServer')

      332 |       beforeAll(async () => {
      333 |         // Delete task first
    > 334 |         await request(app.getHttpServer())
          |                           ^
      335 |           .delete(`/tasks/${taskIdForRestore}`)
      336 |           .set('Authorization', `Bearer ${authToken}`)
      337 |           .expect(204);

      at Object.<anonymous> (tasks.e2e-spec.ts:334:27)

  ÔùÅ Tasks API (e2e) ÔÇ║ Trash Functionality ÔÇ║ DELETE /tasks/:id/permanent ÔÇ║ should permanently delete a task

    TypeError: Cannot read properties of undefined (reading 'provide')

      14 |
      15 |   beforeAll(async () => {
    > 16 |     const moduleFixture: TestingModule = await Test.createTestingModule({
         |                                          ^
      17 |       imports: [AppModule],
      18 |     }).compile();
      19 |

      at Module.isCustomProvider (../../../node_modules/@nestjs/core/injector/module.js:185:52)
      at Module.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/module.js:285:18)
      at NestContainer.addExportedProviderOrModule (../../../node_modules/@nestjs/core/injector/container.js:182:19)
      at DependenciesScanner.insertExportedProviderOrModule (../../../node_modules/@nestjs/core/scanner.js:293:24)
      at ../../../node_modules/@nestjs/core/scanner.js:152:50
          at Array.forEach (<anonymous>)
      at DependenciesScanner.reflectExports (../../../node_modules/@nestjs/core/scanner.js:152:17)
      at DependenciesScanner.scanModulesForDependencies (../../../node_modules/@nestjs/core/scanner.js:105:18)
      at DependenciesScanner.scan (../../../node_modules/@nestjs/core/scanner.js:32:9)
      at TestingModuleBuilder.compile (../../../node_modules/@nestjs/testing/testing-module.builder.js:70:9)
      at Object.<anonymous> (tasks.e2e-spec.ts:16:42)

  ÔùÅ Tasks API (e2e) ÔÇ║ Trash Functionality ÔÇ║ DELETE /tasks/:id/permanent ÔÇ║ should permanently delete a task

    TypeError: Cannot read properties of undefined (reading 'getHttpServer')

      277 |     beforeAll(async () => {
      278 |       // Create tasks for trash tests
    > 279 |       const response1 = await request(app.getHttpServer())
          |                                           ^
      280 |         .post('/tasks')
      281 |         .set('Authorization', `Bearer ${authToken}`)
      282 |         .send({

      at Object.<anonymous> (tasks.e2e-spec.ts:279:43)

  ÔùÅ Tasks API (e2e) ÔÇ║ Trash Functionality ÔÇ║ DELETE /tasks/:id/permanent ÔÇ║ should permanently delete a task

    TypeError: Cannot read properties of undefined (reading 'getHttpServer')

      353 |       beforeAll(async () => {
      354 |         // Delete task first (soft delete)
    > 355 |         await request(app.getHttpServer())
          |                           ^
      356 |           .delete(`/tasks/${taskIdForPermanentDelete}`)
      357 |           .set('Authorization', `Bearer ${authToken}`)
      358 |           .expect(204);

      at Object.<anonymous> (tasks.e2e-spec.ts:355:27)


  ÔùÅ Test suite failed to run

    TypeError: Cannot read properties of undefined (reading 'task')

      63 |   afterAll(async () => {
      64 |     // Cleanup: Delete test data
    > 65 |     await prisma.task.deleteMany({
         |                  ^
      66 |       where: { ownerId: userId },
      67 |     });
      68 |     await prisma.project.deleteMany({

      at Object.<anonymous> (tasks.e2e-spec.ts:65:18)

Test Suites: 8 failed, 8 total
Tests:       54 failed, 54 total
Snapshots:   0 total
Time:        8.814 s, estimated 12 s
Ran all test suites.
npm error Lifecycle script `test:e2e` failed with error:
npm error code 1
npm error path C:\Users\tfurt\source\repos\ordo-todo\apps\backend
npm error workspace @ordo-todo/backend@1.1.0
npm error location C:\Users\tfurt\source\repos\ordo-todo\apps\backend
npm error command failed
npm error command C:\WINDOWS\system32\cmd.exe /d /s /c jest --config ./test/jest-e2e.json
