"use strict";var ge=Object.defineProperty;var kr=Object.getOwnPropertyDescriptor;var Rr=Object.getOwnPropertyNames;var Sr=Object.prototype.hasOwnProperty;var vr=(r,e)=>{for(var t in e)ge(r,t,{get:e[t],enumerable:!0})},Mr=(r,e,t,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Rr(e))!Sr.call(r,s)&&s!==t&&ge(r,s,{get:()=>e[s],enumerable:!(o=kr(e,s))||o.enumerable});return r};var Cr=r=>Mr(ge({},"__esModule",{value:!0}),r);var rn={};vr(rn,{AIProfile:()=>yt,AcceptInvitationUseCase:()=>Ge,Achievement:()=>sr,AddMemberToWorkspaceUseCase:()=>Oe,AddMentionUseCase:()=>Ct,ArchiveProjectUseCase:()=>Xe,ArchiveWorkspaceUseCase:()=>He,AssignTagToTaskUseCase:()=>it,Attachment:()=>ne,BlogComment:()=>or,BlogPost:()=>rr,COMMENT_LIMITS:()=>E,CalculateFocusScoreUseCase:()=>ht,ChangeUserName:()=>$,ChangelogEntry:()=>Jt,ChatConversation:()=>ir,ChatMessage:()=>ar,Comment:()=>se,CompleteTaskUseCase:()=>Re,ContactSubmission:()=>Qt,CountUnreadNotificationsUseCase:()=>Yt,CreateAttachmentUseCase:()=>Ot,CreateAuditLogUseCase:()=>Ve,CreateCommentUseCase:()=>kt,CreateNoteUseCase:()=>Dt,CreateNotificationUseCase:()=>Gt,CreateProjectUseCase:()=>qe,CreateTagUseCase:()=>nt,CreateTaskUseCase:()=>ke,CreateWorkflowUseCase:()=>tt,CreateWorkspaceUseCase:()=>Ne,CustomField:()=>gr,CustomFieldType:()=>Pr,CustomFieldValue:()=>hr,DEFAULT_POMODORO_SETTINGS:()=>yr,DailyMetrics:()=>M,DeleteAttachmentUseCase:()=>Lt,DeleteCommentUseCase:()=>St,DeleteNoteUseCase:()=>Tt,DeleteNotificationUseCase:()=>Xt,DeleteProjectUseCase:()=>Ye,DeleteWorkflowUseCase:()=>st,Email:()=>N,Entity:()=>a,FAQ:()=>mr,FILE_LIMITS:()=>_,FindAllNotesUseCase:()=>Pt,FindNoteUseCase:()=>C,GenerateWeeklyReportUseCase:()=>xt,GetAttachmentByIdUseCase:()=>Bt,GetAttachmentsByTaskUseCase:()=>Ut,GetAttachmentsByUserUseCase:()=>Wt,GetCommentsByTaskUseCase:()=>vt,GetCommentsByUserUseCase:()=>Mt,GetDailyMetricsUseCase:()=>ft,GetDeletedProjectsUseCase:()=>et,GetDeletedTasksUseCase:()=>Ce,GetDeletedWorkspacesUseCase:()=>Be,GetNotificationByIdUseCase:()=>qt,GetNotificationsByTypeUseCase:()=>zt,GetOptimalScheduleUseCase:()=>At,GetUnreadNotificationsUseCase:()=>Kt,GetWorkspaceAuditLogsUseCase:()=>Ke,GetWorkspaceSettingsUseCase:()=>$e,Habit:()=>Et,HashPassword:()=>O,Id:()=>H,InviteMemberUseCase:()=>je,KBArticle:()=>fr,KBCategory:()=>lr,KeyResult:()=>ur,KeyResultTask:()=>dr,LearnFromSessionUseCase:()=>wt,ListWorkflowsUseCase:()=>rt,MEMBER_ROLES:()=>De,MarkAllAsReadUseCase:()=>$t,MarkAsReadUseCase:()=>Ft,MarkAsUnreadUseCase:()=>Vt,MarkAsUploadedUseCase:()=>_t,MockAIService:()=>le,NOTIFICATION_LIMITS:()=>k,NewsletterSubscriber:()=>Zt,Note:()=>oe,Notification:()=>ie,NotificationType:()=>Ht,Objective:()=>cr,PAGINATION_LIMITS:()=>Qr,PRIORITY_VALUES:()=>j,PROJECT_COLORS:()=>Nr,PROJECT_LIMITS:()=>P,PROJECT_STATUS:()=>Br,PROJECT_STATUS_VALUES:()=>Hr,PauseTimerUseCase:()=>dt,PermanentDeleteProjectUseCase:()=>Qe,PermanentDeleteTaskUseCase:()=>Me,PermanentDeleteWorkspaceUseCase:()=>We,PersonName:()=>T,PredictTaskDurationUseCase:()=>It,ProductivityReport:()=>re,Project:()=>Q,RegisterUser:()=>V,RemoveMemberFromWorkspaceUseCase:()=>_e,RemoveMentionUseCase:()=>Nt,RemoveTagFromTaskUseCase:()=>at,RequiredString:()=>he,ResourceType:()=>jt,RestoreProjectUseCase:()=>Ze,RestoreTaskUseCase:()=>ve,RestoreWorkspaceUseCase:()=>Ue,ResumeTimerUseCase:()=>mt,RoadmapItem:()=>er,RoadmapVote:()=>tr,SoftDeleteProjectUseCase:()=>Je,SoftDeleteTaskUseCase:()=>Se,SoftDeleteWorkspaceUseCase:()=>Le,StartTimerUseCase:()=>ct,StopTimerUseCase:()=>ut,SwitchTaskUseCase:()=>lt,TAG_COLORS:()=>Or,TAG_LIMITS:()=>L,TASK_LIMITS:()=>w,TASK_PRIORITIES:()=>pe,TASK_STATUS:()=>ce,TASK_STATUS_VALUES:()=>G,TIMER_LIMITS:()=>qr,TIMER_MODES:()=>F,TIMER_MODE_VALUES:()=>Kr,Tag:()=>te,Task:()=>z,TaskTemplate:()=>pr,TimeSession:()=>v,USER_LIMITS:()=>h,UpdateCommentUseCase:()=>Rt,UpdateDailyMetricsUseCase:()=>gt,UpdateNoteUseCase:()=>bt,UpdateProjectUseCase:()=>ze,UpdateTagUseCase:()=>pt,UpdateWorkflowUseCase:()=>ot,UpdateWorkspaceSettingsUseCase:()=>Fe,User:()=>W,UserAchievement:()=>nr,UserByEmail:()=>K,UserLogin:()=>q,WORKSPACE_COLORS:()=>_r,WORKSPACE_LIMITS:()=>R,WORKSPACE_TYPES:()=>Ee,Workflow:()=>ee,Workspace:()=>X,WorkspaceAuditLog:()=>J,WorkspaceInvitation:()=>Z,WorkspaceMember:()=>S,WorkspaceSettings:()=>Y,acceptInvitationSchema:()=>_s,addAlpha:()=>ls,addDays:()=>mo,addHours:()=>lo,addMinutes:()=>fo,aiService:()=>en,archiveProjectSchema:()=>Rs,assignTagsSchema:()=>js,bulkUpdateTasksSchema:()=>Ds,calculateAverageCompletionTime:()=>rs,calculateAverageTime:()=>vo,calculateBurndownRate:()=>ns,calculateCompletionRate:()=>Qo,calculateEfficiency:()=>ps,calculateEstimatedCompletion:()=>ss,calculateFocusScore:()=>ts,calculatePercentile:()=>us,calculateProductivityScore:()=>es,calculateProgress:()=>Zo,calculateProjectHealth:()=>is,calculateStreak:()=>cs,calculateTimeUtilization:()=>as,calculateTotalTimeWorked:()=>So,calculateVelocity:()=>os,calculateVoteWeight:()=>tn,calculateWeightedAverage:()=>ds,camelToTitle:()=>Uo,capitalize:()=>we,capitalizeWords:()=>Lo,categorizeTasksByAvailability:()=>yo,changePasswordSchema:()=>Vs,commentBaseSchema:()=>Pe,commentFilterSchema:()=>Zs,countWords:()=>Vo,createCommentSchema:()=>Ys,createProjectSchema:()=>Ts,createTagSchema:()=>Ws,createTaskSchema:()=>Is,createWorkspaceSchema:()=>vs,darkenColor:()=>Ie,duplicateProjectSchema:()=>Ss,endOfDay:()=>po,endOfWeek:()=>uo,formatDate:()=>oo,formatDateShort:()=>ye,formatDuration:()=>Io,formatDurationFromSeconds:()=>xo,formatFileSize:()=>eo,formatNumber:()=>qo,formatRelativeTime:()=>so,formatScheduledDateTime:()=>Ao,formatTimeOfDay:()=>Mo,formatTimerDisplay:()=>Eo,formatTimerDisplayExtended:()=>Do,generateId:()=>zo,generatePalette:()=>ys,generateRandomString:()=>Ho,generateSlug:()=>Oo,getColorWithOpacity:()=>ws,getContrastColor:()=>ms,getCurrentTime:()=>Co,getDaysDiff:()=>ao,getInitials:()=>Bo,getPriorityColor:()=>Ur,getPriorityConfig:()=>Lr,getPriorityLabel:()=>Wr,getTaskStatusColor:()=>Gr,getTaskStatusConfig:()=>jr,getTaskStatusLabel:()=>Fr,getTimerModeColor:()=>Xr,getTimerModeConfig:()=>zr,getTimerModeDefaultDuration:()=>Jr,getTimerModeLabel:()=>Yr,getWorkableTasks:()=>wo,hexToRgb:()=>b,hexToRgba:()=>Dr,highlightSearchTerms:()=>Jo,hoursToMinutes:()=>To,inviteMemberSchema:()=>Ns,isAfter:()=>go,isAllowedFileType:()=>to,isAlphanumeric:()=>Xo,isBefore:()=>xr,isDarkColor:()=>gs,isDueToday:()=>ho,isFuture:()=>no,isImageFile:()=>ro,isLightColor:()=>br,isOverdue:()=>io,isPast:()=>wr,isScheduledForToday:()=>Er,isTaskAvailable:()=>ue,isTaskCompleted:()=>$r,isTaskInProgress:()=>Vr,isToday:()=>U,isValidEmail:()=>jo,isValidUrl:()=>Go,isWorkingHours:()=>No,lightenColor:()=>Ae,loginUserSchema:()=>Fs,minutesToHours:()=>bo,minutesToSeconds:()=>ko,mixColors:()=>hs,normalizeWhitespace:()=>$o,parseDuration:()=>Ro,pluralize:()=>Ko,projectBaseSchema:()=>xe,projectFilterSchema:()=>ks,randomColor:()=>fs,registerUserSchema:()=>Gs,reorderTasksSchema:()=>bs,resetPasswordRequestSchema:()=>Ks,resetPasswordSchema:()=>qs,rgbToHex:()=>de,sanitizeHtml:()=>Fo,secondsToMinutes:()=>Po,shouldTakeLongBreak:()=>Zr,snakeToTitle:()=>Wo,startOfDay:()=>Ar,startOfToday:()=>Ir,startOfWeek:()=>co,stripHtmlTags:()=>Yo,tagBaseSchema:()=>Te,tagFilterSchema:()=>Hs,taskBaseSchema:()=>me,taskDatesSchema:()=>As,taskFilterSchema:()=>Es,transferOwnershipSchema:()=>Ls,truncate:()=>_o,updateCommentSchema:()=>Js,updateMemberRoleSchema:()=>Os,updateProjectSchema:()=>Ps,updateTagSchema:()=>Bs,updateTaskSchema:()=>xs,updateUserProfileSchema:()=>$s,updateWorkspaceSchema:()=>Ms,userPreferencesSchema:()=>zs,usernameValidationSchema:()=>Xs,workspaceBaseSchema:()=>be,workspaceFilterSchema:()=>Us,workspaceSettingsSchema:()=>Cs});module.exports=Cr(rn);var N=class r{_value;constructor(e){this._value=e}static create(e){let t=e?.trim?.().toLowerCase();return this.validate(t),new r(t)}static validate(e){if(!e||typeof e!="string")throw new Error("O email n\xE3o pode estar vazio");if(e.length>254)throw new Error("O email deve ter no m\xE1ximo 254 caracteres");if(!/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-\u00A0-\uFFFF]+@[a-zA-Z0-9\u00A0-\uFFFF](?:[a-zA-Z0-9\u00A0-\uFFFF-]{0,61}[a-zA-Z0-9\u00A0-\uFFFF])?(?:\.[a-zA-Z0-9\u00A0-\uFFFF](?:[a-zA-Z0-9\u00A0-\uFFFF-]{0,61}[a-zA-Z0-9\u00A0-\uFFFF])?)*$/.test(e))throw new Error("O formato do email \xE9 inv\xE1lido");let[o,s]=e.split("@");if(o&&o.includes(".."))throw new Error("O email n\xE3o pode conter pontos consecutivos na parte local");if(o&&(o.startsWith(".")||o.endsWith(".")))throw new Error("O email n\xE3o pode come\xE7ar ou terminar com ponto na parte local")}get value(){return this._value}get localPart(){return this._value.split("@")[0]}get domain(){return this._value.split("@")[1]}equals(e){return e instanceof r?this._value===e._value:!1}toString(){return this._value}toJSON(){return this._value}};var O=class r{_value;constructor(e){this._value=e}static create(e){return this.validate(e),new r(e.trim())}static validate(e){if(!e||typeof e!="string")throw new Error("O hash da senha n\xE3o pode estar vazio");let t=e.trim();if(t.length===0)throw new Error("O hash da senha n\xE3o pode estar vazio");if(!/^\$2[abxy]\$\d{2}\$[A-Za-z0-9.\/]{53}$/.test(t))throw new Error("A senha deve estar criptografada")}get value(){return this._value}get algorithm(){return this._value.split("$")[1]}get cost(){return parseInt(this._value.split("$")[2],10)}equals(e){return e instanceof r?this._value===e._value:!1}toString(){return this._value}toJSON(){return this._value}};var T=class r{_value;constructor(e){this._value=e}static create(e){return this.validate(e),new r(e.trim())}static validate(e){if(!e||typeof e!="string")throw new Error("O nome \xE9 obrigat\xF3rio e deve ser uma string");let t=e.trim();if(t.length<3)throw new Error("O nome deve ter pelo menos 3 caracteres");if(t.length>120)throw new Error("O nome deve ter no m\xE1ximo 120 caracteres");if(!/^[a-zA-ZÀ-ÿ\u0100-\u017F\u0180-\u024F\u1E00-\u1EFF\s'-]+$/.test(t))throw new Error("O nome cont\xE9m caracteres inv\xE1lidos. Apenas letras, espa\xE7os, ap\xF3strofes e h\xEDfens s\xE3o permitidos");if(t.split(/\s+/).filter(n=>n.length>0).length<2)throw new Error("O nome deve conter pelo menos um nome e um sobrenome");if(/\s{2,}/.test(t))throw new Error("O nome n\xE3o pode conter espa\xE7os m\xFAltiplos consecutivos");if(/^[-'\s]|[-'\s]$/.test(t))throw new Error("O nome n\xE3o pode come\xE7ar ou terminar com espa\xE7os, h\xEDfens ou ap\xF3strofes")}get value(){return this._value}get firstName(){return this._value.split(" ")[0]}get lastName(){let e=this._value.split(" ");return e[e.length-1]}get fullName(){return this._value}get initials(){let e=this.value.trim().split(/\s+/).filter(t=>t.length>0);return(this.firstName.charAt(0)+this.lastName.charAt(0)).toUpperCase()}equals(e){return e instanceof r?this._value.toLowerCase()===e._value.toLowerCase():!1}toString(){return this._value}toJSON(){return this._value}toFormattedString(){return this._value.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ")}};var ae=require("uuid"),H=class r{_value;constructor(e){this._value=e}static create(e){let t=e?.trim().toLowerCase()??(0,ae.v4)();return this.validate(t),new r(t)}static validate(e){if(!(0,ae.validate)(e))throw new Error("O id fornecido n\xE3o \xE9 um UUID v\xE1lido.")}get value(){return this._value}equals(e){return e instanceof r&&this._value===e._value}toString(){return this._value}toJSON(){return this._value}};var a=class r{props;mode="valid";id;constructor(e,t="valid"){if(this.props=Object.freeze({...e,id:e.id?e.id:H.create().value}),this.mode=t,this.id=this.props.id,"props"in e)throw new Error("Props should not contain 'props' property")}get data(){return this.props}isDraft(){return this.mode==="draft"}isValid(){return this.mode==="valid"}equals(e){return e==null||!(e instanceof r)?!1:this===e?!0:this.constructor!==e.constructor?!1:this.sameId(e)}notEquals(e){return!this.equals(e)}sameId(e){return this.id===e.id}asDraft(){return this.clone(this.props,"draft")}asValid(){return this.clone(this.props,"valid")}clone(e,t=this.mode){let o=this.constructor;return new o({...this.props,...e},t)}};var he=class r{_value;constructor(e){this._value=e}static create(e,t){return this.validate(e,t),new r(e.trim())}static validate(e,t){let o=t?.errorMessage||`${t?.attributeName??"Valor"} \xE9 obrigat\xF3rio`;if(!e||typeof e!="string")throw new Error(o);let s=e.trim();if(s.length===0)throw new Error(o);if(t?.minLength&&s.length<t.minLength)throw new Error(`${t.attributeName??`"${e}"`} deve ter pelo menos ${t.minLength} caracteres`);if(t?.maxLength&&s.length>t.maxLength)throw new Error(`${t.attributeName??`"${e}"`} deve ter no m\xE1ximo ${t.maxLength} caracteres`)}get value(){return this._value}equals(e){return e instanceof r&&this._value===e._value}toString(){return this._value}toJSON(){return this._value}};var Nr=["#EF4444","#F59E0B","#10B981","#3B82F6","#8B5CF6","#EC4899","#6B7280"],Or=["#EF4444","#F59E0B","#10B981","#3B82F6","#8B5CF6","#EC4899","#06B6D4","#F43F5E","#84CC16","#6366F1"],_r={PERSONAL:"#06B6D4",WORK:"#8B5CF6",TEAM:"#EC4899"};var pe={LOW:{value:"LOW",label:"Low",color:"#10B981",order:1},MEDIUM:{value:"MEDIUM",label:"Medium",color:"#F59E0B",order:2},HIGH:{value:"HIGH",label:"High",color:"#EF4444",order:3}},j=["LOW","MEDIUM","HIGH"];function Lr(r){return pe[r]}function Ur(r){return pe[r].color}function Wr(r){return pe[r].label}var ce={TODO:{value:"TODO",label:"To Do",color:"#6B7280",order:1},IN_PROGRESS:{value:"IN_PROGRESS",label:"In Progress",color:"#3B82F6",order:2},IN_REVIEW:{value:"IN_REVIEW",label:"In Review",color:"#F59E0B",order:3},DONE:{value:"DONE",label:"Done",color:"#10B981",order:4},CANCELLED:{value:"CANCELLED",label:"Cancelled",color:"#EF4444",order:5}},G=["TODO","IN_PROGRESS","IN_REVIEW","DONE","CANCELLED"],Br={ACTIVE:{value:"ACTIVE",label:"Active",color:"#10B981"},ARCHIVED:{value:"ARCHIVED",label:"Archived",color:"#6B7280"},ON_HOLD:{value:"ON_HOLD",label:"On Hold",color:"#F59E0B"}},Hr=["ACTIVE","ARCHIVED","ON_HOLD"];function jr(r){return ce[r]}function Gr(r){return ce[r].color}function Fr(r){return ce[r].label}function $r(r){return r==="DONE"}function Vr(r){return r==="IN_PROGRESS"||r==="IN_REVIEW"}var F={WORK:{value:"WORK",label:"Work",color:"#EF4444",defaultDuration:25},SHORT_BREAK:{value:"SHORT_BREAK",label:"Short Break",color:"#10B981",defaultDuration:5},LONG_BREAK:{value:"LONG_BREAK",label:"Long Break",color:"#059669",defaultDuration:15},CONTINUOUS:{value:"CONTINUOUS",label:"Continuous",color:"#3B82F6",defaultDuration:0}},Kr=["WORK","SHORT_BREAK","LONG_BREAK","CONTINUOUS"],yr={workDuration:25,shortBreakDuration:5,longBreakDuration:15,pomodorosUntilLongBreak:4,autoStartBreaks:!1,autoStartPomodoros:!1,soundEnabled:!0,notificationsEnabled:!0},qr={MIN_DURATION:1,MAX_DURATION:120,MIN_POMODOROS_UNTIL_LONG_BREAK:2,MAX_POMODOROS_UNTIL_LONG_BREAK:10};function zr(r){return F[r]}function Xr(r){return F[r].color}function Yr(r){return F[r].label}function Jr(r){return F[r].defaultDuration}function Zr(r,e=yr.pomodorosUntilLongBreak){return r>0&&r%e===0}var w={TITLE_MIN_LENGTH:1,TITLE_MAX_LENGTH:200,DESCRIPTION_MAX_LENGTH:5e3,MIN_ESTIMATED_MINUTES:1,MAX_ESTIMATED_MINUTES:480,MAX_SUBTASKS:50,MAX_TAGS_PER_TASK:10,MAX_ATTACHMENTS_PER_TASK:20},P={NAME_MIN_LENGTH:1,NAME_MAX_LENGTH:100,DESCRIPTION_MAX_LENGTH:2e3,MAX_PROJECTS_PER_WORKSPACE:100,MAX_TASKS_PER_PROJECT:1e3},R={NAME_MIN_LENGTH:1,NAME_MAX_LENGTH:100,DESCRIPTION_MAX_LENGTH:500,MAX_MEMBERS:50,MAX_WORKSPACES_PER_USER:20,SLUG_MIN_LENGTH:3,SLUG_MAX_LENGTH:50},L={NAME_MIN_LENGTH:1,NAME_MAX_LENGTH:30,MAX_TAGS_PER_WORKSPACE:100},E={CONTENT_MIN_LENGTH:1,CONTENT_MAX_LENGTH:2e3,MAX_COMMENTS_PER_TASK:500},_={MAX_FILE_SIZE:10*1024*1024,MAX_IMAGE_SIZE:5*1024*1024,MAX_TOTAL_STORAGE_PER_WORKSPACE:1024*1024*1024,ALLOWED_IMAGE_TYPES:["image/jpeg","image/png","image/gif","image/webp"],ALLOWED_DOCUMENT_TYPES:["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"]},h={NAME_MIN_LENGTH:2,NAME_MAX_LENGTH:100,PASSWORD_MIN_LENGTH:6,PASSWORD_MAX_LENGTH:128,BIO_MAX_LENGTH:500},Qr={DEFAULT_PAGE_SIZE:20,MAX_PAGE_SIZE:100,MIN_PAGE_SIZE:5};function eo(r){if(r===0)return"0 Bytes";let e=1024,t=["Bytes","KB","MB","GB"],o=Math.floor(Math.log(r)/Math.log(e));return Math.round(r/Math.pow(e,o)*100)/100+" "+t[o]}function to(r){return[..._.ALLOWED_IMAGE_TYPES,..._.ALLOWED_DOCUMENT_TYPES].includes(r)}function ro(r){return _.ALLOWED_IMAGE_TYPES.includes(r)}var k={TITLE_MIN_LENGTH:1,TITLE_MAX_LENGTH:200,MESSAGE_MAX_LENGTH:1e3,ACTION_LABEL_MAX_LENGTH:50,ACTION_URL_MAX_LENGTH:2048,MAX_NOTIFICATIONS_PER_USER:500};function oo(r,e="en-US"){return(typeof r=="string"?new Date(r):r).toLocaleDateString(e,{year:"numeric",month:"long",day:"numeric"})}function ye(r,e="en-US"){return(typeof r=="string"?new Date(r):r).toLocaleDateString(e,{year:"numeric",month:"short",day:"numeric"})}function so(r,e="en-US"){let t=typeof r=="string"?new Date(r):r,o=new Date,s=t.getTime()-o.getTime(),n=Math.round(s/1e3),i=Math.round(n/60),p=Math.round(i/60),c=Math.round(p/24);return Math.abs(n)<60?n>=0?"in a few seconds":"a few seconds ago":Math.abs(i)<60?i>=0?`in ${i} minute${i!==1?"s":""}`:`${Math.abs(i)} minute${Math.abs(i)!==1?"s":""} ago`:Math.abs(p)<24?p>=0?`in ${p} hour${p!==1?"s":""}`:`${Math.abs(p)} hour${Math.abs(p)!==1?"s":""} ago`:Math.abs(c)<30?c>=0?`in ${c} day${c!==1?"s":""}`:`${Math.abs(c)} day${Math.abs(c)!==1?"s":""} ago`:ye(t,e)}function U(r){let e=typeof r=="string"?new Date(r):r,t=new Date;return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function wr(r){return(typeof r=="string"?new Date(r):r).getTime()<new Date().getTime()}function no(r){return(typeof r=="string"?new Date(r):r).getTime()>new Date().getTime()}function io(r){if(!r)return!1;let e=typeof r=="string"?new Date(r):r;return wr(e)&&!U(e)}function ao(r,e){let t=typeof r=="string"?new Date(r):r,s=(typeof e=="string"?new Date(e):e).getTime()-t.getTime();return Math.floor(s/(1e3*60*60*24))}function Ar(r){let e=typeof r=="string"?new Date(r):new Date(r);return e.setHours(0,0,0,0),e}function po(r){let e=typeof r=="string"?new Date(r):new Date(r);return e.setHours(23,59,59,999),e}function co(r){let e=typeof r=="string"?new Date(r):new Date(r),t=e.getDay(),o=e.getDate()-t+(t===0?-6:1),s=new Date(e.setDate(o));return s.setHours(0,0,0,0),s}function uo(r){let e=typeof r=="string"?new Date(r):new Date(r),t=e.getDay(),o=e.getDate()+(t===0?0:7-t),s=new Date(e.setDate(o));return s.setHours(23,59,59,999),s}function mo(r,e){let t=typeof r=="string"?new Date(r):new Date(r);return t.setDate(t.getDate()+e),t}function lo(r,e){let t=typeof r=="string"?new Date(r):new Date(r);return t.setHours(t.getHours()+e),t}function fo(r,e){let t=typeof r=="string"?new Date(r):new Date(r);return t.setMinutes(t.getMinutes()+e),t}function Ir(){return Ar(new Date)}function xr(r,e){let t=typeof r=="string"?new Date(r):r,o=typeof e=="string"?new Date(e):e;return t.getTime()<o.getTime()}function go(r,e){let t=typeof r=="string"?new Date(r):r,o=typeof e=="string"?new Date(e):e;return t.getTime()>o.getTime()}function ue(r){return r.startDate?(typeof r.startDate=="string"?new Date(r.startDate):r.startDate)<=new Date:!0}function Er(r){return r.scheduledDate?U(r.scheduledDate):!1}function ho(r){return r.dueDate?U(r.dueDate):!1}function yo(r){let e=Ir();return{overdue:r.filter(t=>t.dueDate&&xr(t.dueDate,e)&&t.status!=="COMPLETED"),dueToday:r.filter(t=>t.dueDate&&U(t.dueDate)),scheduledToday:r.filter(t=>t.scheduledDate&&U(t.scheduledDate)),available:r.filter(t=>ue(t)&&!Er(t)&&t.status!=="COMPLETED"),notYetAvailable:r.filter(t=>!ue(t))}}function wo(r){return r.filter(e=>ue(e)&&e.status!=="COMPLETED"&&e.status!=="CANCELLED")}function Ao(r,e,t="en-US"){if(!r)return null;let o=ye(r,t);return e?`${o} at ${e}`:o}function Io(r){if(r<60)return`${r}m`;let e=Math.floor(r/60),t=r%60;return t>0?`${e}h ${t}m`:`${e}h`}function xo(r){let e=Math.floor(r/3600),t=Math.floor(r%3600/60),o=r%60,s=[];return e>0&&s.push(`${e}h`),t>0&&s.push(`${t}m`),(o>0||s.length===0)&&s.push(`${o}s`),s.join(" ")}function Eo(r){let e=Math.floor(r/60),t=r%60;return`${e.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`}function Do(r){let e=Math.floor(r/3600),t=Math.floor(r%3600/60),o=r%60;return`${e.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`}function bo(r){return Math.round(r/60*100)/100}function To(r){return Math.round(r*60)}function Po(r){return Math.round(r/60)}function ko(r){return r*60}function Ro(r){let e=r.match(/(\d+)h/),t=r.match(/(\d+)m/),o=e?parseInt(e[1],10):0,s=t?parseInt(t[1],10):0;return o*60+s}function So(r){return r.reduce((e,t)=>e+t.duration,0)}function vo(r,e){return e===0?0:Math.round(r/e)}function Mo(r,e=!1){let[t,o]=r.split(":").map(Number);if(e)return`${(t||0).toString().padStart(2,"0")}:${(o||0).toString().padStart(2,"0")}`;let s=(t||0)>=12?"PM":"AM";return`${(t||0)%12||12}:${(o||0).toString().padStart(2,"0")} ${s}`}function Co(){let r=new Date;return`${r.getHours().toString().padStart(2,"0")}:${r.getMinutes().toString().padStart(2,"0")}`}function No(r=new Date,e=9,t=18){let o=r.getHours();return o>=e&&o<t}function Oo(r){return r.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}function _o(r,e,t="..."){return r.length<=e?r:r.slice(0,e-t.length)+t}function we(r){return r&&r.charAt(0).toUpperCase()+r.slice(1).toLowerCase()}function Lo(r){return r.split(" ").map(e=>we(e)).join(" ")}function Uo(r){let e=r.replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)}function Wo(r){return r.split("_").map(e=>we(e)).join(" ")}function Bo(r,e=2){return r.trim().split(/\s+/).map(s=>s.charAt(0).toUpperCase()).join("").slice(0,e)}function Ho(r){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="";for(let o=0;o<r;o++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}function jo(r){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)}function Go(r){try{return new URL(r),!0}catch{return!1}}function Fo(r){let e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"};return r.replace(/[&<>"'/]/g,t=>e[t]||t)}function $o(r){return r.replace(/\s+/g," ").trim()}function Vo(r){return r.trim().split(/\s+/).filter(Boolean).length}function Ko(r,e,t){return e===1?r:t||`${r}s`}function qo(r){return r.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function zo(){return`${Date.now()}-${Math.random().toString(36).substr(2,9)}`}function Xo(r){return/^[a-zA-Z0-9]+$/.test(r)}function Yo(r){return r.replace(/<[^>]*>/g,"")}function Jo(r,e){if(!e)return r;let t=new RegExp(`(${e})`,"gi");return r.replace(t,"<mark>$1</mark>")}function Zo(r,e){return e===0?0:Math.round(r/e*100)}function Qo(r,e){return e===0?0:Math.round(r/e*100*10)/10}function es(r,e,t,o=240){if(e===0&&t===0)return 0;let s=e>0?r/e*50:0,n=Math.min(t/o*50,50);return Math.round(s+n)}function ts(r,e=8){return e===0?0:Math.min(Math.round(r/e*100),100)}function rs(r){let e=r.filter(o=>o.completedAt!=null);if(e.length===0)return 0;let t=e.reduce((o,s)=>{if(!s.completedAt)return o;let n=typeof s.createdAt=="string"?new Date(s.createdAt):s.createdAt,i=typeof s.completedAt=="string"?new Date(s.completedAt):s.completedAt;return o+(i.getTime()-n.getTime())},0);return Math.round(t/e.length/(1e3*60))}function os(r,e){return e===0?0:Math.round(r/e*10)/10}function ss(r,e){if(e===0)return null;let t=Math.ceil(r/e),o=new Date;return o.setDate(o.getDate()+t),o}function ns(r,e,t){if(t===0)return 0;let o=r-e;return Math.round(o/t*10)/10}function is(r,e,t,o,s=2){if(e===0)return 100;let n=r/e*40,i=Math.max(0,30-t/e*30),p=Math.min(o/s*30,30);return Math.round(n+i+p)}function as(r,e){return e===0?0:Math.round(r/e*100)}function ps(r,e){if(e===0)return 0;let t=r/e*60;return Math.round(t*100)/100}function cs(r){if(r.length===0)return 0;let e=r.map(i=>typeof i=="string"?new Date(i):i).sort((i,p)=>p.getTime()-i.getTime()),t=1,o=new Date;o.setHours(0,0,0,0);let s=new Date(e[0]);if(s.setHours(0,0,0,0),Math.floor((o.getTime()-s.getTime())/(1e3*60*60*24))>1)return 0;for(let i=1;i<e.length;i++){let p=new Date(e[i]);p.setHours(0,0,0,0);let c=new Date(e[i-1]);if(c.setHours(0,0,0,0),Math.floor((c.getTime()-p.getTime())/(1e3*60*60*24))===1)t++;else break}return t}function us(r,e){if(e.length===0)return 0;let t=[...e].sort((s,n)=>s-n),o=t.findIndex(s=>s>=r);return o===-1?100:Math.round(o/t.length*100)}function ds(r){if(r.length===0)return 0;let e=r.reduce((o,s)=>o+s.weight,0);if(e===0)return 0;let t=r.reduce((o,s)=>o+s.value*s.weight,0);return Math.round(t/e*100)/100}function b(r){let e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}function de(r,e,t){let o=s=>{let n=s.toString(16);return n.length===1?"0"+n:n};return"#"+o(r)+o(e)+o(t)}function ms(r){let e=b(r);return e?(.299*e.r+.587*e.g+.114*e.b)/255>.5?"#000000":"#FFFFFF":"#000000"}function Ae(r,e){let t=b(r);if(!t)return r;let o=Math.round(2.55*e),s=Math.min(255,t.r+o),n=Math.min(255,t.g+o),i=Math.min(255,t.b+o);return de(s,n,i)}function Ie(r,e){let t=b(r);if(!t)return r;let o=Math.round(2.55*e),s=Math.max(0,t.r-o),n=Math.max(0,t.g-o),i=Math.max(0,t.b-o);return de(s,n,i)}function ls(r,e){if(!b(r))return r;let o=Math.round(Math.min(Math.max(e,0),1)*255);return`${r}${o.toString(16).padStart(2,"0")}`}function Dr(r,e=1){let t=b(r);return t?`rgba(${t.r}, ${t.g}, ${t.b}, ${e})`:`rgba(0, 0, 0, ${e})`}function fs(){return"#"+Math.floor(Math.random()*16777215).toString(16).padStart(6,"0")}function br(r){let e=b(r);return e?(.299*e.r+.587*e.g+.114*e.b)/255>.5:!1}function gs(r){return!br(r)}function hs(r,e,t=.5){let o=b(r),s=b(e);if(!o||!s)return r;let n=Math.max(0,Math.min(1,t)),i=Math.round(o.r*(1-n)+s.r*n),p=Math.round(o.g*(1-n)+s.g*n),c=Math.round(o.b*(1-n)+s.b*n);return de(i,p,c)}function ys(r){return{lighter:Ae(r,40),light:Ae(r,20),base:r,dark:Ie(r,20),darker:Ie(r,40)}}function ws(r,e=.1){return Dr(r,e)}var u=require("zod");var me=u.z.object({title:u.z.string().min(w.TITLE_MIN_LENGTH,"Title is required").max(w.TITLE_MAX_LENGTH,`Title must be less than ${w.TITLE_MAX_LENGTH} characters`),description:u.z.string().max(w.DESCRIPTION_MAX_LENGTH,`Description must be less than ${w.DESCRIPTION_MAX_LENGTH} characters`).optional(),priority:u.z.enum(j),status:u.z.enum(G).optional(),dueDate:u.z.string().optional().nullable(),startDate:u.z.string().optional().nullable(),scheduledDate:u.z.string().optional().nullable(),scheduledTime:u.z.string().regex(/^\d{2}:\d{2}$/,"Time must be in HH:mm format").optional().nullable(),isTimeBlocked:u.z.boolean().optional(),estimatedMinutes:u.z.union([u.z.number().int().min(w.MIN_ESTIMATED_MINUTES).max(w.MAX_ESTIMATED_MINUTES),u.z.nan()]).optional().nullable().transform(r=>Number.isNaN(r)?void 0:r)}),As=me.refine(r=>r.startDate&&r.dueDate?new Date(r.startDate)<=new Date(r.dueDate):!0,{message:"Start date must be before or equal to due date",path:["startDate"]}).refine(r=>r.scheduledDate&&r.dueDate?new Date(r.scheduledDate)<=new Date(r.dueDate):!0,{message:"Scheduled date must be before or equal to due date",path:["scheduledDate"]}),Is=me.extend({projectId:u.z.string().min(1,"Project is required"),parentTaskId:u.z.string().optional().nullable(),assigneeId:u.z.string().optional().nullable(),tagIds:u.z.array(u.z.string()).max(w.MAX_TAGS_PER_TASK).optional()}),xs=me.partial().extend({assigneeId:u.z.string().optional().nullable(),tagIds:u.z.array(u.z.string()).max(w.MAX_TAGS_PER_TASK).optional(),completedAt:u.z.string().datetime().optional().nullable()}),Es=u.z.object({projectId:u.z.string().optional(),status:u.z.enum(G).optional(),priority:u.z.enum(j).optional(),assigneeId:u.z.string().optional(),tagIds:u.z.array(u.z.string()).optional(),search:u.z.string().optional(),dueDate:u.z.object({from:u.z.string().datetime().optional(),to:u.z.string().datetime().optional()}).optional(),isOverdue:u.z.boolean().optional()}),Ds=u.z.object({taskIds:u.z.array(u.z.string()).min(1,"At least one task is required"),updates:u.z.object({status:u.z.enum(G).optional(),priority:u.z.enum(j).optional(),assigneeId:u.z.string().optional().nullable(),projectId:u.z.string().optional()})}),bs=u.z.object({taskId:u.z.string(),newOrder:u.z.number().int().min(0),projectId:u.z.string()});var g=require("zod");var xe=g.z.object({name:g.z.string().min(P.NAME_MIN_LENGTH,"Project name is required").max(P.NAME_MAX_LENGTH,`Project name must be less than ${P.NAME_MAX_LENGTH} characters`),description:g.z.string().max(P.DESCRIPTION_MAX_LENGTH,`Description must be less than ${P.DESCRIPTION_MAX_LENGTH} characters`).optional(),color:g.z.string().optional(),icon:g.z.string().optional()}),Ts=xe.extend({workspaceId:g.z.string().min(1,"Workspace is required"),workflowId:g.z.string().optional(),startDate:g.z.string().datetime().optional().nullable(),endDate:g.z.string().datetime().optional().nullable()}),Ps=xe.partial().extend({startDate:g.z.string().datetime().optional().nullable(),endDate:g.z.string().datetime().optional().nullable(),isArchived:g.z.boolean().optional()}),ks=g.z.object({workspaceId:g.z.string().optional(),search:g.z.string().optional(),isArchived:g.z.boolean().optional(),color:g.z.string().optional()}),Rs=g.z.object({isArchived:g.z.boolean()}),Ss=g.z.object({name:g.z.string().min(P.NAME_MIN_LENGTH),includeTasks:g.z.boolean().default(!1),includeMembers:g.z.boolean().default(!1)});var f=require("zod");var Ee=["PERSONAL","WORK","TEAM"],De=["OWNER","ADMIN","MEMBER","VIEWER"],be=f.z.object({name:f.z.string().min(R.NAME_MIN_LENGTH,"Workspace name is required").max(R.NAME_MAX_LENGTH,`Workspace name must be less than ${R.NAME_MAX_LENGTH} characters`),slug:f.z.string().min(1,"Slug must be at least 1 character").regex(/^[a-z0-9-]+$/,"Slug must only contain lowercase letters, numbers, and hyphens").optional(),description:f.z.string().max(R.DESCRIPTION_MAX_LENGTH,`Description must be less than ${R.DESCRIPTION_MAX_LENGTH} characters`).optional(),type:f.z.enum(Ee),color:f.z.string().optional(),icon:f.z.string().optional()}),vs=be,Ms=be.partial(),Cs=f.z.object({defaultTaskPriority:f.z.enum(["LOW","MEDIUM","HIGH"]).optional(),defaultTaskStatus:f.z.enum(["TODO","IN_PROGRESS","IN_REVIEW","DONE","CANCELLED"]).optional(),enableNotifications:f.z.boolean().optional(),enableEmailDigest:f.z.boolean().optional(),timezone:f.z.string().optional()}),Ns=f.z.object({email:f.z.string().email("Invalid email address"),role:f.z.enum(De),message:f.z.string().max(500).optional()}),Os=f.z.object({role:f.z.enum(De)}),_s=f.z.object({token:f.z.string().min(1,"Invitation token is required")}),Ls=f.z.object({newOwnerId:f.z.string().min(1,"New owner is required")}),Us=f.z.object({type:f.z.enum(Ee).optional(),search:f.z.string().optional()});var A=require("zod");var Te=A.z.object({name:A.z.string().min(L.NAME_MIN_LENGTH,"Tag name is required").max(L.NAME_MAX_LENGTH,`Tag name must be less than ${L.NAME_MAX_LENGTH} characters`),color:A.z.string().optional()}),Ws=Te.extend({workspaceId:A.z.string().min(1,"Workspace is required")}),Bs=Te.partial(),Hs=A.z.object({workspaceId:A.z.string().optional(),search:A.z.string().optional()}),js=A.z.object({tagIds:A.z.array(A.z.string()).max(L.NAME_MAX_LENGTH)});var d=require("zod");var Gs=d.z.object({name:d.z.string().min(h.NAME_MIN_LENGTH,`Name must be at least ${h.NAME_MIN_LENGTH} characters`).max(h.NAME_MAX_LENGTH,`Name must be less than ${h.NAME_MAX_LENGTH} characters`),username:d.z.string().min(3,"Username must be at least 3 characters").max(20,"Username must be less than 20 characters").regex(/^[a-z0-9_-]+$/,"Username can only contain lowercase letters, numbers, hyphens, and underscores"),email:d.z.string().email("Invalid email address"),password:d.z.string().min(h.PASSWORD_MIN_LENGTH,`Password must be at least ${h.PASSWORD_MIN_LENGTH} characters`).max(h.PASSWORD_MAX_LENGTH,`Password must be less than ${h.PASSWORD_MAX_LENGTH} characters`)}),Fs=d.z.object({email:d.z.string().email("Invalid email address"),password:d.z.string().min(1,"Password is required")}),$s=d.z.object({name:d.z.string().min(h.NAME_MIN_LENGTH).max(h.NAME_MAX_LENGTH).optional(),bio:d.z.string().max(h.BIO_MAX_LENGTH).optional(),avatar:d.z.string().url().optional().nullable(),timezone:d.z.string().optional(),language:d.z.enum(["en","es","pt-BR"]).optional()}),Vs=d.z.object({currentPassword:d.z.string().min(1,"Current password is required"),newPassword:d.z.string().min(h.PASSWORD_MIN_LENGTH,`Password must be at least ${h.PASSWORD_MIN_LENGTH} characters`).max(h.PASSWORD_MAX_LENGTH)}),Ks=d.z.object({email:d.z.string().email("Invalid email address")}),qs=d.z.object({token:d.z.string().min(1,"Reset token is required"),newPassword:d.z.string().min(h.PASSWORD_MIN_LENGTH,`Password must be at least ${h.PASSWORD_MIN_LENGTH} characters`).max(h.PASSWORD_MAX_LENGTH)}),zs=d.z.object({theme:d.z.enum(["light","dark","system"]).optional(),language:d.z.enum(["en","es","pt-BR"]).optional(),timezone:d.z.string().optional(),notifications:d.z.object({email:d.z.boolean().optional(),push:d.z.boolean().optional(),desktop:d.z.boolean().optional()}).optional(),pomodoro:d.z.object({workDuration:d.z.number().int().min(1).max(120).optional(),shortBreakDuration:d.z.number().int().min(1).max(30).optional(),longBreakDuration:d.z.number().int().min(1).max(60).optional(),pomodorosUntilLongBreak:d.z.number().int().min(2).max(10).optional(),autoStartBreaks:d.z.boolean().optional(),autoStartPomodoros:d.z.boolean().optional(),soundEnabled:d.z.boolean().optional()}).optional()}),Xs=d.z.object({username:d.z.string().min(3,"Username must be at least 3 characters").max(20,"Username must be less than 20 characters").regex(/^[a-z0-9_-]+$/,"Username can only contain lowercase letters, numbers, hyphens, and underscores")});var I=require("zod");var Pe=I.z.object({content:I.z.string().min(E.CONTENT_MIN_LENGTH,"Comment cannot be empty").max(E.CONTENT_MAX_LENGTH,`Comment must be less than ${E.CONTENT_MAX_LENGTH} characters`)}),Ys=Pe.extend({taskId:I.z.string().min(1,"Task is required"),parentCommentId:I.z.string().optional().nullable(),mentions:I.z.array(I.z.string()).optional()}),Js=Pe,Zs=I.z.object({taskId:I.z.string().optional(),userId:I.z.string().optional(),parentCommentId:I.z.string().optional().nullable()});var W=class r extends a{name;username;email;password;constructor(e,t="valid"){super(e),this.name=t==="draft"?e?.name??"":T.create(e?.name??"").value,this.username=e.username,this.email=t==="draft"?e?.email??"":N.create(e?.email??"").value,this.password=e?.password?O.create(e.password).value:void 0}withoutPassword(){return this.clone({password:void 0})}static draft(e={username:""}){return new r(e,"draft")}get $name(){return T.create(this.name)}get $email(){return N.create(this.email)}get $password(){return this.password?O.create(this.password):void 0}};var $=class{constructor(e){this.repo=e}async execute(e,t){if(!t)throw new Error("User is required");let o=T.create(e).value,s=await this.repo.findByEmail(t.email);if(!s)throw new Error("Usu\xE1rio n\xE3o encontrado");await this.repo.updateProps(s,{name:o})}};var V=class{constructor(e,t){this.repo=e;this.crypto=t}async execute(e){if(await this.repo.findByEmail(e.email))throw new Error("Usu\xE1rio j\xE1 existe");if(await this.repo.findByUsername(e.username))throw new Error("Nome de usu\xE1rio j\xE1 est\xE1 em uso");if(!e.password)throw new Error("Senha \xE9 obrigat\xF3ria");if(!e.username||e.username.length<3)throw new Error("Nome de usu\xE1rio deve ter pelo menos 3 caracteres");if(e.name?.length<3)throw new Error("Nome deve ter pelo menos 3 caracteres");let s=await this.crypto.encrypt(e.password),n=new W({name:e.name,username:e.username,email:e.email,password:s});await this.repo.save(n)}};var K=class{constructor(e){this.repo=e}async execute(e){let t=await this.repo.findByEmail(e?.toLowerCase?.());if(!t)throw new Error("Usu\xE1rio n\xE3o encontrado");return t.withoutPassword()}};var q=class{constructor(e,t){this.repo=e;this.crypto=t}async execute(e){let{email:t,password:o}=e,n=await this.repo.findByEmail(t,!0);if(!n)throw new Error("Usu\xE1rio n\xE3o encontrado");if(!await this.crypto.compare(o,n.password))throw new Error("Senha incorreta");return n.withoutPassword()}};var z=class r extends a{constructor(e){super({...e,status:e.status??"TODO",priority:e.priority??"MEDIUM",subTasks:e.subTasks??[],isDeleted:e.isDeleted??!1,createdAt:e.createdAt??new Date,updatedAt:e.updatedAt??new Date})}static create(e){return new r({...e,status:"TODO",priority:e.priority??"MEDIUM",isDeleted:!1,deletedAt:void 0})}complete(){return this.clone({status:"COMPLETED",updatedAt:new Date})}updateStatus(e){return this.clone({status:e,updatedAt:new Date})}update(e){return this.clone({...e,updatedAt:new Date})}softDelete(){return this.clone({isDeleted:!0,deletedAt:new Date,updatedAt:new Date})}restore(){return this.clone({isDeleted:!1,deletedAt:void 0,updatedAt:new Date})}};var ke=class{constructor(e){this.repository=e}async execute(e){if(!e.title)throw new Error("Title is required");let t=z.create({title:e.title,description:e.description,priority:e.priority??"MEDIUM",dueDate:e.dueDate,projectId:e.projectId,ownerId:e.ownerId,assigneeId:e.assigneeId,parentTaskId:e.parentTaskId,recurrence:e.recurrence});return await this.repository.save(t),t}};var Re=class{constructor(e){this.repository=e}async execute(e){let t=await this.repository.findById(e.taskId);if(!t)throw new Error("Task not found");if(t.props.ownerId!==e.ownerId)throw new Error("Unauthorized");let o=t.complete();return await this.repository.update(o),o}};var Se=class{constructor(e){this.taskRepository=e}async execute(e){if(!await this.taskRepository.findById(e))throw new Error("Task not found");await this.taskRepository.softDelete(e)}};var ve=class{constructor(e){this.taskRepository=e}async execute(e){let t=await this.taskRepository.findById(e);if(!t)throw new Error("Task not found");if(!t.props.isDeleted)throw new Error("Task is not deleted");await this.taskRepository.restore(e)}};var Me=class{constructor(e){this.taskRepository=e}async execute(e){let t=await this.taskRepository.findById(e);if(!t)throw new Error("Task not found");if(!t.props.isDeleted)throw new Error("Task must be soft deleted first");await this.taskRepository.permanentDelete(e)}};var Ce=class{constructor(e){this.taskRepository=e}async execute(e){return await this.taskRepository.findDeleted(e)}};var X=class r extends a{constructor(e){super({...e,tier:e.tier??"FREE",isArchived:e.isArchived??!1,isDeleted:e.isDeleted??!1,color:e.color??"#2563EB",createdAt:e.createdAt??new Date,updatedAt:e.updatedAt??new Date})}static create(e){return new r({...e,tier:e.tier??"FREE",isArchived:!1,isDeleted:!1,color:e.color??"#2563EB"})}update(e){return this.clone({...e,updatedAt:new Date})}softDelete(){return this.clone({isDeleted:!0,deletedAt:new Date,updatedAt:new Date})}restore(){return this.clone({isDeleted:!1,deletedAt:void 0,updatedAt:new Date})}archive(){return this.clone({isArchived:!0,updatedAt:new Date})}unarchive(){return this.clone({isArchived:!1,updatedAt:new Date})}setStats(e){return this.clone({stats:e})}};var S=class r extends a{constructor(e){super({...e,joinedAt:e.joinedAt??new Date})}static create(e){return new r({...e,joinedAt:new Date})}};var Y=class r extends a{constructor(e){super({...e,defaultView:e.defaultView??"LIST",createdAt:e.createdAt??new Date,updatedAt:e.updatedAt??new Date})}static create(e){return new r({...e,defaultView:e.defaultView??"LIST"})}update(e){return this.clone({...e,updatedAt:new Date})}};var J=class r extends a{constructor(e){super({...e,createdAt:e.createdAt??new Date})}static create(e){return new r(e)}};var Ne=class{constructor(e,t){this.workspaceRepository=e;this.ownerUsername=t}async execute(e,t){let o=t||this.ownerUsername,s=this.generateSlug(e.name),i=s,p=1;if(e.ownerId)for(;await this.workspaceRepository.findBySlug(i,e.ownerId);)o?i=`${o}/${s}-${p}`:i=`${s}-${p}`,p++;let c=X.create({...e,slug:i});return this.workspaceRepository.create(c)}generateSlug(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}};var Oe=class{constructor(e){this.workspaceRepository=e}async execute(e,t,o="MEMBER"){if(!await this.workspaceRepository.findById(e))throw new Error("Workspace not found");let n=await this.workspaceRepository.findMember(e,t);if(n)return n;let i=S.create({workspaceId:e,userId:t,role:o});return this.workspaceRepository.addMember(i)}};var _e=class{constructor(e){this.workspaceRepository=e}async execute(e,t){let o=await this.workspaceRepository.findById(e);if(!o)throw new Error("Workspace not found");if(!await this.workspaceRepository.findMember(e,t))throw new Error("User is not a member of this workspace");if(o.props.ownerId===t)throw new Error("Cannot remove the owner from the workspace");await this.workspaceRepository.removeMember(e,t)}};var Le=class{constructor(e){this.workspaceRepository=e}async execute(e,t){let o=await this.workspaceRepository.findById(e);if(!o)throw new Error("Workspace not found");if(o.props.ownerId!==t)throw new Error("Unauthorized");await this.workspaceRepository.softDelete(e)}};var Ue=class{constructor(e){this.workspaceRepository=e}async execute(e,t){let o=await this.workspaceRepository.findById(e);if(!o)throw new Error("Workspace not found");if(o.props.ownerId!==t)throw new Error("Unauthorized");await this.workspaceRepository.restore(e)}};var We=class{constructor(e){this.workspaceRepository=e}async execute(e,t){let o=await this.workspaceRepository.findById(e);if(!o)throw new Error("Workspace not found");if(o.props.ownerId!==t)throw new Error("Unauthorized");if(!o.props.isDeleted)throw new Error("Workspace must be soft deleted first");await this.workspaceRepository.permanentDelete(e)}};var Be=class{constructor(e){this.workspaceRepository=e}async execute(e){return this.workspaceRepository.findDeleted(e)}};var He=class{constructor(e){this.workspaceRepository=e}async execute(e,t){let o=await this.workspaceRepository.findById(e);if(!o)throw new Error("Workspace not found");if(o.props.ownerId!==t)throw new Error("Unauthorized");let s=o.archive();return this.workspaceRepository.update(s)}};var Z=class r extends a{constructor(e){super({...e,status:e.status??"PENDING",role:e.role??"MEMBER",createdAt:e.createdAt??new Date,updatedAt:e.updatedAt??new Date})}static create(e){return new r({...e,status:"PENDING"})}accept(){return this.clone({status:"ACCEPTED",acceptedAt:new Date,updatedAt:new Date})}cancel(){return this.clone({status:"CANCELLED",updatedAt:new Date})}isExpired(){return this.props.expiresAt<new Date}};var Tr=require("uuid"),je=class{constructor(e,t,o){this.workspaceRepository=e;this.invitationRepository=t;this.hashService=o}async execute(e,t,o,s){if(!await this.workspaceRepository.findById(e))throw new Error("Workspace not found");let i=(0,Tr.v4)(),p=await this.hashService.hash(i),c=new Date;c.setDate(c.getDate()+7);let m=Z.create({workspaceId:e,email:t,tokenHash:p,role:o,invitedById:s,expiresAt:c});return{invitation:await this.invitationRepository.create(m),token:i}}};var Ge=class{constructor(e,t,o){this.workspaceRepository=e;this.invitationRepository=t;this.hashService=o}async execute(e,t){let o=await this.invitationRepository.findPendingInvitations();if(o.length===0)throw new Error("Invalid invitation token");let s=null;for(let m of o)if(await this.hashService.compare(e,m.props.tokenHash)){s=m;break}if(!s)throw new Error("Invalid invitation token");if(s.isExpired())throw new Error("Invitation expired");let n=s.props.workspaceId;if(await this.workspaceRepository.findMember(n,t)){let m=s.accept();await this.invitationRepository.update(m);return}let p=S.create({workspaceId:n,userId:t,role:s.props.role});await this.workspaceRepository.addMember(p);let c=s.accept();await this.invitationRepository.update(c)}};var Fe=class{constructor(e){this.settingsRepository=e}async execute(e){let t=await this.settingsRepository.findByWorkspaceId(e.workspaceId),o;return t?o=t.update({defaultView:e.defaultView,defaultDueTime:e.defaultDueTime,timezone:e.timezone,locale:e.locale}):o=Y.create({workspaceId:e.workspaceId,defaultView:e.defaultView,defaultDueTime:e.defaultDueTime,timezone:e.timezone,locale:e.locale}),this.settingsRepository.upsert(o)}};var $e=class{constructor(e){this.settingsRepository=e}async execute(e){return this.settingsRepository.findByWorkspaceId(e.workspaceId)}};var Ve=class{constructor(e){this.auditLogRepository=e}async execute(e){let t=J.create({workspaceId:e.workspaceId,actorId:e.actorId,action:e.action,payload:e.payload});return this.auditLogRepository.create(t)}};var Ke=class{constructor(e){this.auditLogRepository=e}async execute(e){let t=e.limit??50,o=e.offset??0,[s,n]=await Promise.all([this.auditLogRepository.findByWorkspaceId(e.workspaceId,t,o),this.auditLogRepository.countByWorkspaceId(e.workspaceId)]);return{logs:s,total:n}}};var Q=class r extends a{constructor(e){super({...e,color:e.color??"#6B7280",position:e.position??0,archived:e.archived??!1,completed:e.completed??!1,isDeleted:e.isDeleted??!1,createdAt:e.createdAt??new Date,updatedAt:e.updatedAt??new Date})}static create(e){return new r({...e,position:0,archived:!1,completed:!1,isDeleted:!1})}update(e){return this.clone({...e,updatedAt:new Date})}archive(){return this.clone({archived:!0,updatedAt:new Date})}unarchive(){return this.clone({archived:!1,updatedAt:new Date})}complete(){return this.clone({completed:!0,completedAt:new Date,updatedAt:new Date})}uncomplete(){return this.clone({completed:!1,completedAt:void 0,updatedAt:new Date})}softDelete(){return this.clone({isDeleted:!0,deletedAt:new Date,updatedAt:new Date})}restore(){return this.clone({isDeleted:!1,deletedAt:void 0,updatedAt:new Date})}};var qe=class{constructor(e){this.projectRepository=e}async execute(e){let t=Q.create(e);return this.projectRepository.create(t)}};var ze=class{constructor(e){this.projectRepository=e}async execute(e,t){let o=await this.projectRepository.findById(e);if(!o)throw new Error("Project not found");let s=o.update(t);return this.projectRepository.update(s)}};var Xe=class{constructor(e){this.projectRepository=e}async execute(e){let t=await this.projectRepository.findById(e);if(!t)throw new Error("Project not found");let o=t.props.archived?t.unarchive():t.archive();return this.projectRepository.update(o)}};var Ye=class{constructor(e){this.projectRepository=e}async execute(e){if(!await this.projectRepository.findById(e))throw new Error("Project not found");await this.projectRepository.delete(e)}};var Je=class{constructor(e){this.projectRepository=e}async execute(e){if(!await this.projectRepository.findById(e))throw new Error("Project not found");await this.projectRepository.softDelete(e)}};var Ze=class{constructor(e){this.projectRepository=e}async execute(e){let t=await this.projectRepository.findById(e);if(!t)throw new Error("Project not found");if(!t.props.isDeleted)throw new Error("Project is not deleted");await this.projectRepository.restore(e)}};var Qe=class{constructor(e){this.projectRepository=e}async execute(e){let t=await this.projectRepository.findById(e);if(!t)throw new Error("Project not found");if(!t.props.isDeleted)throw new Error("Project must be soft deleted first");await this.projectRepository.permanentDelete(e)}};var et=class{constructor(e){this.projectRepository=e}async execute(e){return await this.projectRepository.findDeleted(e)}};var ee=class r extends a{constructor(e){super({...e,color:e.color??"#6B7280",position:e.position??0,createdAt:e.createdAt??new Date,updatedAt:e.updatedAt??new Date})}static create(e){return new r({...e,position:0})}update(e){return this.clone({...e,updatedAt:new Date})}};var tt=class{constructor(e){this.workflowRepository=e}async execute(e){let t=ee.create({name:e.name,description:e.description,color:e.color??"#6B7280",icon:e.icon,workspaceId:e.workspaceId});return await this.workflowRepository.save(t),t}};var rt=class{constructor(e){this.workflowRepository=e}async execute(e){return this.workflowRepository.findByWorkspaceId(e)}};var ot=class{constructor(e){this.workflowRepository=e}async execute(e){let t=await this.workflowRepository.findById(e.id);if(!t)throw new Error("Workflow not found");let o=t.update({name:e.name,description:e.description,color:e.color,icon:e.icon,position:e.position});return await this.workflowRepository.update(o),o}};var st=class{constructor(e){this.workflowRepository=e}async execute(e){await this.workflowRepository.delete(e)}};var te=class r extends a{constructor(e){super({...e,color:e.color??"#6B7280",createdAt:e.createdAt??new Date})}static create(e){return new r({...e})}update(e){return this.clone({...e})}};var nt=class{constructor(e){this.tagRepository=e}async execute(e){let t=te.create(e);return this.tagRepository.create(t)}};var it=class{constructor(e){this.tagRepository=e}async execute(e,t){if(!await this.tagRepository.findById(e))throw new Error("Tag not found");await this.tagRepository.assignToTask(e,t)}};var at=class{constructor(e){this.tagRepository=e}async execute(e,t){await this.tagRepository.removeFromTask(e,t)}};var pt=class{constructor(e){this.tagRepository=e}async execute(e,t){let o=await this.tagRepository.findById(e);if(!o)throw new Error("Tag not found");let s=o.update(t);return this.tagRepository.update(s)}};var v=class r extends a{constructor(e){super({...e,type:e.type??"WORK",wasCompleted:e.wasCompleted??!1,wasInterrupted:e.wasInterrupted??!1,pauseCount:e.pauseCount??0,totalPauseTime:e.totalPauseTime??0,pauseData:e.pauseData??[],createdAt:e.createdAt??new Date})}static create(e){return new r({...e,wasCompleted:!1,wasInterrupted:!1,pauseCount:0,totalPauseTime:0,pauseData:[],currentPauseStart:void 0})}pause(e=new Date){return this.clone({pauseCount:(this.props.pauseCount??0)+1,currentPauseStart:e})}resume(e,t=new Date){let o=this.props.currentPauseStart??e,s=Math.floor((t.getTime()-o.getTime())/1e3),n={startedAt:o,endedAt:t,duration:s};return this.clone({totalPauseTime:(this.props.totalPauseTime??0)+s,pauseData:[...this.props.pauseData??[],n],currentPauseStart:void 0})}stop(e=new Date,t=!1,o=!1){let s=0;this.props.currentPauseStart&&(s=Math.floor((e.getTime()-this.props.currentPauseStart.getTime())/1e3));let n=e.getTime()-this.props.startedAt.getTime(),p=Math.floor(n/1e3)-(this.props.totalPauseTime??0)-s,c=Math.round(p/60);return this.clone({endedAt:e,duration:c,wasCompleted:t,wasInterrupted:o,currentPauseStart:void 0,totalPauseTime:(this.props.totalPauseTime??0)+s})}split(e=new Date,t=!0,o="TASK_SWITCH"){let s=0;this.props.currentPauseStart&&(s=Math.floor((e.getTime()-this.props.currentPauseStart.getTime())/1e3));let n=e.getTime()-this.props.startedAt.getTime(),p=Math.floor(n/1e3)-(this.props.totalPauseTime??0)-s,c=Math.round(p/60);return this.clone({endedAt:e,duration:c,wasCompleted:t,wasInterrupted:!1,splitReason:o,currentPauseStart:void 0,totalPauseTime:(this.props.totalPauseTime??0)+s})}};var ct=class{constructor(e,t){this.timerRepository=e;this.taskRepository=t}async execute(e,t,o="WORK"){let s=await this.timerRepository.findActiveSession(e);if(s){let p=s.stop(new Date,!1,!0);await this.timerRepository.update(p)}let n=v.create({userId:e,taskId:t,startedAt:new Date,type:o}),i=await this.timerRepository.create(n);if(o==="WORK"&&t){let p=await this.taskRepository.findById(t);if(p&&p.props.status==="TODO"){let c=p.updateStatus("IN_PROGRESS");await this.taskRepository.update(c)}}return i}};var ut=class{constructor(e){this.timerRepository=e}async execute(e,t=!1){let o=await this.timerRepository.findActiveSession(e);if(!o)throw new Error("No active timer session found");let s=o.stop(new Date,t,!t);return this.timerRepository.update(s)}};var dt=class{constructor(e){this.timerRepository=e}async execute(e,t=new Date){let o=await this.timerRepository.findActiveSession(e);if(!o)throw new Error("No active timer session found");let s=o.pause(t);return this.timerRepository.update(s)}};var mt=class{constructor(e){this.timerRepository=e}async execute(e,t,o=new Date){let s=await this.timerRepository.findActiveSession(e);if(!s)throw new Error("No active timer session found");let n=s.resume(t,o);return this.timerRepository.update(n)}};var lt=class{constructor(e){this.timerRepository=e}async execute(e,t,o="WORK",s="TASK_SWITCH"){let n=await this.timerRepository.findActiveSession(e);if(!n)throw new Error("No active timer session found");let i=n.split(new Date,!0,s);await this.timerRepository.update(i);let p=v.create({userId:e,taskId:t,startedAt:new Date,type:o,parentSessionId:i.id}),c=await this.timerRepository.create(p);return{oldSession:i,newSession:c}}};var M=class r extends a{constructor(e){super({...e,tasksCreated:e.tasksCreated??0,tasksCompleted:e.tasksCompleted??0,subtasksCompleted:e.subtasksCompleted??0,minutesWorked:e.minutesWorked??0,pomodorosCompleted:e.pomodorosCompleted??0,shortBreaksCompleted:e.shortBreaksCompleted??0,longBreaksCompleted:e.longBreaksCompleted??0,breakMinutes:e.breakMinutes??0,createdAt:e.createdAt??new Date})}static create(e){return new r({...e,tasksCreated:0,tasksCompleted:0,subtasksCompleted:0,minutesWorked:0,pomodorosCompleted:0,shortBreaksCompleted:0,longBreaksCompleted:0,breakMinutes:0})}incrementTasksCreated(){return this.clone({tasksCreated:this.props.tasksCreated+1})}incrementTasksCompleted(){return this.clone({tasksCompleted:this.props.tasksCompleted+1})}decrementTasksCompleted(){return this.clone({tasksCompleted:Math.max(0,this.props.tasksCompleted-1)})}incrementSubtasksCompleted(){return this.clone({subtasksCompleted:this.props.subtasksCompleted+1})}decrementSubtasksCompleted(){return this.clone({subtasksCompleted:Math.max(0,this.props.subtasksCompleted-1)})}addMinutesWorked(e){return this.clone({minutesWorked:this.props.minutesWorked+e})}incrementPomodoros(){return this.clone({pomodorosCompleted:this.props.pomodorosCompleted+1})}updateFocusScore(e){return this.clone({focusScore:Math.max(0,Math.min(1,e))})}incrementShortBreaks(){return this.clone({shortBreaksCompleted:this.props.shortBreaksCompleted+1})}incrementLongBreaks(){return this.clone({longBreaksCompleted:this.props.longBreaksCompleted+1})}addBreakMinutes(e){return this.clone({breakMinutes:this.props.breakMinutes+e})}};var ft=class{constructor(e){this.analyticsRepository=e}async execute(e,t=new Date){let o=await this.analyticsRepository.findByDate(e,t);return o||(o=M.create({userId:e,date:t})),o}};var gt=class{constructor(e){this.analyticsRepository=e}async execute(e){let t=new Date(e.date);t.setHours(0,0,0,0);let o=await this.analyticsRepository.findByDate(e.userId,t);if(o||(o=M.create({userId:e.userId,date:t})),e.tasksCreated)for(let s=0;s<e.tasksCreated;s++)o=o.incrementTasksCreated();if(e.tasksCompleted)for(let s=0;s<Math.abs(e.tasksCompleted);s++)e.tasksCompleted>0?o=o.incrementTasksCompleted():o=o.decrementTasksCompleted();if(e.subtasksCompleted)for(let s=0;s<Math.abs(e.subtasksCompleted);s++)e.subtasksCompleted>0?o=o.incrementSubtasksCompleted():o=o.decrementSubtasksCompleted();if(e.minutesWorked&&(o=o.addMinutesWorked(e.minutesWorked)),e.pomodorosCompleted)for(let s=0;s<e.pomodorosCompleted;s++)o=o.incrementPomodoros();if(e.shortBreaksCompleted)for(let s=0;s<e.shortBreaksCompleted;s++)o=o.incrementShortBreaks();if(e.longBreaksCompleted)for(let s=0;s<e.longBreaksCompleted;s++)o=o.incrementLongBreaks();return e.breakMinutes&&(o=o.addBreakMinutes(e.breakMinutes)),e.focusScore!==void 0&&(o=o.updateFocusScore(e.focusScore)),await this.analyticsRepository.save(o),o}};var ht=class{execute(e){let{totalWorkSeconds:t,totalPauseSeconds:o,pauseCount:s}=e;if(t<=0)return 0;let n=t+o,i=t/n,p=Math.min(s*.02,.2),c=i-p;return c=Math.max(0,Math.min(1,c)),c}};var yt=class r extends a{constructor(e){super({...e,peakHours:e.peakHours??{},peakDays:e.peakDays??{},avgTaskDuration:e.avgTaskDuration??30,completionRate:e.completionRate??.7,categoryPreferences:e.categoryPreferences??{},updatedAt:e.updatedAt??new Date})}static create(e){return new r({userId:e,peakHours:{},peakDays:{},avgTaskDuration:30,completionRate:.7,categoryPreferences:{}})}updatePeakHour(e,t){if(e<0||e>23)throw new Error("Hour must be between 0 and 23");if(t<0||t>1)throw new Error("Score must be between 0 and 1");let s=(this.props.peakHours[e]??.5)*.7+t*.3;return this.clone({peakHours:{...this.props.peakHours,[e]:s},updatedAt:new Date})}updatePeakDay(e,t){if(e<0||e>6)throw new Error("Day of week must be between 0 and 6");if(t<0||t>1)throw new Error("Score must be between 0 and 1");let s=(this.props.peakDays[e]??.5)*.7+t*.3;return this.clone({peakDays:{...this.props.peakDays,[e]:s},updatedAt:new Date})}recalculateAvgDuration(e){if(e.length===0)return this;let t=e.reduce((s,n)=>s+n,0)/e.length,o=this.props.avgTaskDuration*.6+t*.4;return this.clone({avgTaskDuration:Math.round(o),updatedAt:new Date})}updateCompletionRate(e,t){if(t===0)return this;if(e>t)throw new Error("Completed tasks cannot exceed total tasks");let o=e/t,s=this.props.completionRate*.8+o*.2;return this.clone({completionRate:Math.max(0,Math.min(1,s)),updatedAt:new Date})}updateCategoryPreference(e,t){if(t<0||t>1)throw new Error("Score must be between 0 and 1");let s=(this.props.categoryPreferences[e]??.5)*.7+t*.3;return this.clone({categoryPreferences:{...this.props.categoryPreferences,[e]:s},updatedAt:new Date})}getTopPeakHours(e=3){return Object.entries(this.props.peakHours).sort(([,t],[,o])=>o-t).slice(0,e).map(([t])=>parseInt(t))}getTopPeakDays(e=3){return Object.entries(this.props.peakDays).sort(([,t],[,o])=>o-t).slice(0,e).map(([t])=>parseInt(t))}getTopCategories(e=5){return Object.entries(this.props.categoryPreferences).sort(([,t],[,o])=>o-t).slice(0,e).map(([t])=>t)}isPeakHour(e){return(this.props.peakHours[e]??0)>.7}isPeakDay(e){return(this.props.peakDays[e]??0)>.7}};var re=class r extends a{constructor(e){if(super({...e,strengths:e.strengths??[],weaknesses:e.weaknesses??[],recommendations:e.recommendations??[],patterns:e.patterns??[],productivityScore:Math.min(100,Math.max(0,e.productivityScore??0)),metricsSnapshot:e.metricsSnapshot??{},generatedAt:e.generatedAt??new Date,aiModel:e.aiModel??"gemini-2.0-flash-exp"}),e.productivityScore<0||e.productivityScore>100)throw new Error("Productivity score must be between 0 and 100");if(!e.summary||e.summary.trim().length===0)throw new Error("Summary cannot be empty")}static create(e){return new r({...e,generatedAt:new Date,aiModel:"gemini-2.0-flash-exp"})}getScopeLabel(){switch(this.props.scope){case"TASK_COMPLETION":return"Task Completion Report";case"PROJECT_SUMMARY":return"Project Summary";case"PERSONAL_ANALYSIS":return"Personal Analysis";case"WEEKLY_SCHEDULED":return"Weekly Report";case"MONTHLY_SCHEDULED":return"Monthly Report";default:return"Report"}}getScoreColor(){return this.props.productivityScore>=80?"green":this.props.productivityScore>=60?"yellow":"red"}isGoodScore(){return this.props.productivityScore>=70}getMetricsSummary(){let e=this.props.metricsSnapshot,t=[];if(e.tasksCompleted!==void 0&&t.push(`${e.tasksCompleted} tasks completed`),e.minutesWorked!==void 0){let o=Math.floor(e.minutesWorked/60),s=e.minutesWorked%60;o>0?t.push(`${o}h ${s}m worked`):t.push(`${s}m worked`)}return e.pomodorosCompleted!==void 0&&e.pomodorosCompleted>0&&t.push(`${e.pomodorosCompleted} pomodoros`),t.join(", ")||"No metrics available"}hasRecommendations(){return this.props.recommendations.length>0}getTopRecommendations(e=3){return this.props.recommendations.slice(0,e)}};var wt=class{constructor(e){this.aiProfileRepository=e}async execute(e){let{session:t}=e;if(!t.props.wasCompleted)throw new Error("Can only learn from completed sessions");if(t.props.type!=="WORK"&&t.props.type!=="CONTINUOUS")throw new Error("Can only learn from WORK or CONTINUOUS sessions");let o=await this.aiProfileRepository.findOrCreate(t.props.userId),s=t.props.startedAt,n=s.getHours(),i=s.getDay(),p=this.calculateProductivityScore(t),c=o.updatePeakHour(n,p).updatePeakDay(i,p);return t.props.taskId&&t.props.duration&&(c=c.recalculateAvgDuration([t.props.duration])),await this.aiProfileRepository.update(c)}calculateProductivityScore(e){let t=e.props.duration??0,o=e.props.pauseCount??0,s=e.props.totalPauseTime??0,n=e.props.wasCompleted,i=.5;n&&(i+=.2),t>=25&&t<=50?i+=.2:(t>=10&&t<25||t>50)&&(i+=.1);let p=Math.min(o*.05,.3);if(i-=p,t>0){let c=t*60+s,m=t*60/c;m>=.9?i+=.2:m>=.8?i+=.15:m>=.7?i+=.1:m<.5&&(i-=.2)}return Math.max(0,Math.min(1,i))}};var Qs=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],At=class{constructor(e){this.aiProfileRepository=e}async execute(e){let{userId:t,topN:o=5}=e,s=await this.aiProfileRepository.findByUserId(t);if(!s)return{peakHours:[],peakDays:[],recommendation:"Start tracking your work sessions to get personalized productivity insights!"};let n=this.getTopPeakHours(s,o),i=this.getTopPeakDays(s,3),p=this.generateRecommendation(s,n,i);return{peakHours:n,peakDays:i,recommendation:p}}getTopPeakHours(e,t){let o=e.props.peakHours;return Object.entries(o).map(([s,n])=>({hour:parseInt(s),score:n,label:this.formatHour(parseInt(s))})).sort((s,n)=>n.score-s.score).slice(0,t)}getTopPeakDays(e,t){let o=e.props.peakDays;return Object.entries(o).map(([s,n])=>{let i=parseInt(s);return{day:i,score:n,label:Qs[i]||"Unknown"}}).sort((s,n)=>n.score-s.score).slice(0,t)}formatHour(e){let t=e>=12?"PM":"AM";return`${e===0?12:e>12?e-12:e}:00 ${t}`}generateRecommendation(e,t,o){if(t.length===0&&o.length===0)return"Keep tracking your work sessions to discover your peak productivity times!";let s=[];if(t.length>0){let p=t[0];if(p&&p.score>.7){let c=t.slice(0,3).map(m=>m.label).join(", ");s.push(`Your peak productivity hours are ${c}.`)}else p&&p.score>.5&&s.push(`You work well during ${p.label}.`)}if(o.length>0){let p=o[0];if(p&&p.score>.7){let c=o.slice(0,2).map(m=>m.label).join(" and ");s.push(`You're most productive on ${c}.`)}}let n=e.props.avgTaskDuration;n>0&&s.push(`Your average focused work session is ${n} minutes.`);let i=e.props.completionRate;return i>=.8?s.push(`You have an excellent task completion rate of ${Math.round(i*100)}%!`):i<.5&&s.push(`Try breaking tasks into smaller chunks to improve your ${Math.round(i*100)}% completion rate.`),s.join(" ")||"Keep working to build your productivity profile!"}};var It=class{constructor(e){this.aiProfileRepository=e}async execute(e){let{userId:t,taskTitle:o,taskDescription:s,category:n,priority:i}=e,p=await this.aiProfileRepository.findByUserId(t);if(!p)return{estimatedMinutes:30,confidence:"LOW",reasoning:"Using default estimate of 30 minutes. Complete more tasks to get personalized predictions!"};let c=p.props.avgTaskDuration,m="MEDIUM",l=[];if(n&&p.props.categoryPreferences[n]){let fe=p.props.categoryPreferences[n];fe>.7?(c*=.85,l.push(`You're efficient with ${n} tasks (-15%)`),m="HIGH"):fe<.4&&(c*=1.2,l.push(`${n} tasks typically take you longer (+20%)`),m="MEDIUM")}if(i)switch(i){case"URGENT":c*=.9,l.push("Urgent priority tends to increase focus (-10%)");break;case"HIGH":c*=1.1,l.push("High priority suggests complexity (+10%)");break;case"LOW":c*=.85,l.push("Low priority typically means simpler tasks (-15%)");break}let x=`${o||""} ${s||""}`.toLowerCase();this.containsComplexityKeywords(x,["refactor","redesign","architecture","migration"])?(c*=1.5,l.push("Complex task keywords detected (+50%)")):this.containsComplexityKeywords(x,["fix","bug","issue","debug"])?(c*=1.2,l.push("Debugging tasks can be unpredictable (+20%)")):this.containsComplexityKeywords(x,["simple","quick","minor","small"])&&(c*=.75,l.push("Simple task indicators found (-25%)")),c=Math.round(c/5)*5,c=Math.max(10,c);let B=`Based on your average of ${p.props.avgTaskDuration} minutes`;return l.length>0?B+=`. ${l.join(". ")}.`:B+=".",!n&&!i&&!o&&!s&&(m="LOW"),{estimatedMinutes:c,confidence:m,reasoning:B}}containsComplexityKeywords(e,t){return t.some(o=>e.includes(o))}};var xt=class{constructor(e,t,o,s,n){this.reportRepository=e;this.analyticsRepository=t;this.timerRepository=o;this.aiProfileRepository=s;this.generateReportData=n}async execute(e){let{userId:t,weekStart:o}=e,s=o||this.getWeekStart(new Date),n=new Date(s);n.setDate(n.getDate()+6);let i=await this.reportRepository.findLatestByScope(t,"WEEKLY_SCHEDULED");if(i&&this.isSameWeek(i.props.generatedAt,s))return{report:i,isNew:!1};let[p,c,m]=await Promise.all([this.analyticsRepository.getRange(t,s,n),this.timerRepository.findByUserIdAndDateRange(t,s,n),this.aiProfileRepository.findByUserId(t)]),l={tasksCreated:p.reduce((y,D)=>y+D.props.tasksCreated,0),tasksCompleted:p.reduce((y,D)=>y+D.props.tasksCompleted,0),minutesWorked:p.reduce((y,D)=>y+D.props.minutesWorked,0),pomodorosCompleted:p.reduce((y,D)=>y+D.props.pomodorosCompleted,0),focusScore:p.length>0?p.reduce((y,D)=>y+(D.props.focusScore??0),0)/p.length:0,sessionsCount:c.length},x=await this.generateReportData({userId:t,scope:"WEEKLY_SCHEDULED",metricsSnapshot:l,sessions:c.map(y=>y.props),profile:m?.props}),B=re.create({userId:t,scope:"WEEKLY_SCHEDULED",summary:x.summary,strengths:x.strengths,weaknesses:x.weaknesses,recommendations:x.recommendations,patterns:x.patterns,productivityScore:x.productivityScore,metricsSnapshot:l});return{report:await this.reportRepository.save(B),isNew:!0}}getWeekStart(e){let t=new Date(e),o=t.getDay(),s=t.getDate()-o+(o===0?-6:1);return new Date(t.setDate(s))}isSameWeek(e,t){let o=this.getWeekStart(e),s=this.getWeekStart(t);return o.getTime()===s.getTime()}};var le=class{async suggestTaskDetails(e){await new Promise(n=>setTimeout(n,1e3));let t=e.toLowerCase(),o="MEDIUM";t.includes("urgente")||t.includes("asap")?o="URGENT":t.includes("importante")&&(o="HIGH");let s;if(t.includes("ma\xF1ana")){let n=new Date;n.setDate(n.getDate()+1),s=n}else t.includes("hoy")&&(s=new Date);return{title:e,description:"Generated by Ordo AI based on your input.",priority:o,dueDate:s}}async chat(e,t){return await new Promise(o=>setTimeout(o,1e3)),`I am Ordo AI. You said: "${e}". I am currently in development mode.`}},en=new le;var Et=class r extends a{constructor(e){super({...e,frequency:e.frequency??"DAILY",targetDaysOfWeek:e.targetDaysOfWeek??[0,1,2,3,4,5,6],targetCount:e.targetCount??1,color:e.color??"#10B981",currentStreak:e.currentStreak??0,longestStreak:e.longestStreak??0,totalCompletions:e.totalCompletions??0,isActive:e.isActive??!0,isPaused:e.isPaused??!1,completions:e.completions??[],createdAt:e.createdAt??new Date,updatedAt:e.updatedAt??new Date})}static create(e){return new r({...e,currentStreak:0,longestStreak:0,totalCompletions:0,isActive:!0,isPaused:!1})}isScheduledForDay(e){return this.props.frequency==="DAILY"?!0:this.props.frequency==="SPECIFIC_DAYS"?this.props.targetDaysOfWeek.includes(e):!0}complete(e=!0){let t=this.props.totalCompletions+1,o=e?this.props.currentStreak+1:1,s=Math.max(this.props.longestStreak,o);return this.clone({totalCompletions:t,currentStreak:o,longestStreak:s,updatedAt:new Date})}resetStreak(){return this.clone({currentStreak:0,updatedAt:new Date})}pause(){return this.clone({isPaused:!0,pausedAt:new Date,updatedAt:new Date})}resume(){return this.clone({isPaused:!1,pausedAt:void 0,updatedAt:new Date})}archive(){return this.clone({isActive:!1,archivedAt:new Date,updatedAt:new Date})}update(e){return this.clone({...e,updatedAt:new Date})}};var oe=class r extends a{constructor(e){super({...e,x:e.x??100,y:e.y??100,width:e.width??300,height:e.height??300,color:e.color??"#feff9c"})}static create(e){return new r({...e,x:e.x??100,y:e.y??100,width:e.width??300,height:e.height??300,color:e.color??"#feff9c",createdAt:new Date,updatedAt:new Date})}updateContent(e){return this.clone({content:e,updatedAt:new Date})}updatePosition(e,t){return this.clone({x:e,y:t,updatedAt:new Date})}updateSize(e,t){return this.clone({width:e,height:t,updatedAt:new Date})}updateColor(e){return this.clone({color:e,updatedAt:new Date})}update(e){return this.clone({...e,updatedAt:new Date})}};var Dt=class{constructor(e){this.repository=e}async execute(e){if(!e.content||e.content.trim().length===0)throw new Error("Note content is required");if(!e.workspaceId)throw new Error("Workspace ID is required");let t=oe.create({content:e.content,workspaceId:e.workspaceId,authorId:e.authorId,x:e.x??100,y:e.y??100,width:e.width??300,height:e.height??300,color:e.color??"#feff9c"});return await this.repository.save(t),t}};var C=class{constructor(e){this.repository=e}async execute(e){let t=await this.repository.findById(e.id);if(!t)throw new Error("Note not found");if(t.props.authorId!==e.userId&&!await this.repository.findWorkspaceMember(t.props.workspaceId,e.userId))throw new Error("You do not have permission to access this note");return t}};var bt=class{constructor(e){this.repository=e}async execute(e){let o=await new C(this.repository).execute({id:e.id,userId:e.userId});if(o.props.authorId!==e.userId)throw new Error("Only the note author can update it");let s=o.update({content:e.content,x:e.x,y:e.y,width:e.width,height:e.height,color:e.color});return await this.repository.update(s),s}};var Tt=class{constructor(e){this.repository=e}async execute(e){let o=await new C(this.repository).execute({id:e.id,userId:e.userId});if(o.props.authorId!==e.userId)throw new Error("Only the note author can delete it");return await this.repository.delete(o.id),o}};var Pt=class{constructor(e){this.repository=e}async execute(e){if(!await this.repository.findWorkspaceMember(e.workspaceId,e.userId))throw new Error("You are not a member of this workspace");return await this.repository.findByWorkspaceId(e.workspaceId,{limit:e.limit,page:e.page,search:e.search,authorId:e.authorId,sortBy:e.sortBy,sortOrder:e.sortOrder})}};var se=class r extends a{constructor(e,t="valid"){super({...e,mentions:e.mentions??[],isEdited:e.isEdited??!1,createdAt:e.createdAt??new Date,updatedAt:e.updatedAt??new Date},t),this.mode==="valid"&&(this.validateContent(e.content),this.validateTaskId(e.taskId),this.validateUserId(e.userId),this.validateMentions(e.mentions))}static create(e){return new r({...e,mentions:e.mentions??[],isEdited:!1,createdAt:new Date,updatedAt:new Date})}get taskId(){return this.props.taskId}get userId(){return this.props.userId}get content(){return this.props.content}get mentions(){return this.props.mentions??[]}get parentCommentId(){return this.props.parentCommentId}get isEdited(){return this.props.isEdited??!1}get editedAt(){return this.props.editedAt}get createdAt(){return this.props.createdAt??new Date}get updatedAt(){return this.props.updatedAt??new Date}edit(e){let t=e.trim();return this.validateContent(t),this.clone({content:t,isEdited:!0,editedAt:new Date,updatedAt:new Date})}addMention(e){if(!e||e.trim().length===0)throw new Error("User ID for mention cannot be empty");let t=this.props.mentions??[];return t.includes(e)?this:this.clone({mentions:[...t,e],updatedAt:new Date})}removeMention(e){let t=this.props.mentions??[];return t.includes(e)?this.clone({mentions:t.filter(o=>o!==e),updatedAt:new Date}):this}hasMention(e){return this.mentions.includes(e)}isReply(){return this.props.parentCommentId!==null&&this.props.parentCommentId!==void 0&&this.props.parentCommentId.length>0}get mentionCount(){return this.mentions.length}validateContent(e){if(!e||typeof e!="string")throw new Error("Comment content is required");let t=e.trim();if(t.length===0)throw new Error("Comment content cannot be empty");if(t.length<E.CONTENT_MIN_LENGTH)throw new Error(`Comment content must be at least ${E.CONTENT_MIN_LENGTH} character(s)`);if(t.length>E.CONTENT_MAX_LENGTH)throw new Error(`Comment content cannot exceed ${E.CONTENT_MAX_LENGTH} characters`)}validateTaskId(e){if(!e||typeof e!="string"||e.trim().length===0)throw new Error("Task ID is required")}validateUserId(e){if(!e||typeof e!="string"||e.trim().length===0)throw new Error("User ID is required")}validateMentions(e){if(e!=null){if(!Array.isArray(e))throw new Error("Mentions must be an array");for(let t of e)if(typeof t!="string"||t.trim().length===0)throw new Error("Each mention must be a non-empty string")}}asDraft(){return this.clone(this.props,"draft")}asValid(){return this.clone(this.props,"valid")}};var kt=class{constructor(e){this.commentRepository=e}async execute(e,t){if(!e.taskId||e.taskId.trim().length===0)throw new Error("Task ID is required");if(!e.userId||e.userId.trim().length===0)throw new Error("User ID is required");if(!e.content||e.content.trim().length===0)throw new Error("Comment content is required");let o=se.create({taskId:e.taskId,userId:e.userId,content:e.content.trim(),parentCommentId:e.parentCommentId??null,mentions:e.mentions??[]});return await this.commentRepository.create(o),o}};var Rt=class{constructor(e){this.commentRepository=e}async execute(e,t){if(!e.commentId||e.commentId.trim().length===0)throw new Error("Comment ID is required");if(!e.userId||e.userId.trim().length===0)throw new Error("User ID is required");if(!e.newContent||e.newContent.trim().length===0)throw new Error("New content is required");let o=await this.commentRepository.findById(e.commentId);if(!o)throw new Error("Comment not found");if(o.userId!==e.userId)throw new Error("You can only edit your own comments");let s=o.edit(e.newContent.trim());return await this.commentRepository.update(s),s}};var St=class{constructor(e){this.commentRepository=e}async execute(e,t){if(!e.commentId||e.commentId.trim().length===0)throw new Error("Comment ID is required");if(!e.userId||e.userId.trim().length===0)throw new Error("User ID is required");let o=await this.commentRepository.findById(e.commentId);if(!o)throw new Error("Comment not found");if(o.userId!==e.userId)throw new Error("You can only delete your own comments");await this.commentRepository.delete(e.commentId)}};var vt=class{constructor(e){this.commentRepository=e}async execute(e,t){if(!e.taskId||e.taskId.trim().length===0)throw new Error("Task ID is required");return await this.commentRepository.findByTaskId(e.taskId)}};var Mt=class{constructor(e){this.commentRepository=e}async execute(e,t){if(!e.userId||e.userId.trim().length===0)throw new Error("User ID is required");return await this.commentRepository.findByUserId(e.userId)}};var Ct=class{constructor(e){this.commentRepository=e}async execute(e,t){if(!e.commentId||e.commentId.trim().length===0)throw new Error("Comment ID is required");if(!e.userIdToMention||e.userIdToMention.trim().length===0)throw new Error("User ID to mention is required");let o=await this.commentRepository.findById(e.commentId);if(!o)throw new Error("Comment not found");let s=o.addMention(e.userIdToMention);return await this.commentRepository.update(s),s}};var Nt=class{constructor(e){this.commentRepository=e}async execute(e,t){if(!e.commentId||e.commentId.trim().length===0)throw new Error("Comment ID is required");if(!e.userIdToUnmention||e.userIdToUnmention.trim().length===0)throw new Error("User ID to unmention is required");let o=await this.commentRepository.findById(e.commentId);if(!o)throw new Error("Comment not found");let s=o.removeMention(e.userIdToUnmention);return await this.commentRepository.update(s),s}};var ne=class r extends a{constructor(e,t="valid"){super({...e,isUploaded:e.isUploaded??!1,createdAt:e.createdAt??new Date,updatedAt:e.updatedAt??new Date},t),this.mode==="valid"&&(this.validateTaskId(e.taskId),this.validateUserId(e.userId),this.validateFileName(e.fileName),this.validateOriginalName(e.originalName),this.validateMimeType(e.mimeType),this.validateSize(e.size),this.validateStoragePath(e.storagePath))}static create(e){return new r({...e,isUploaded:!1,createdAt:new Date,updatedAt:new Date})}get taskId(){return this.props.taskId}get userId(){return this.props.userId}get fileName(){return this.props.fileName}get originalName(){return this.props.originalName}get mimeType(){return this.props.mimeType}get size(){return this.props.size}get storagePath(){return this.props.storagePath}get isUploaded(){return this.props.isUploaded??!1}get uploadedAt(){return this.props.uploadedAt}get createdAt(){return this.props.createdAt??new Date}get updatedAt(){return this.props.updatedAt??new Date}markAsUploaded(){return this.clone({isUploaded:!0,uploadedAt:new Date,updatedAt:new Date})}getFileSizeInMB(){return this.props.size/(1024*1024)}getFileSizeInKB(){return this.props.size/1024}isImage(){return this.props.mimeType.startsWith("image/")}isPDF(){return this.props.mimeType==="application/pdf"}isDocument(){return["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","text/plain","text/csv"].includes(this.props.mimeType)}getExtension(){let e=this.props.originalName.split(".");return e.length>1?"."+(e[e.length-1]?.toLowerCase()??""):""}isTooLarge(e){return this.getFileSizeInMB()>e}validateTaskId(e){if(!e||typeof e!="string"||e.trim().length===0)throw new Error("Task ID is required")}validateUserId(e){if(!e||typeof e!="string"||e.trim().length===0)throw new Error("User ID is required")}validateFileName(e){if(!e||typeof e!="string")throw new Error("File name is required");let t=e.trim();if(t.length===0)throw new Error("File name cannot be empty");if(t.length>255)throw new Error("File name cannot exceed 255 characters")}validateOriginalName(e){if(!e||typeof e!="string")throw new Error("Original file name is required");let t=e.trim();if(t.length===0)throw new Error("Original file name cannot be empty");if(t.length>255)throw new Error("Original file name cannot exceed 255 characters")}validateMimeType(e){if(!e||typeof e!="string")throw new Error("MIME type is required");let t=e.trim();if(t.length===0)throw new Error("MIME type cannot be empty");if(!/^[a-z]+\/[a-z0-9]+[a-z0-9+.-]*$/i.test(t))throw new Error("Invalid MIME type format")}validateSize(e){if(typeof e!="number"||isNaN(e))throw new Error("File size must be a number");if(e<=0)throw new Error("File size must be greater than 0");let t=_.MAX_FILE_SIZE;if(e>t)throw new Error(`File size cannot exceed ${t/(1024*1024)} MB`)}validateStoragePath(e){if(!e||typeof e!="string")throw new Error("Storage path is required");let t=e.trim();if(t.length===0)throw new Error("Storage path cannot be empty");if(t.length>2048)throw new Error("Storage path cannot exceed 2048 characters")}asDraft(){return this.clone(this.props,"draft")}asValid(){return this.clone(this.props,"valid")}};var Ot=class{constructor(e){this.attachmentRepository=e}async execute(e,t){if(!e.taskId||e.taskId.trim().length===0)throw new Error("Task ID is required");if(!e.userId||e.userId.trim().length===0)throw new Error("User ID is required");if(!e.fileName||e.fileName.trim().length===0)throw new Error("File name is required");if(!e.originalName||e.originalName.trim().length===0)throw new Error("Original file name is required");if(!e.mimeType||e.mimeType.trim().length===0)throw new Error("MIME type is required");if(typeof e.size!="number"||e.size<=0)throw new Error("File size must be a positive number");if(!e.storagePath||e.storagePath.trim().length===0)throw new Error("Storage path is required");let o=ne.create({taskId:e.taskId.trim(),userId:e.userId.trim(),fileName:e.fileName.trim(),originalName:e.originalName.trim(),mimeType:e.mimeType.trim(),size:e.size,storagePath:e.storagePath.trim()});return await this.attachmentRepository.create(o),o}};var _t=class{constructor(e){this.attachmentRepository=e}async execute(e,t){if(!e.attachmentId||e.attachmentId.trim().length===0)throw new Error("Attachment ID is required");let o=await this.attachmentRepository.findById(e.attachmentId);if(!o)throw new Error("Attachment not found");let s=o.markAsUploaded();return await this.attachmentRepository.update(s),s}};var Lt=class{constructor(e){this.attachmentRepository=e}async execute(e,t){if(!e.attachmentId||e.attachmentId.trim().length===0)throw new Error("Attachment ID is required");if(!e.userId||e.userId.trim().length===0)throw new Error("User ID is required");let o=await this.attachmentRepository.findById(e.attachmentId);if(!o)throw new Error("Attachment not found");if(o.userId!==e.userId)throw new Error("You can only delete your own attachments");await this.attachmentRepository.delete(e.attachmentId)}};var Ut=class{constructor(e){this.attachmentRepository=e}async execute(e,t){if(!e.taskId||e.taskId.trim().length===0)throw new Error("Task ID is required");return await this.attachmentRepository.findByTaskId(e.taskId)}};var Wt=class{constructor(e){this.attachmentRepository=e}async execute(e,t){if(!e.userId||e.userId.trim().length===0)throw new Error("User ID is required");return await this.attachmentRepository.findByUserId(e.userId)}};var Bt=class{constructor(e){this.attachmentRepository=e}async execute(e,t){if(!e.attachmentId||e.attachmentId.trim().length===0)throw new Error("Attachment ID is required");let o=await this.attachmentRepository.findById(e.attachmentId);if(!o)throw new Error("Attachment not found");return o}};var Ht=(l=>(l.TASK_ASSIGNED="TASK_ASSIGNED",l.COMMENT_ADDED="COMMENT_ADDED",l.MENTIONED="MENTIONED",l.DUE_DATE_APPROACHING="DUE_DATE_APPROACHING",l.INVITATION_RECEIVED="INVITATION_RECEIVED",l.SYSTEM="SYSTEM",l.TASK_COMPLETED="TASK_COMPLETED",l.TASK_STATUS_CHANGED="TASK_STATUS_CHANGED",l.WORKSPACE_ADDED="WORKSPACE_ADDED",l.PROJECT_UPDATED="PROJECT_UPDATED",l))(Ht||{}),jt=(s=>(s.TASK="TASK",s.PROJECT="PROJECT",s.WORKSPACE="WORKSPACE",s.COMMENT="COMMENT",s))(jt||{}),ie=class r extends a{constructor(e,t="valid"){super({...e,isRead:e.isRead??!1,createdAt:e.createdAt??new Date,updatedAt:e.updatedAt??new Date},t),this.mode==="valid"&&(this.validateUserId(e.userId),this.validateType(e.type),this.validateTitle(e.title),this.validateMessage(e.message),this.validateResourceType(e.resourceType),this.validateMetadata(e.metadata),this.validateResourceId(e.resourceId))}static create(e){return new r({...e,isRead:!1,createdAt:new Date,updatedAt:new Date})}get userId(){return this.props.userId}get type(){return this.props.type}get title(){return this.props.title}get message(){return this.props.message}get resourceId(){return this.props.resourceId}get resourceType(){return this.props.resourceType}get metadata(){return this.props.metadata}get isRead(){return this.props.isRead??!1}get readAt(){return this.props.readAt}get createdAt(){return this.props.createdAt??new Date}get updatedAt(){return this.props.updatedAt??new Date}markAsRead(){return this.props.isRead===!0?this:this.clone({isRead:!0,readAt:new Date,updatedAt:new Date})}markAsUnread(){return this.props.isRead===!1?this:this.clone({isRead:!1,readAt:null,updatedAt:new Date})}isExpired(){return!1}isHighPriority(){return["TASK_ASSIGNED","MENTIONED","DUE_DATE_APPROACHING"].includes(this.props.type)}isActionable(){return this.props.resourceId!==null&&this.props.resourceId!==void 0&&this.props.resourceId.length>0}getAge(){return Date.now()-this.props.createdAt.getTime()}isOlderThan(e){return this.getAge()>e}getMetadata(e,t){let o=this.props.metadata;return o&&typeof o=="object"&&e in o?o[e]:t}isTaskNotification(){return this.props.resourceType==="TASK"}isProjectNotification(){return this.props.resourceType==="PROJECT"}isWorkspaceNotification(){return this.props.resourceType==="WORKSPACE"}validateUserId(e){if(!e||typeof e!="string"||e.trim().length===0)throw new Error("User ID is required")}validateType(e){if(!e||typeof e!="string")throw new Error("Notification type is required");let t=Object.values(Ht);if(!t.includes(e))throw new Error(`Invalid notification type. Must be one of: ${t.join(", ")}`)}validateTitle(e){if(!e||typeof e!="string")throw new Error("Notification title is required");let t=e.trim();if(t.length===0)throw new Error("Notification title cannot be empty");if(t.length<k.TITLE_MIN_LENGTH)throw new Error(`Notification title must be at least ${k.TITLE_MIN_LENGTH} character(s)`);if(t.length>k.TITLE_MAX_LENGTH)throw new Error(`Notification title cannot exceed ${k.TITLE_MAX_LENGTH} characters`)}validateMessage(e){if(e==null||e==="")return;if(typeof e!="string")throw new Error("Notification message must be a string");let t=e.trim();if(t.length!==0&&t.length>k.MESSAGE_MAX_LENGTH)throw new Error(`Notification message cannot exceed ${k.MESSAGE_MAX_LENGTH} characters`)}validateResourceType(e){if(e==null)return;let t=Object.values(jt);if(!t.includes(e))throw new Error(`Invalid resource type. Must be one of: ${t.join(", ")}`)}validateResourceId(e){if(!(e==null||e==="")){if(typeof e!="string")throw new Error("Resource ID must be a string");e.trim().length}}validateMetadata(e){if(e!=null&&(typeof e!="object"||Array.isArray(e)))throw new Error("Notification metadata must be an object")}asDraft(){return this.clone(this.props,"draft")}asValid(){return this.clone(this.props,"valid")}};var Gt=class{constructor(e){this.notificationRepository=e}async execute(e,t){if(!e.userId||e.userId.trim().length===0)throw new Error("User ID is required");if(!e.type)throw new Error("Notification type is required");if(!e.title||e.title.trim().length===0)throw new Error("Notification title is required");let o=e.title.trim(),s=e.message?e.message.trim():void 0,n=ie.create({userId:e.userId.trim(),type:e.type,title:o,message:s,resourceId:e.resourceId??null,resourceType:e.resourceType??null,metadata:e.metadata??null});return await this.notificationRepository.create(n),n}};var Ft=class{constructor(e){this.notificationRepository=e}async execute(e,t){if(!e.notificationId||e.notificationId.trim().length===0)throw new Error("Notification ID is required");if(!e.userId||e.userId.trim().length===0)throw new Error("User ID is required");let o=await this.notificationRepository.findById(e.notificationId.trim());if(!o)throw new Error("Notification not found");if(o.userId!==e.userId.trim())throw new Error("You do not have permission to mark this notification as read");let s=o.markAsRead();return await this.notificationRepository.update(s),s}};var $t=class{constructor(e){this.notificationRepository=e}async execute(e,t){if(!e.userId||e.userId.trim().length===0)throw new Error("User ID is required");let o=await this.notificationRepository.countUnreadByUserId(e.userId.trim());return await this.notificationRepository.markAllAsRead(e.userId.trim()),{count:o}}};var Vt=class{constructor(e){this.notificationRepository=e}async execute(e,t){if(!e.notificationId||e.notificationId.trim().length===0)throw new Error("Notification ID is required");if(!e.userId||e.userId.trim().length===0)throw new Error("User ID is required");let o=await this.notificationRepository.findById(e.notificationId.trim());if(!o)throw new Error("Notification not found");if(o.userId!==e.userId.trim())throw new Error("You do not have permission to mark this notification as unread");let s=o.markAsUnread();return await this.notificationRepository.update(s),s}};var Kt=class{constructor(e){this.notificationRepository=e}async execute(e,t){if(!e.userId||e.userId.trim().length===0)throw new Error("User ID is required");let o=e.userId.trim(),n=(await this.notificationRepository.findUnreadByUserId(o)).sort((i,p)=>{let c=i.isHighPriority(),m=p.isHighPriority();return c&&!m?-1:!c&&m?1:p.createdAt.getTime()-i.createdAt.getTime()});return e.limit!==void 0?e.limit<=0?[]:n.slice(0,e.limit):n}};var qt=class{constructor(e){this.notificationRepository=e}async execute(e,t){if(!e.notificationId||e.notificationId.trim().length===0)throw new Error("Notification ID is required");if(!e.userId||e.userId.trim().length===0)throw new Error("User ID is required");let o=await this.notificationRepository.findById(e.notificationId.trim());return!o||o.userId!==e.userId.trim()?null:o}};var zt=class{constructor(e){this.notificationRepository=e}async execute(e,t){if(!e.userId||e.userId.trim().length===0)throw new Error("User ID is required");if(!e.type)throw new Error("Notification type is required");return await this.notificationRepository.findByType(e.userId.trim(),e.type)}};var Xt=class{constructor(e){this.notificationRepository=e}async execute(e,t){if(!e.notificationId||e.notificationId.trim().length===0)throw new Error("Notification ID is required");if(!e.userId||e.userId.trim().length===0)throw new Error("User ID is required");let o=await this.notificationRepository.findById(e.notificationId.trim());if(!o)throw new Error("Notification not found");if(o.userId!==e.userId.trim())throw new Error("You do not have permission to delete this notification");await this.notificationRepository.delete(e.notificationId.trim())}};var Yt=class{constructor(e){this.notificationRepository=e}async execute(e,t){if(!e.userId||e.userId.trim().length===0)throw new Error("User ID is required");return{count:await this.notificationRepository.countUnreadByUserId(e.userId.trim())}}};var Jt=class r extends a{constructor(e){super({...e,type:e.type??"NEW",publishedAt:e.publishedAt??new Date,createdAt:e.createdAt??new Date,updatedAt:e.updatedAt??new Date})}static create(e){return new r({...e,createdAt:new Date,updatedAt:new Date})}get version(){return this.props.version}get title(){return this.props.title}get content(){return this.props.content}get type(){return this.props.type}get publishedAt(){return this.props.publishedAt}get createdAt(){return this.props.createdAt}get updatedAt(){return this.props.updatedAt}isPublished(){return this.props.publishedAt<=new Date}isNewFeature(){return this.props.type==="NEW"}isFix(){return this.props.type==="FIXED"}update(e){return this.clone({...e,updatedAt:new Date})}publish(){return this.clone({publishedAt:new Date,updatedAt:new Date})}};var Zt=class r extends a{constructor(e){super({...e,active:e.active??!0,createdAt:e.createdAt??new Date})}static create(e){return new r({...e,active:!0,createdAt:new Date})}get email(){return this.props.email}get active(){return this.props.active}get userId(){return this.props.userId}get createdAt(){return this.props.createdAt}isActive(){return this.props.active}subscribe(){return this.clone({active:!0})}unsubscribe(){return this.clone({active:!1})}linkToUser(e){return this.clone({userId:e})}updateEmail(e){return this.clone({email:e})}};var Qt=class r extends a{constructor(e){super({...e,read:e.read??!1,createdAt:e.createdAt??new Date})}static create(e){return new r({...e,read:!1,createdAt:new Date})}get name(){return this.props.name}get email(){return this.props.email}get subject(){return this.props.subject}get message(){return this.props.message}get read(){return this.props.read}get createdAt(){return this.props.createdAt}isRead(){return this.props.read}markAsRead(){return this.clone({read:!0})}markAsUnread(){return this.clone({read:!1})}};var er=class r extends a{constructor(e){super({...e,status:e.status??"CONSIDERING",totalVotes:e.totalVotes??0,createdAt:e.createdAt??new Date,updatedAt:e.updatedAt??new Date})}static create(e){return new r({...e,status:"CONSIDERING",totalVotes:0,createdAt:new Date,updatedAt:new Date})}get title(){return this.props.title}get description(){return this.props.description}get status(){return this.props.status}get totalVotes(){return this.props.totalVotes}get createdAt(){return this.props.createdAt}get updatedAt(){return this.props.updatedAt}isConsidering(){return this.props.status==="CONSIDERING"}isPlanned(){return this.props.status==="PLANNED"}isInProgress(){return this.props.status==="IN_PROGRESS"}isCompleted(){return this.props.status==="COMPLETED"}updateStatus(e){return this.clone({status:e,updatedAt:new Date})}incrementVotes(e){return this.clone({totalVotes:this.props.totalVotes+e,updatedAt:new Date})}decrementVotes(e){return this.clone({totalVotes:Math.max(0,this.props.totalVotes-e),updatedAt:new Date})}};var tr=class r extends a{constructor(e){super({...e,weight:e.weight??1,createdAt:e.createdAt??new Date})}static create(e){return new r({...e,createdAt:new Date})}get itemId(){return this.props.itemId}get userId(){return this.props.userId}get weight(){return this.props.weight}get createdAt(){return this.props.createdAt}};function tn(r){switch(r){case"PRO":return 3;case"TEAM":return 5;case"ENTERPRISE":return 10;default:return 1}}var rr=class r extends a{constructor(e){super({...e,published:e.published??!1,tags:e.tags??[],createdAt:e.createdAt??new Date,updatedAt:e.updatedAt??new Date})}static create(e){return new r({...e,published:!1,tags:e.tags??[],createdAt:new Date,updatedAt:new Date})}get slug(){return this.props.slug}get title(){return this.props.title}get content(){return this.props.content}get published(){return this.props.published}publish(){return this.clone({published:!0,publishedAt:new Date,updatedAt:new Date})}unpublish(){return this.clone({published:!1,updatedAt:new Date})}};var or=class r extends a{constructor(e){super({...e,createdAt:e.createdAt??new Date})}static create(e){return new r({...e,createdAt:new Date})}get content(){return this.props.content}get userId(){return this.props.userId}get postId(){return this.props.postId}};var sr=class r extends a{constructor(e){super({...e,createdAt:e.createdAt??new Date,updatedAt:e.updatedAt??new Date})}static create(e){return new r({...e,createdAt:new Date,updatedAt:new Date})}get code(){return this.props.code}get name(){return this.props.name}get description(){return this.props.description}get icon(){return this.props.icon}get xpReward(){return this.props.xpReward}};var nr=class r extends a{constructor(e){super({...e,unlockedAt:e.unlockedAt??new Date})}static create(e){return new r({...e,unlockedAt:new Date})}get userId(){return this.props.userId}get achievementId(){return this.props.achievementId}get unlockedAt(){return this.props.unlockedAt}};var ir=class r extends a{constructor(e){super({...e,isArchived:e.isArchived??!1,createdAt:e.createdAt??new Date,updatedAt:e.updatedAt??new Date})}static create(e){return new r({...e,isArchived:!1,createdAt:new Date,updatedAt:new Date})}get userId(){return this.props.userId}get title(){return this.props.title}get isArchived(){return this.props.isArchived}archive(){return this.clone({isArchived:!0,archivedAt:new Date,updatedAt:new Date})}updateTitle(e){return this.clone({title:e,updatedAt:new Date})}};var ar=class r extends a{constructor(e){super({...e,createdAt:e.createdAt??new Date})}static create(e){return new r({...e,createdAt:new Date})}get conversationId(){return this.props.conversationId}get role(){return this.props.role}get content(){return this.props.content}get metadata(){return this.props.metadata}get createdAt(){return this.props.createdAt}};var pr=class r extends a{constructor(e){super({...e,isPublic:e.isPublic??!0,createdAt:e.createdAt??new Date,updatedAt:e.updatedAt??new Date})}static create(e){return new r({...e,createdAt:new Date,updatedAt:new Date})}get name(){return this.props.name}get description(){return this.props.description}get workspaceId(){return this.props.workspaceId}get isPublic(){return this.props.isPublic}update(e){return this.clone({...e,updatedAt:new Date})}};var cr=class r extends a{constructor(e){super({...e,status:e.status??"ACTIVE",progress:e.progress??0,color:e.color??"#3B82F6",startDate:e.startDate??new Date,createdAt:e.createdAt??new Date,updatedAt:e.updatedAt??new Date,keyResults:e.keyResults??[]})}static create(e){return new r({...e,status:"ACTIVE",progress:0,keyResults:[],createdAt:new Date,updatedAt:new Date})}get title(){return this.props.title}get userId(){return this.props.userId}get progress(){return this.props.progress}calculateProgress(){return!this.props.keyResults||this.props.keyResults.length===0?0:this.props.keyResults.reduce((t,o)=>t+o.progress,0)/this.props.keyResults.length}updateProgress(){let e=this.calculateProgress();return this.clone({progress:e,updatedAt:new Date})}};var ur=class r extends a{constructor(e){super({...e,progress:e.progress??0,startValue:e.startValue??0,currentValue:e.currentValue??e.startValue??0,createdAt:e.createdAt??new Date,updatedAt:e.updatedAt??new Date})}static create(e){return new r({...e,progress:0}).updateProgress(e.currentValue)}get progress(){return this.props.progress}updateProgress(e){let{startValue:t,targetValue:o}=this.props,s=0;return o!==t?s=Math.max(0,Math.min(100,(e-t)/(o-t)*100)):s=e>=o?100:0,this.clone({currentValue:e,progress:s,updatedAt:new Date})}};var dr=class{constructor(e){this.props=e}get keyResultId(){return this.props.keyResultId}get taskId(){return this.props.taskId}get weight(){return this.props.weight}};var mr=class r extends a{constructor(e){super({...e,order:e.order??0,published:e.published??!0,createdAt:e.createdAt??new Date,updatedAt:e.updatedAt??new Date})}static create(e){return new r({...e,createdAt:new Date,updatedAt:new Date})}get question(){return this.props.question}get answer(){return this.props.answer}get category(){return this.props.category}get order(){return this.props.order}get published(){return this.props.published}update(e){return this.clone({...e,updatedAt:new Date})}};var lr=class r extends a{constructor(e){super({...e,order:e.order??0,articles:e.articles??[],createdAt:e.createdAt??new Date,updatedAt:e.updatedAt??new Date})}static create(e){return new r({...e,createdAt:new Date,updatedAt:new Date})}get name(){return this.props.name}get slug(){return this.props.slug}get icon(){return this.props.icon}get order(){return this.props.order}get articles(){return this.props.articles||[]}update(e){return this.clone({...e,updatedAt:new Date})}};var fr=class r extends a{constructor(e){super({...e,helpfulYes:e.helpfulYes??0,helpfulNo:e.helpfulNo??0,published:e.published??!1,createdAt:e.createdAt??new Date,updatedAt:e.updatedAt??new Date})}static create(e){return new r({...e,helpfulYes:0,helpfulNo:0,createdAt:new Date,updatedAt:new Date})}get slug(){return this.props.slug}get title(){return this.props.title}get content(){return this.props.content}get categoryId(){return this.props.categoryId}get helpfulYes(){return this.props.helpfulYes}get helpfulNo(){return this.props.helpfulNo}get published(){return this.props.published}update(e){return this.clone({...e,updatedAt:new Date})}voteHelpful(e){return this.clone({helpfulYes:e?this.helpfulYes+1:this.helpfulYes,helpfulNo:e?this.helpfulNo:this.helpfulNo+1,updatedAt:new Date})}};var Pr=(c=>(c.TEXT="TEXT",c.NUMBER="NUMBER",c.SELECT="SELECT",c.MULTI_SELECT="MULTI_SELECT",c.DATE="DATE",c.CHECKBOX="CHECKBOX",c.URL="URL",c.EMAIL="EMAIL",c))(Pr||{}),gr=class r{constructor(e,t,o,s,n,i,p=!1,c=0,m=new Date,l=new Date){this.id=e;this.name=t;this.type=o;this.projectId=s;this.description=n;this.options=i;this.isRequired=p;this.position=c;this.createdAt=m;this.updatedAt=l}static create(e){if(!e.name)throw new Error("Name is required");if(!e.type)throw new Error("Type is required");if(!e.projectId)throw new Error("ProjectId is required");if((e.type==="SELECT"||e.type==="MULTI_SELECT")&&(!e.options||e.options.length===0))throw new Error("Select fields require options");return new r("",e.name,e.type,e.projectId,e.description,e.options,e.isRequired??!1,e.position??0)}update(e){e.name!==void 0&&(this.name=e.name),e.description!==void 0&&(this.description=e.description),e.options!==void 0&&(this.options=e.options),e.isRequired!==void 0&&(this.isRequired=e.isRequired),e.position!==void 0&&(this.position=e.position),this.updatedAt=new Date}};var hr=class r{constructor(e,t,o,s,n=new Date,i=new Date){this.id=e;this.fieldId=t;this.taskId=o;this.value=s;this.createdAt=n;this.updatedAt=i}static create(e){if(!e.fieldId)throw new Error("FieldId is required");if(!e.taskId)throw new Error("TaskId is required");return new r("",e.fieldId,e.taskId,e.value)}updateValue(e){this.value=e,this.updatedAt=new Date}};0&&(module.exports={AIProfile,AcceptInvitationUseCase,Achievement,AddMemberToWorkspaceUseCase,AddMentionUseCase,ArchiveProjectUseCase,ArchiveWorkspaceUseCase,AssignTagToTaskUseCase,Attachment,BlogComment,BlogPost,COMMENT_LIMITS,CalculateFocusScoreUseCase,ChangeUserName,ChangelogEntry,ChatConversation,ChatMessage,Comment,CompleteTaskUseCase,ContactSubmission,CountUnreadNotificationsUseCase,CreateAttachmentUseCase,CreateAuditLogUseCase,CreateCommentUseCase,CreateNoteUseCase,CreateNotificationUseCase,CreateProjectUseCase,CreateTagUseCase,CreateTaskUseCase,CreateWorkflowUseCase,CreateWorkspaceUseCase,CustomField,CustomFieldType,CustomFieldValue,DEFAULT_POMODORO_SETTINGS,DailyMetrics,DeleteAttachmentUseCase,DeleteCommentUseCase,DeleteNoteUseCase,DeleteNotificationUseCase,DeleteProjectUseCase,DeleteWorkflowUseCase,Email,Entity,FAQ,FILE_LIMITS,FindAllNotesUseCase,FindNoteUseCase,GenerateWeeklyReportUseCase,GetAttachmentByIdUseCase,GetAttachmentsByTaskUseCase,GetAttachmentsByUserUseCase,GetCommentsByTaskUseCase,GetCommentsByUserUseCase,GetDailyMetricsUseCase,GetDeletedProjectsUseCase,GetDeletedTasksUseCase,GetDeletedWorkspacesUseCase,GetNotificationByIdUseCase,GetNotificationsByTypeUseCase,GetOptimalScheduleUseCase,GetUnreadNotificationsUseCase,GetWorkspaceAuditLogsUseCase,GetWorkspaceSettingsUseCase,Habit,HashPassword,Id,InviteMemberUseCase,KBArticle,KBCategory,KeyResult,KeyResultTask,LearnFromSessionUseCase,ListWorkflowsUseCase,MEMBER_ROLES,MarkAllAsReadUseCase,MarkAsReadUseCase,MarkAsUnreadUseCase,MarkAsUploadedUseCase,MockAIService,NOTIFICATION_LIMITS,NewsletterSubscriber,Note,Notification,NotificationType,Objective,PAGINATION_LIMITS,PRIORITY_VALUES,PROJECT_COLORS,PROJECT_LIMITS,PROJECT_STATUS,PROJECT_STATUS_VALUES,PauseTimerUseCase,PermanentDeleteProjectUseCase,PermanentDeleteTaskUseCase,PermanentDeleteWorkspaceUseCase,PersonName,PredictTaskDurationUseCase,ProductivityReport,Project,RegisterUser,RemoveMemberFromWorkspaceUseCase,RemoveMentionUseCase,RemoveTagFromTaskUseCase,RequiredString,ResourceType,RestoreProjectUseCase,RestoreTaskUseCase,RestoreWorkspaceUseCase,ResumeTimerUseCase,RoadmapItem,RoadmapVote,SoftDeleteProjectUseCase,SoftDeleteTaskUseCase,SoftDeleteWorkspaceUseCase,StartTimerUseCase,StopTimerUseCase,SwitchTaskUseCase,TAG_COLORS,TAG_LIMITS,TASK_LIMITS,TASK_PRIORITIES,TASK_STATUS,TASK_STATUS_VALUES,TIMER_LIMITS,TIMER_MODES,TIMER_MODE_VALUES,Tag,Task,TaskTemplate,TimeSession,USER_LIMITS,UpdateCommentUseCase,UpdateDailyMetricsUseCase,UpdateNoteUseCase,UpdateProjectUseCase,UpdateTagUseCase,UpdateWorkflowUseCase,UpdateWorkspaceSettingsUseCase,User,UserAchievement,UserByEmail,UserLogin,WORKSPACE_COLORS,WORKSPACE_LIMITS,WORKSPACE_TYPES,Workflow,Workspace,WorkspaceAuditLog,WorkspaceInvitation,WorkspaceMember,WorkspaceSettings,acceptInvitationSchema,addAlpha,addDays,addHours,addMinutes,aiService,archiveProjectSchema,assignTagsSchema,bulkUpdateTasksSchema,calculateAverageCompletionTime,calculateAverageTime,calculateBurndownRate,calculateCompletionRate,calculateEfficiency,calculateEstimatedCompletion,calculateFocusScore,calculatePercentile,calculateProductivityScore,calculateProgress,calculateProjectHealth,calculateStreak,calculateTimeUtilization,calculateTotalTimeWorked,calculateVelocity,calculateVoteWeight,calculateWeightedAverage,camelToTitle,capitalize,capitalizeWords,categorizeTasksByAvailability,changePasswordSchema,commentBaseSchema,commentFilterSchema,countWords,createCommentSchema,createProjectSchema,createTagSchema,createTaskSchema,createWorkspaceSchema,darkenColor,duplicateProjectSchema,endOfDay,endOfWeek,formatDate,formatDateShort,formatDuration,formatDurationFromSeconds,formatFileSize,formatNumber,formatRelativeTime,formatScheduledDateTime,formatTimeOfDay,formatTimerDisplay,formatTimerDisplayExtended,generateId,generatePalette,generateRandomString,generateSlug,getColorWithOpacity,getContrastColor,getCurrentTime,getDaysDiff,getInitials,getPriorityColor,getPriorityConfig,getPriorityLabel,getTaskStatusColor,getTaskStatusConfig,getTaskStatusLabel,getTimerModeColor,getTimerModeConfig,getTimerModeDefaultDuration,getTimerModeLabel,getWorkableTasks,hexToRgb,hexToRgba,highlightSearchTerms,hoursToMinutes,inviteMemberSchema,isAfter,isAllowedFileType,isAlphanumeric,isBefore,isDarkColor,isDueToday,isFuture,isImageFile,isLightColor,isOverdue,isPast,isScheduledForToday,isTaskAvailable,isTaskCompleted,isTaskInProgress,isToday,isValidEmail,isValidUrl,isWorkingHours,lightenColor,loginUserSchema,minutesToHours,minutesToSeconds,mixColors,normalizeWhitespace,parseDuration,pluralize,projectBaseSchema,projectFilterSchema,randomColor,registerUserSchema,reorderTasksSchema,resetPasswordRequestSchema,resetPasswordSchema,rgbToHex,sanitizeHtml,secondsToMinutes,shouldTakeLongBreak,snakeToTitle,startOfDay,startOfToday,startOfWeek,stripHtmlTags,tagBaseSchema,tagFilterSchema,taskBaseSchema,taskDatesSchema,taskFilterSchema,transferOwnershipSchema,truncate,updateCommentSchema,updateMemberRoleSchema,updateProjectSchema,updateTagSchema,updateTaskSchema,updateUserProfileSchema,updateWorkspaceSchema,userPreferencesSchema,usernameValidationSchema,workspaceBaseSchema,workspaceFilterSchema,workspaceSettingsSchema});
//# sourceMappingURL=index.js.map