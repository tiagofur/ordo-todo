'use client';
import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from "react/jsx-runtime";
import { Search, Sparkles, Menu } from 'lucide-react';
import { DropdownMenu, DropdownMenuContent, DropdownMenuItem, DropdownMenuLabel, DropdownMenuSeparator, DropdownMenuTrigger, } from '../ui/dropdown-menu.js';
import { Button } from '../ui/button.js';
const DEFAULT_LABELS = {
    searchPlaceholder: 'Search tasks, projects...',
    myAccount: 'My Account',
    profile: 'Profile',
    settings: 'Settings',
    logout: 'Log out',
    aiCopilot: 'Ordo AI Copilot',
    level: 'Lvl',
    menu: 'Menu',
};
export function TopBar({ user, onLogout, onSearchChange, onSearchClick, onAICopilotClick, onProfileClick, onSettingsClick, onMenuClick, renderNotifications, renderSyncStatus, labels = {}, }) {
    const t = { ...DEFAULT_LABELS, ...labels };
    const userInitial = user?.name?.[0]?.toUpperCase() || 'U';
    const userName = user?.name || 'User';
    const userLevel = user?.level ?? 1;
    const userXp = user?.xp ?? 0;
    const xpProgress = Math.min(100, userXp % 100);
    return (_jsxs("header", { className: "sticky top-0 z-30 flex h-16 items-center gap-4 border-b border-border bg-background px-4 md:px-6", children: [onMenuClick && (_jsx(Button, { variant: "ghost", size: "icon", className: "lg:hidden h-10 w-10 rounded-xl", onClick: onMenuClick, "aria-label": t.menu, children: _jsx(Menu, { className: "h-5 w-5", "aria-hidden": "true" }) })), _jsx("div", { className: "flex flex-1 items-center gap-2", children: _jsx("div", { className: "relative w-full max-w-md", children: onSearchClick ? (_jsxs(_Fragment, { children: [_jsxs("button", { onClick: onSearchClick, className: "h-10 w-full rounded-xl border border-border/50 bg-muted/30 pl-10 pr-4 text-sm transition-all duration-200 placeholder:text-muted-foreground hover:bg-muted/50 focus:outline-none focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500/50 text-left text-muted-foreground hidden sm:flex items-center justify-between group", children: [_jsxs("span", { className: "flex items-center gap-2", children: [_jsx(Search, { className: "h-4 w-4" }), _jsx("span", { children: t.searchPlaceholder })] }), _jsxs("kbd", { className: "pointer-events-none hidden h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium opacity-100 sm:flex", children: [_jsx("span", { className: "text-xs", children: "\u2318" }), "K"] })] }), _jsx(Button, { variant: "ghost", size: "icon", className: "sm:hidden h-10 w-10 rounded-xl", title: t.searchPlaceholder, onClick: onSearchClick, children: _jsx(Search, { className: "h-5 w-5" }) })] })) : (_jsxs(_Fragment, { children: [_jsx(Search, { className: "absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground" }), _jsx("input", { type: "search", placeholder: t.searchPlaceholder, onChange: (e) => onSearchChange?.(e.target.value), className: "h-10 w-full rounded-xl border border-border/50 bg-muted/30 pl-10 pr-4 text-sm transition-all duration-200 placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500/50 focus:bg-background hidden sm:block" }), _jsx(Button, { variant: "ghost", size: "icon", className: "sm:hidden h-10 w-10 rounded-xl", title: t.searchPlaceholder, children: _jsx(Search, { className: "h-5 w-5" }) })] })) }) }), _jsxs("div", { className: "flex items-center gap-2", children: [_jsx("div", { className: "hidden md:flex items-center gap-3 mr-2 px-3 py-1.5 rounded-lg bg-muted/30 border border-border/50", children: _jsxs("div", { className: "flex flex-col items-end", children: [_jsxs("div", { className: "flex items-center gap-2", children: [_jsxs("span", { className: "text-xs font-bold text-primary", children: [t.level, " ", userLevel] }), _jsxs("span", { className: "text-[10px] text-muted-foreground", children: [userXp, " XP"] })] }), _jsx("div", { className: "w-20 h-1.5 bg-secondary rounded-full overflow-hidden mt-1", children: _jsx("div", { className: "h-full bg-yellow-500 rounded-full transition-all duration-500", style: { width: `${xpProgress}%` } }) })] }) }), renderSyncStatus?.(), _jsx(Button, { variant: "ghost", size: "icon", className: "text-purple-600 hover:text-purple-700 hover:bg-purple-50 dark:text-purple-400 dark:hover:bg-purple-900/20 h-10 w-10 rounded-xl", "aria-label": t.aiCopilot, onClick: onAICopilotClick, children: _jsx(Sparkles, { className: "h-5 w-5", "aria-hidden": "true" }) }), renderNotifications?.(), _jsxs(DropdownMenu, { children: [_jsx(DropdownMenuTrigger, { asChild: true, children: _jsxs("button", { className: "flex h-10 items-center gap-2 rounded-xl px-3 transition-all duration-200 hover:bg-muted/50", "aria-label": `Men√∫ de usuario: ${userName}`, children: [_jsx("div", { className: "flex h-8 w-8 items-center justify-center rounded-full bg-primary text-sm font-medium text-primary-foreground", "aria-hidden": "true", children: userInitial }), _jsx("span", { className: "hidden text-sm font-medium md:inline-block", children: userName })] }) }), _jsxs(DropdownMenuContent, { align: "end", className: "w-56", children: [_jsx(DropdownMenuLabel, { children: t.myAccount }), _jsx(DropdownMenuSeparator, {}), _jsx(DropdownMenuItem, { onClick: onProfileClick, children: t.profile }), _jsx(DropdownMenuItem, { onClick: onSettingsClick, children: t.settings }), _jsx(DropdownMenuSeparator, {}), _jsx(DropdownMenuItem, { onClick: onLogout, children: t.logout })] })] })] })] }));
}
